{"ast":null,"code":"import SelectPessoaComponent from '@/components/SelectPessoaComponent';\nimport SelectProdutoComponent from '@/components/SelectProdutoComponent';\nimport VendasChartComponent from './components/VendasChartComponent';\nimport ClientesChartComponent from './components/ClientesChartComponent';\nimport ProdutosChartComponent from './components/ProdutosChartComponent';\nimport CategoryChartComponent from './components/CategoryChartComponent';\nimport MediaTableComponent from './components/MediaTableComponent';\nimport VendasDiaChartComponent from './components/VendasDiaChartComponent';\nexport default {\n  name: 'DashboardSaleComponent',\n  components: {\n    SelectPessoaComponent,\n    SelectProdutoComponent,\n    VendasChartComponent,\n    ClientesChartComponent,\n    ProdutosChartComponent,\n    CategoryChartComponent,\n    MediaTableComponent,\n    VendasDiaChartComponent\n  },\n  data() {\n    return {\n      selectedPeople: '',\n      filter: {},\n      selectedProduct: '',\n      selectedData: '',\n      selectedDateEnd: '',\n      selectedOrdData: '',\n      selectedOrdValor: '',\n      handlePages: '',\n      currentMonthSale: [],\n      sale: [],\n      arrayPage: [],\n      paginate: {},\n      minSearchLength: 3,\n      currentPage: 1,\n      itemsPerPage: 10\n    };\n  },\n  computed: {},\n  methods: {\n    formatDate(dateString) {\n      const date = new Date(dateString);\n      return date.toLocaleDateString('pt-BR');\n    },\n    formatCurrency(value) {\n      const intValue = parseInt(value, 10);\n      return intValue.toLocaleString('pt-BR', {\n        style: 'currency',\n        currency: 'BRL'\n      });\n    },\n    async getAll() {\n      try {\n        const params = this.buildParams();\n      } catch (error) {\n        console.error('Erro ao obter vendas', error);\n        this.sale = [];\n        this.paginate = [];\n      }\n    },\n    shouldApplyFilter() {\n      return this.selectedPeople || this.selectedProduct || this.selectedData || this.selectedDateEnd || this.selectedOrdData || this.selectedOrdValor;\n    },\n    buildParams() {\n      const params = {};\n      if (this.selectedPeople) {\n        params.pessoa_id = this.selectedPeople;\n      }\n      if (this.selectedProduct) {\n        params.produto_id = this.selectedProduct;\n      }\n      if (this.selectedData) {\n        params.data = this.selectedData;\n      }\n      if (this.selectedDateEnd) {\n        params.data_fim = this.selectedDateEnd;\n      }\n      if (this.selectedOrdData) {\n        params.ord_data = this.selectedOrdData;\n      }\n      if (this.selectedOrdValor) {\n        params.ord_valor = this.selectedOrdValor;\n      }\n      if (this.handlePages) {\n        params.page = this.handlePages;\n      }\n      this.filter = params;\n      return params;\n    },\n    updateSelectedPeople(peopleId) {\n      this.selectedPeople = peopleId;\n    },\n    updatecurrentMonthSale(props) {\n      this.currentMonthSale = props;\n    },\n    updateSelectedProduct(productId) {\n      this.selectedProduct = productId;\n      this.handleFilterChange();\n    },\n    handleFilterChange() {\n      if (this.shouldApplyFilter()) {\n        this.currentPage = 1;\n      } else {\n        this.getAll();\n      }\n    }\n  },\n  watch: {\n    selectedPeople() {\n      if (this.shouldApplyFilter()) {\n        this.getAll();\n      }\n    },\n    selectedProduct() {\n      if (this.shouldApplyFilter()) {\n        this.getAll();\n      }\n    },\n    selectedData() {\n      if (this.shouldApplyFilter()) {\n        this.getAll();\n      }\n    },\n    selectedDateEnd() {\n      if (this.shouldApplyFilter()) {\n        this.getAll();\n      }\n    },\n    selectedOrdData() {\n      if (this.shouldApplyFilter()) {\n        this.getAll();\n      }\n    },\n    selectedOrdValor() {\n      if (this.shouldApplyFilter()) {\n        this.getAll();\n      }\n    },\n    currentMonthSale() {}\n  }\n};","map":{"version":3,"names":["SelectPessoaComponent","SelectProdutoComponent","VendasChartComponent","ClientesChartComponent","ProdutosChartComponent","CategoryChartComponent","MediaTableComponent","VendasDiaChartComponent","name","components","data","selectedPeople","filter","selectedProduct","selectedData","selectedDateEnd","selectedOrdData","selectedOrdValor","handlePages","currentMonthSale","sale","arrayPage","paginate","minSearchLength","currentPage","itemsPerPage","computed","methods","formatDate","dateString","date","Date","toLocaleDateString","formatCurrency","value","intValue","parseInt","toLocaleString","style","currency","getAll","params","buildParams","error","console","shouldApplyFilter","pessoa_id","produto_id","data_fim","ord_data","ord_valor","page","updateSelectedPeople","peopleId","updatecurrentMonthSale","props","updateSelectedProduct","productId","handleFilterChange","watch"],"sources":["/home/brenomatheus/Documentos/Sistema de Controle de estoque e venda/BrenoMatheus-Sistema-Estoque-Venda/frontend/src/pages/Home/components/Venda/DashboardSaleComponent.vue"],"sourcesContent":["<template>\n  <div class=\"flex justify-center items-center text-gray-700 dark:text-white \">\n    <div class=\"w-full sm:p-6 md:p-8 dark:bg-gray-800 bg-gray-100\">\n      <div class=\"w-auto\">\n        <div class=\"flex flex-wrap items-center justify-start mb-4\">\n          <div class=\"md:px-3 md:mb-0\">\n            <label\n              class=\"block uppercase tracking-wide text-xs font-bold mb-2\"\n              for=\"data\"\n            >\n              Data Inicio\n            </label>\n            <input\n              v-model=\"selectedData\"\n              @input=\"handleFilterChange\"\n              class=\"md:py-2 md:px-3 py-1 px-1 rounded border mr-4 border-gray-300 shadow-lg bg-gray-200 shadow-indigo-500/40 dark:bg-gray-600 dark:shadow-gray-600/40\"\n              type=\"date\"\n              id=\"data\"\n            />\n          </div>\n\n          <div class=\"md:px-3 md:mb-0\">\n            <label\n              class=\"block uppercase tracking-wide text-xs font-bold mb-2\"\n              for=\"data_fim\"\n            >\n              Data Fim\n            </label>\n            <input\n              v-model=\"selectedDateEnd\"\n              @input=\"handleFilterChange\"\n              class=\"md:py-2 md:px-3 py-1 px-1 rounded border mr-4 border-gray-300 shadow-lg bg-gray-200 shadow-indigo-500/40 dark:bg-gray-600 dark:shadow-gray-600/40\"\n              id=\"data_fim\"\n              type=\"date\"\n            />\n          </div>\n        </div>\n\n        <div class=\"flex flex-wrap items-center justify-between mb-4 md:pl-4\">\n          <div class=\"mb-4 w-full md:w-1/5\">\n            <label class=\"block uppercase tracking-wide text-xs font-bold mb-2\">\n              Cliente\n            </label>\n            <SelectPessoaComponent @people-selected=\"updateSelectedPeople\" :grupo-id=\"1\" />\n          </div>\n\n          <div class=\"mb-4 w-full md:w-1/5\">\n            <label class=\"block uppercase tracking-wide text-xs font-bold mb-2\">\n              Produtos\n            </label>\n            <SelectProdutoComponent @product-selected=\"updateSelectedProduct\" />\n          </div>\n\n          <div class=\"mb-4\">\n            <label class=\"block uppercase tracking-wide text-xs font-bold mb-2\">\n              Ordenar Data\n            </label>\n            <select\n              v-model=\"selectedOrdData\"\n              class=\"md:py-2 md:px-3 py-1 px-1 rounded border-2 border-gray-300 mr-4 shadow-lg bg-gray-200 shadow-indigo-500/40 dark:bg-gray-600 dark:shadow-gray-600/40\"\n              @change=\"handleFilterChange\"\n            >\n              <option value=\"\" selected>Ordenar Data</option>\n              <option value=\"1\">Crescente</option>\n              <option value=\"0\">Decrescente</option>\n            </select>\n          </div>\n\n          <div class=\"mb-4\">\n            <label class=\"block uppercase tracking-wide text-xs font-bold mb-2\">\n              Ordenar Preço\n            </label>\n            <select\n              v-model=\"selectedOrdValor\"\n              class=\"md:py-2 md:px-3 py-1 px-1 rounded border-2 border-gray-300 mr-4 shadow-lg bg-gray-200 shadow-indigo-500/40 dark:bg-gray-600 dark:shadow-gray-600/40\"\n              @change=\"handleFilterChange\"\n            >\n              <option value=\"\" selected>Ordenar Preço</option>\n              <option value=\"1\">Crescente</option>\n              <option value=\"0\">Decrescente</option>\n            </select>\n          </div>\n        </div>\n      </div>\n\n      <div class=\"flex gap-2\">\n        <div\n          class=\"relative w-3/5 md:h-20 flex border-x-2 border-b-2 border-gray-500 rounded-md items-center\"\n        >\n          <span class=\"absolute -left-0 -top-4 font-bold text-sm\"\n            >Vendas mês</span\n          >\n          <span class=\"absolute -right-0 -top-4 font-bold text-sm\"\n            >Valores mês</span\n          >\n          <div\n            class=\"w-full h-full pr-2 bg-green-400 dark:bg-green-800 dark:text-white justify-center items-center flex\"\n          >\n            <h3 class=\"md:text-2xl text-lg font-bold pl-2\">\n              {{ currentMonthSale ? currentMonthSale.total_quantidade : '-' }}\n            </h3>\n          </div>\n          <div\n            class=\"w-full h-full pl-2 bg-green-500 dark:bg-green-900 dark:text-white justify-center items-center flex\"\n          >\n            <h3 class=\"md:text-2xl text-lg font-bold pr-2\">\n              {{\n                currentMonthSale\n                  ? formatCurrency(currentMonthSale.total_preco)\n                  : '-'\n              }}\n            </h3>\n          </div>\n        </div>\n\n        <div\n          class=\"relative w-2/5 h-20 flex border-x-2 border-b-2 border-gray-500 rounded-md items-center\"\n        >\n          <span class=\"absolute -left-0 -top-4 font-bold text-sm\"\n            >Ticket médio mês</span\n          >\n\n          <div\n            class=\"w-full h-full bg-yellow-400 dark:bg-yellow-600 dark:text-white justify-center items-center flex float-end\"\n          >\n            <h3 class=\"md:text-2xl text-lg font-bold md:pl-2\">{{\n                currentMonthSale\n                  ? formatCurrency(currentMonthSale.ticket)\n                  : '-'\n              }}</h3>\n          </div>\n        </div>\n      </div>\n\n      <div>\n        <div class=\" flex-row md:flex w-full\">\n          <div class=\"w-full\">\n            <ClientesChartComponent :filter=\"filter\" />\n          </div>\n          <div class=\"md:w-1/2 w-full\">\n            <div class=\"\">\n              <VendasChartComponent\n                @currentMonth=\"updatecurrentMonthSale\"\n                :filter=\"filter\"\n              />\n            </div>\n          </div>\n        </div>\n      </div>\n\n        <div class=\"flex w-full\">\n            <ProdutosChartComponent :filter=\"filter\" />\n        </div>\n\n        <div class=\"flex w-full\">\n          <CategoryChartComponent :filter=\"filter\" />\n      </div>\n      <div class=\"flex-row md:flex w-full gap-4\">\n        <div class=\"w-full md:w-1/3\">\n          <MediaTableComponent  />\n        </div>\n        <div class=\"w-full md:w-2/3\">\n          <VendasDiaChartComponent :filter=\"filter\" />\n        </div>\n    </div>\n\n  \n\n     \n    </div>\n  </div>\n</template>\n\n<script>\nimport SelectPessoaComponent from '@/components/SelectPessoaComponent';\nimport SelectProdutoComponent from '@/components/SelectProdutoComponent';\nimport VendasChartComponent from './components/VendasChartComponent';\nimport ClientesChartComponent from './components/ClientesChartComponent';\nimport ProdutosChartComponent from './components/ProdutosChartComponent';\nimport CategoryChartComponent from './components/CategoryChartComponent';\nimport MediaTableComponent from './components/MediaTableComponent';\nimport VendasDiaChartComponent from './components/VendasDiaChartComponent';\n\nexport default {\n  name: 'DashboardSaleComponent',\n  components: {\n    SelectPessoaComponent,\n    SelectProdutoComponent,\n    VendasChartComponent,\n    ClientesChartComponent,\n    ProdutosChartComponent,\n    CategoryChartComponent,\n    MediaTableComponent,\n    VendasDiaChartComponent\n  },\n  data() {\n    return {\n      selectedPeople: '',\n      filter: {},\n      selectedProduct: '',\n      selectedData: '',\n      selectedDateEnd: '',\n      selectedOrdData: '',\n      selectedOrdValor: '',\n      handlePages: '',\n      currentMonthSale: [],\n      sale: [],\n      arrayPage: [],\n      paginate: {},\n      minSearchLength: 3,\n      currentPage: 1,\n      itemsPerPage: 10,\n    };\n  },\n  computed: {},\n  methods: {\n    formatDate(dateString) {\n      const date = new Date(dateString);\n      return date.toLocaleDateString('pt-BR');\n    },\n    formatCurrency(value) {\n      const intValue = parseInt(value, 10);\n      return intValue.toLocaleString('pt-BR', {\n        style: 'currency',\n        currency: 'BRL',\n      });\n    },\n\n    async getAll() {\n      try {\n        const params = this.buildParams();\n      } catch (error) {\n        console.error('Erro ao obter vendas', error);\n        this.sale = [];\n        this.paginate = [];\n      }\n    },\n\n    shouldApplyFilter() {\n      return (\n        this.selectedPeople ||\n        this.selectedProduct ||\n        this.selectedData ||\n        this.selectedDateEnd ||\n        this.selectedOrdData ||\n        this.selectedOrdValor \n      );\n    },\n\n    buildParams() {\n      const params = {};\n      if (this.selectedPeople) {\n        params.pessoa_id = this.selectedPeople;\n      }\n      if (this.selectedProduct) {\n        params.produto_id = this.selectedProduct;\n      }\n\n      if (this.selectedData) {\n        params.data = this.selectedData;\n      }\n      if (this.selectedDateEnd) {\n        params.data_fim = this.selectedDateEnd;\n      }\n      if (this.selectedOrdData) {\n        params.ord_data = this.selectedOrdData;\n      }\n      if (this.selectedOrdValor) {\n        params.ord_valor = this.selectedOrdValor;\n      }\n      \n      if (this.handlePages) {\n        params.page = this.handlePages;\n      }\n      this.filter = params;\n\n      return params;\n    },\n\n    updateSelectedPeople(peopleId) {\n      this.selectedPeople = peopleId;\n    },\n\n    updatecurrentMonthSale(props) {\n      this.currentMonthSale = props;\n    },\n\n    updateSelectedProduct(productId) {\n      this.selectedProduct = productId;\n      this.handleFilterChange();\n    },\n    handleFilterChange() {\n      if (this.shouldApplyFilter()) {\n        this.currentPage = 1;\n      } else {\n        this.getAll();\n      }\n    },\n\n  },\n  watch: {\n    selectedPeople() {\n      if (this.shouldApplyFilter()) {\n        this.getAll();\n      }\n    },\n    selectedProduct() {\n      if (this.shouldApplyFilter()) {\n        this.getAll();\n      }\n    },\n    selectedData() {\n      if (this.shouldApplyFilter()) {\n        this.getAll();\n      }\n    },\n    selectedDateEnd() {\n      if (this.shouldApplyFilter()) {\n        this.getAll();\n      }\n    },\n    selectedOrdData() {\n      if (this.shouldApplyFilter()) {\n        this.getAll();\n      }\n    },\n    selectedOrdValor() {\n      if (this.shouldApplyFilter()) {\n        this.getAll();\n      }\n    },\n    currentMonthSale() {\n    },\n\n  },\n  \n};\n</script>\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}