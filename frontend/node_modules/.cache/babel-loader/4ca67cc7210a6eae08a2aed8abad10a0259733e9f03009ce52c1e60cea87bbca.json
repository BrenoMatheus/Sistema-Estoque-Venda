{"ast":null,"code":"import { createElementVNode as _createElementVNode, vModelText as _vModelText, withDirectives as _withDirectives, resolveComponent as _resolveComponent, createVNode as _createVNode, toDisplayString as _toDisplayString, normalizeClass as _normalizeClass, withCtx as _withCtx, openBlock as _openBlock, createBlock as _createBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\";\nconst _withScopeId = n => (_pushScopeId(\"data-v-a4340136\"), n = n(), _popScopeId(), n);\nconst _hoisted_1 = {\n  class: \"flex justify-center items-center\"\n};\nconst _hoisted_2 = {\n  class: \"w-full p-4 sm:p-6 md:p-8 dark:bg-gray-800\"\n};\nconst _hoisted_3 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"h5\", {\n  class: \"text-xl font-medium text-gray-900 dark:text-white text-center border-b-2 mb-4 pb-4 border-gray-900\"\n}, \" Cadastro de Venda \", -1 /* HOISTED */));\nconst _hoisted_4 = {\n  class: \"w-auto\"\n};\nconst _hoisted_5 = {\n  class: \"p-2\"\n};\nconst _hoisted_6 = {\n  class: \"flex flex-wrap -mx-3 mb-6\"\n};\nconst _hoisted_7 = {\n  class: \"w-full md:w-1/2 px-3 mb-6 md:mb-0\"\n};\nconst _hoisted_8 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"label\", {\n  class: \"block uppercase tracking-wide text-gray-700 text-xs font-bold mb-2\",\n  for: \"data\"\n}, \" Data \", -1 /* HOISTED */));\nconst _hoisted_9 = {\n  class: \"flex flex-wrap -mx-3 mb-2\"\n};\nconst _hoisted_10 = {\n  class: \"w-full md:w-1/2 px-3 mb-6 md:mb-0\"\n};\nconst _hoisted_11 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"label\", {\n  for: \"grid-state\",\n  class: \"block uppercase tracking-wide text-gray-700 text-xs font-bold mb-2\"\n}, \"Cliente\", -1 /* HOISTED */));\nconst _hoisted_12 = {\n  class: \"w-full md:w-1/2 px-3 mb-6 md:mb-0\"\n};\nconst _hoisted_13 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"label\", {\n  for: \"grid-state\",\n  class: \"block uppercase tracking-wide text-gray-700 text-xs font-bold mb-2\"\n}, \"Produto\", -1 /* HOISTED */));\nconst _hoisted_14 = {\n  class: \"flex flex-wrap -mx-3 mb-6\"\n};\nconst _hoisted_15 = {\n  class: \"w-full md:w-1/2 px-3 mb-6 md:mb-0\"\n};\nconst _hoisted_16 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"label\", {\n  class: \"block uppercase tracking-wide text-gray-700 text-xs font-bold mb-2\",\n  for: \"quantidade\"\n}, \" Quantidade \", -1 /* HOISTED */));\nconst _hoisted_17 = {\n  class: \"w-full md:w-1/2 px-3 mb-6 md:mb-0\"\n};\nconst _hoisted_18 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"label\", {\n  class: \"block uppercase tracking-wide text-gray-700 text-xs font-bold mb-2\",\n  for: \"preco\"\n}, \" Preço \", -1 /* HOISTED */));\nconst _hoisted_19 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"pt-4\"\n}, [/*#__PURE__*/_createElementVNode(\"button\", {\n  type: \"submit\",\n  class: \"w-full text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800\"\n}, \" Cadastrar \")], -1 /* HOISTED */));\nconst _hoisted_20 = {\n  class: \"mt-4\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_SelectPessoaComponent = _resolveComponent(\"SelectPessoaComponent\");\n  const _component_SelectProdutoComponent = _resolveComponent(\"SelectProdutoComponent\");\n  const _component_DashboardComponent = _resolveComponent(\"DashboardComponent\");\n  return _openBlock(), _createBlock(_component_DashboardComponent, null, {\n    \"slot-pages\": _withCtx(() => [_createElementVNode(\"div\", _hoisted_1, [_createElementVNode(\"div\", _hoisted_2, [_hoisted_3, _createElementVNode(\"div\", _hoisted_4, [_createElementVNode(\"form\", _hoisted_5, [_createElementVNode(\"div\", _hoisted_6, [_createElementVNode(\"div\", _hoisted_7, [_hoisted_8, _withDirectives(_createElementVNode(\"input\", {\n      \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => $setup.formData.data = $event),\n      class: \"appearance-none block w-full bg-gray-200 text-gray-700 border border-gray-200 rounded py-3 px-4 mb-3 leading-tight focus:outline-none focus:bg-white focus:border-gray-500\",\n      id: \"data\",\n      type: \"date\"\n    }, null, 512 /* NEED_PATCH */), [[_vModelText, $setup.formData.data]])])]), _createElementVNode(\"div\", _hoisted_9, [_createElementVNode(\"div\", _hoisted_10, [_hoisted_11, _createVNode(_component_SelectPessoaComponent, {\n      modelValue: $setup.formData.cliente_id,\n      \"onUpdate:modelValue\": _cache[1] || (_cache[1] = $event => $setup.formData.cliente_id = $event),\n      initialGroup: $setup.formData.cliente_id\n    }, null, 8 /* PROPS */, [\"modelValue\", \"initialGroup\"])]), _createElementVNode(\"div\", _hoisted_12, [_hoisted_13, _createVNode(_component_SelectProdutoComponent, {\n      modelValue: $setup.formData.produto_id,\n      \"onUpdate:modelValue\": _cache[2] || (_cache[2] = $event => $setup.formData.produto_id = $event),\n      initialGroup: $setup.formData.produto_id\n    }, null, 8 /* PROPS */, [\"modelValue\", \"initialGroup\"])])]), _createElementVNode(\"div\", _hoisted_14, [_createElementVNode(\"div\", _hoisted_15, [_hoisted_16, _withDirectives(_createElementVNode(\"input\", {\n      class: \"appearance-none block w-full bg-gray-200 text-gray-700 border border-gray-200 rounded py-3 px-4 mb-3 leading-tight focus:outline-none focus:bg-white focus:border-gray-500\",\n      id: \"quantidade\",\n      type: \"number\",\n      \"onUpdate:modelValue\": _cache[3] || (_cache[3] = $event => $setup.formData.quantidade = $event)\n    }, null, 512 /* NEED_PATCH */), [[_vModelText, $setup.formData.quantidade]])]), _createElementVNode(\"div\", _hoisted_17, [_hoisted_18, _withDirectives(_createElementVNode(\"input\", {\n      \"onUpdate:modelValue\": _cache[4] || (_cache[4] = $event => $setup.formData.preco = $event),\n      class: \"appearance-none block w-full bg-gray-200 text-gray-700 border border-gray-200 rounded py-3 px-4 mb-3 leading-tight focus:outline-none focus:bg-white focus:border-gray-500\",\n      id: \"preco\",\n      type: \"number\"\n    }, null, 512 /* NEED_PATCH */), [[_vModelText, $setup.formData.preco]])])]), _hoisted_19, _createElementVNode(\"div\", _hoisted_20, [_createElementVNode(\"span\", {\n      class: _normalizeClass([\"text-center text-sm\", {\n        'text-green-500': _ctx.sucesso,\n        'text-red-500': !_ctx.sucesso && _ctx.feedbackMessage\n      }])\n    }, _toDisplayString(_ctx.feedbackMessage), 3 /* TEXT, CLASS */)])])])])])]),\n    _: 1 /* STABLE */\n  });\n}","map":{"version":3,"names":["class","_createElementVNode","for","type","_createBlock","_component_DashboardComponent","_withCtx","_hoisted_1","_hoisted_2","_hoisted_3","_hoisted_4","_hoisted_5","_hoisted_6","_hoisted_7","_hoisted_8","_cache","$event","$setup","formData","data","id","_hoisted_9","_hoisted_10","_hoisted_11","_createVNode","_component_SelectPessoaComponent","modelValue","cliente_id","initialGroup","_hoisted_12","_hoisted_13","_component_SelectProdutoComponent","produto_id","_hoisted_14","_hoisted_15","_hoisted_16","quantidade","_hoisted_17","_hoisted_18","preco","_hoisted_19","_hoisted_20","_normalizeClass","_ctx","sucesso","feedbackMessage","_"],"sources":["/home/brenomatheus/Documentos/Teste Pratico DEV Junior/frontend/src/pages/Venda/DetailComponent.vue"],"sourcesContent":["<template>\n  <DashboardComponent>\n    <template v-slot:slot-pages>\n      <div class=\"flex justify-center items-center\">\n        <div class=\"w-full p-4 sm:p-6 md:p-8 dark:bg-gray-800\">\n          <h5\n            class=\"text-xl font-medium text-gray-900 dark:text-white text-center border-b-2 mb-4 pb-4 border-gray-900\"\n          >\n            Cadastro de Venda\n          </h5>\n          <div class=\"w-auto\">\n            <form class=\"p-2\">\n              <div class=\"flex flex-wrap -mx-3 mb-6\">\n                <div class=\"w-full md:w-1/2 px-3 mb-6 md:mb-0\">\n                  <label\n                    class=\"block uppercase tracking-wide text-gray-700 text-xs font-bold mb-2\"\n                    for=\"data\"\n                  >\n                    Data\n                  </label>\n                  <input\n                    v-model=\"formData.data\"\n                    class=\"appearance-none block w-full bg-gray-200 text-gray-700 border border-gray-200 rounded py-3 px-4 mb-3 leading-tight focus:outline-none focus:bg-white focus:border-gray-500\"\n                    id=\"data\"\n                    type=\"date\"\n                  />\n                </div>\n              </div>\n              <div class=\"flex flex-wrap -mx-3 mb-2\">\n                <div class=\"w-full md:w-1/2 px-3 mb-6 md:mb-0\">\n                  <label\n                    for=\"grid-state\"\n                    class=\"block uppercase tracking-wide text-gray-700 text-xs font-bold mb-2\"\n                    >Cliente</label\n                  >\n                  <SelectPessoaComponent\n                    v-model=\"formData.cliente_id\"\n                    :initialGroup=\"formData.cliente_id\"\n                  />\n                </div>\n                <div class=\"w-full md:w-1/2 px-3 mb-6 md:mb-0\">\n                  <label\n                    for=\"grid-state\"\n                    class=\"block uppercase tracking-wide text-gray-700 text-xs font-bold mb-2\"\n                    >Produto</label\n                  >\n                  <SelectProdutoComponent\n                    v-model=\"formData.produto_id\"\n                    :initialGroup=\"formData.produto_id\"\n                  />\n                </div>\n              </div>\n              <div class=\"flex flex-wrap -mx-3 mb-6\">\n                <div class=\"w-full md:w-1/2 px-3 mb-6 md:mb-0\">\n                  <label\n                    class=\"block uppercase tracking-wide text-gray-700 text-xs font-bold mb-2\"\n                    for=\"quantidade\"\n                  >\n                    Quantidade\n                  </label>\n                  <input\n                    class=\"appearance-none block w-full bg-gray-200 text-gray-700 border border-gray-200 rounded py-3 px-4 mb-3 leading-tight focus:outline-none focus:bg-white focus:border-gray-500\"\n                    id=\"quantidade\"\n                    type=\"number\"\n                    v-model=\"formData.quantidade\"\n                  />\n                </div>\n                <div class=\"w-full md:w-1/2 px-3 mb-6 md:mb-0\">\n                  <label\n                    class=\"block uppercase tracking-wide text-gray-700 text-xs font-bold mb-2\"\n                    for=\"preco\"\n                  >\n                    Preço\n                  </label>\n                  <input\n                    v-model=\"formData.preco\"\n                    class=\"appearance-none block w-full bg-gray-200 text-gray-700 border border-gray-200 rounded py-3 px-4 mb-3 leading-tight focus:outline-none focus:bg-white focus:border-gray-500\"\n                    id=\"preco\"\n                    type=\"number\"\n                  />\n                </div>\n              </div>\n\n              <div class=\"pt-4\">\n                <button\n                  type=\"submit\"\n                  class=\"w-full text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800\"\n                >\n                  Cadastrar\n                </button>\n              </div>\n              <div class=\"mt-4\">\n                <span\n                  class=\"text-center text-sm\"\n                  :class=\"{\n                    'text-green-500': sucesso,\n                    'text-red-500': !sucesso && feedbackMessage,\n                  }\"\n                  >{{ feedbackMessage }}</span\n                >\n              </div>\n            </form>\n          </div>\n        </div>\n      </div>\n    </template>\n  </DashboardComponent>\n</template>\n\n<script>\nimport VendasService from '../../services/api/vendas/VendasService';\nimport DashboardComponent from '../Dashboard/DashboardComponent';\nimport SelectPessoaComponent from './components/SelectPessoaComponent';\nimport SelectProdutoComponent from './components/SelectProdutoComponent';\nimport { ref, reactive, watchEffect } from 'vue';\nimport { useRoute, useRouter } from 'vue-router';\n\nexport default {\n  name: 'SaleDetailComponent',\n\n  components: {\n    DashboardComponent,\n    SelectPessoaComponent,\n    SelectProdutoComponent,\n  },\n\n  setup() {\n    const route = useRoute();\n    const router = useRouter();\n    const formRef = ref(null);\n    const id = route.params.id || 'nova';\n    const formData = reactive({\n      nome: '',\n      descricao: '',\n      status: '',\n      marca_id: '',\n      grupo_venda_id: '',\n      quantidade: '',\n      preco: '',\n    });\n    const triedToSubmit = ref(false);\n\n    watchEffect(() => {\n      if (id !== 'nova') {\n        VendasService.getById(id).then(result => {\n          if (result instanceof Error) {\n            alert(result.message);\n            router.push('/venda');\n          } else {\n            const { venda } = result;\n            formData.nome = venda.nome;\n            formData.descricao = venda.descricao;\n            formData.status = venda.status;\n            formData.grupo_venda_id = venda.grupo_venda_id;\n            formData.marca_id = venda.marca_id;\n            formData.quantidade = venda.quantidade;\n            formData.preco = venda.preco;\n          }\n        });\n      } else {\n        formRef.value?.setData({});\n      }\n    });\n\n    const handleSave = () => {\n      triedToSubmit.value = true;\n      if (id === 'nova') {\n        VendasService.cadastrar(formData).then(result => {\n          if (result instanceof Error) {\n            alert(result.message);\n          } else {\n            router.push(`/venda`);\n          }\n        });\n      } else {\n        VendasService.atualizar(id, {\n          id: id,\n          ...formData,\n        }).then(result => {\n          if (result instanceof Error) {\n            alert(result.message);\n          } else {\n            router.push('/venda');\n          }\n        });\n      }\n    };\n\n    return { formRef, formData, handleSave };\n  },\n};\n</script>\n\n<style scoped>\n.invalid-input {\n  border-color: red;\n}\n</style>\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}