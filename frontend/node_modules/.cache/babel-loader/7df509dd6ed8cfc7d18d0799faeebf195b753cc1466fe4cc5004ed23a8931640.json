{"ast":null,"code":"import { createElementVNode as _createElementVNode, vModelText as _vModelText, withDirectives as _withDirectives, resolveComponent as _resolveComponent, createVNode as _createVNode, toDisplayString as _toDisplayString, normalizeClass as _normalizeClass, withModifiers as _withModifiers, withCtx as _withCtx, openBlock as _openBlock, createBlock as _createBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\";\nconst _withScopeId = n => (_pushScopeId(\"data-v-c21c09c2\"), n = n(), _popScopeId(), n);\nconst _hoisted_1 = {\n  class: \"flex justify-center items-center text-gray-700 dark:text-white\"\n};\nconst _hoisted_2 = {\n  class: \"w-full p-4 sm:p-6 md:p-8 dark:bg-gray-800\"\n};\nconst _hoisted_3 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"h5\", {\n  class: \"text-xl font-medium text-gray-900 dark:text-white text-center border-b-2 mb-4 pb-4 border-gray-900\"\n}, \" Cadastro de Compra \", -1 /* HOISTED */));\nconst _hoisted_4 = {\n  class: \"w-auto\"\n};\nconst _hoisted_5 = {\n  class: \"flex flex-wrap -mx-3 mb-6\"\n};\nconst _hoisted_6 = {\n  class: \"w-full md:w-1/2 px-3 mb-6 md:mb-0\"\n};\nconst _hoisted_7 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"label\", {\n  class: \"block uppercase tracking-wide text-xs font-bold mb-2\",\n  for: \"data\"\n}, \" Data \", -1 /* HOISTED */));\nconst _hoisted_8 = {\n  class: \"flex flex-wrap -mx-3 mb-2\"\n};\nconst _hoisted_9 = {\n  class: \"w-full md:w-1/2 px-3 mb-6 md:mb-0\"\n};\nconst _hoisted_10 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"label\", {\n  for: \"grid-state\",\n  class: \"block uppercase tracking-wide text-xs font-bold mb-2\"\n}, \"Fornecedor\", -1 /* HOISTED */));\nconst _hoisted_11 = {\n  class: \"w-full md:w-1/2 px-3 mb-6 md:mb-0\"\n};\nconst _hoisted_12 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"label\", {\n  for: \"grid-state\",\n  class: \"block uppercase tracking-wide text-xs font-bold mb-2\"\n}, \"Produto\", -1 /* HOISTED */));\nconst _hoisted_13 = {\n  class: \"flex flex-wrap -mx-3 mb-6\"\n};\nconst _hoisted_14 = {\n  class: \"w-full md:w-1/2 px-3 mb-6 md:mb-0\"\n};\nconst _hoisted_15 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"label\", {\n  class: \"block uppercase tracking-wide text-xs font-bold mb-2\",\n  for: \"quantidade\"\n}, \" Quantidade \", -1 /* HOISTED */));\nconst _hoisted_16 = {\n  class: \"w-full md:w-1/2 px-3 mb-6 md:mb-0\"\n};\nconst _hoisted_17 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"label\", {\n  class: \"block uppercase tracking-wide text-xs font-bold mb-2\",\n  for: \"preco\"\n}, \" Preço \", -1 /* HOISTED */));\nconst _hoisted_18 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"pt-4\"\n}, [/*#__PURE__*/_createElementVNode(\"button\", {\n  type: \"submit\",\n  class: \"w-full text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800\"\n}, \" Cadastrar \")], -1 /* HOISTED */));\nconst _hoisted_19 = {\n  class: \"mt-4\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_SelectPessoaComponent = _resolveComponent(\"SelectPessoaComponent\");\n  const _component_SelectProdutoComponent = _resolveComponent(\"SelectProdutoComponent\");\n  const _component_DashboardComponent = _resolveComponent(\"DashboardComponent\");\n  return _openBlock(), _createBlock(_component_DashboardComponent, null, {\n    \"slot-pages\": _withCtx(() => [_createElementVNode(\"div\", _hoisted_1, [_createElementVNode(\"div\", _hoisted_2, [_hoisted_3, _createElementVNode(\"div\", _hoisted_4, [_createElementVNode(\"form\", {\n      ref: \"{formRef}\",\n      onSubmit: _cache[5] || (_cache[5] = _withModifiers((...args) => $setup.handleSave && $setup.handleSave(...args), [\"prevent\"])),\n      class: \"p-2\"\n    }, [_createElementVNode(\"div\", _hoisted_5, [_createElementVNode(\"div\", _hoisted_6, [_hoisted_7, _withDirectives(_createElementVNode(\"input\", {\n      \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => $setup.formData.data = $event),\n      class: \"appearance-none block text-gray-700 w-full bg-gray-200 border border-gray-200 rounded py-3 px-4 mb-3 leading-tight focus:outline-none focus:bg-white focus:border-gray-500\",\n      id: \"data\",\n      type: \"date\"\n    }, null, 512 /* NEED_PATCH */), [[_vModelText, $setup.formData.data]])])]), _createElementVNode(\"div\", _hoisted_8, [_createElementVNode(\"div\", _hoisted_9, [_hoisted_10, _createVNode(_component_SelectPessoaComponent, {\n      modelValue: $setup.formData.pessoa_id,\n      \"onUpdate:modelValue\": _cache[1] || (_cache[1] = $event => $setup.formData.pessoa_id = $event),\n      initialPeople: $setup.formData.pessoa_id,\n      \"grupo-id\": 2\n    }, null, 8 /* PROPS */, [\"modelValue\", \"initialPeople\"])]), _createElementVNode(\"div\", _hoisted_11, [_hoisted_12, _createVNode(_component_SelectProdutoComponent, {\n      modelValue: $setup.formData.produto_id,\n      \"onUpdate:modelValue\": _cache[2] || (_cache[2] = $event => $setup.formData.produto_id = $event),\n      initialProduct: $setup.formData.produto_id\n    }, null, 8 /* PROPS */, [\"modelValue\", \"initialProduct\"])])]), _createElementVNode(\"div\", _hoisted_13, [_createElementVNode(\"div\", _hoisted_14, [_hoisted_15, _withDirectives(_createElementVNode(\"input\", {\n      class: \"appearance-none block w-full text-gray-700 bg-gray-200 border border-gray-200 rounded py-3 px-4 mb-3 leading-tight focus:outline-none focus:bg-white focus:border-gray-500\",\n      id: \"quantidade\",\n      type: \"number\",\n      \"onUpdate:modelValue\": _cache[3] || (_cache[3] = $event => $setup.formData.quantidade = $event)\n    }, null, 512 /* NEED_PATCH */), [[_vModelText, $setup.formData.quantidade]])]), _createElementVNode(\"div\", _hoisted_16, [_hoisted_17, _withDirectives(_createElementVNode(\"input\", {\n      \"onUpdate:modelValue\": _cache[4] || (_cache[4] = $event => $setup.formData.preco = $event),\n      class: \"appearance-none block w-full text-gray-700 bg-gray-200 border border-gray-200 rounded py-3 px-4 mb-3 leading-tight focus:outline-none focus:bg-white focus:border-gray-500\",\n      id: \"preco\",\n      type: \"number\"\n    }, null, 512 /* NEED_PATCH */), [[_vModelText, $setup.formData.preco]])])]), _hoisted_18, _createElementVNode(\"div\", _hoisted_19, [_createElementVNode(\"span\", {\n      class: _normalizeClass([\"text-center text-sm\", {\n        'text-green-500': _ctx.sucesso,\n        'text-red-500': !_ctx.sucesso && _ctx.feedbackMessage\n      }])\n    }, _toDisplayString(_ctx.feedbackMessage), 3 /* TEXT, CLASS */)])], 544 /* NEED_HYDRATION, NEED_PATCH */)])])])]),\n    _: 1 /* STABLE */\n  });\n}","map":{"version":3,"names":["class","_createElementVNode","for","type","_createBlock","_component_DashboardComponent","_withCtx","_hoisted_1","_hoisted_2","_hoisted_3","_hoisted_4","ref","onSubmit","_cache","_withModifiers","args","$setup","handleSave","_hoisted_5","_hoisted_6","_hoisted_7","$event","formData","data","id","_hoisted_8","_hoisted_9","_hoisted_10","_createVNode","_component_SelectPessoaComponent","modelValue","pessoa_id","initialPeople","_hoisted_11","_hoisted_12","_component_SelectProdutoComponent","produto_id","initialProduct","_hoisted_13","_hoisted_14","_hoisted_15","quantidade","_hoisted_16","_hoisted_17","preco","_hoisted_18","_hoisted_19","_normalizeClass","_ctx","sucesso","feedbackMessage","_"],"sources":["/home/brenomatheus/Documentos/Teste Pratico DEV Junior/frontend/src/pages/Compra/DetailComponent.vue"],"sourcesContent":["<template>\n  <DashboardComponent>\n    <template v-slot:slot-pages>\n      <div class=\"flex justify-center items-center text-gray-700 dark:text-white\">\n        <div class=\"w-full p-4 sm:p-6 md:p-8 dark:bg-gray-800\">\n          <h5\n            class=\"text-xl font-medium text-gray-900 dark:text-white text-center border-b-2 mb-4 pb-4 border-gray-900\"\n          >\n            Cadastro de Compra\n          </h5>\n          <div class=\"w-auto\">\n            <form ref=\"{formRef}\" @submit.prevent=\"handleSave\" class=\"p-2\">\n              <div class=\"flex flex-wrap -mx-3 mb-6\">\n                <div class=\"w-full md:w-1/2 px-3 mb-6 md:mb-0\">\n                  <label\n                    class=\"block uppercase tracking-wide  text-xs font-bold mb-2\"\n                    for=\"data\"\n                  >\n                    Data\n                  </label>\n                  <input\n                    v-model=\"formData.data\"\n                    class=\"appearance-none block text-gray-700 w-full bg-gray-200  border border-gray-200 rounded py-3 px-4 mb-3 leading-tight focus:outline-none focus:bg-white focus:border-gray-500\"\n                    id=\"data\"\n                    type=\"date\"\n                  />\n                </div>\n              </div>\n              <div class=\"flex flex-wrap -mx-3 mb-2\">\n                <div class=\"w-full md:w-1/2 px-3 mb-6 md:mb-0\">\n                  <label\n                    for=\"grid-state\"\n                    class=\"block uppercase tracking-wide  text-xs font-bold mb-2\"\n                    >Fornecedor</label\n                  >\n                  <SelectPessoaComponent\n                    v-model=\"formData.pessoa_id\"\n                    :initialPeople=\"formData.pessoa_id\"\n                    :grupo-id=\"2\"\n                  />\n                </div>\n                <div class=\"w-full md:w-1/2 px-3 mb-6 md:mb-0\">\n                  <label\n                    for=\"grid-state\"\n                    class=\"block uppercase tracking-wide  text-xs font-bold mb-2\"\n                    >Produto</label\n                  >\n                  <SelectProdutoComponent\n                    v-model=\"formData.produto_id\"\n                    :initialProduct=\"formData.produto_id\"\n                  />\n                </div>\n              </div>\n              <div class=\"flex flex-wrap -mx-3 mb-6\">\n                <div class=\"w-full md:w-1/2 px-3 mb-6 md:mb-0\">\n                  <label\n                    class=\"block uppercase tracking-wide  text-xs font-bold mb-2\"\n                    for=\"quantidade\"\n                  >\n                    Quantidade\n                  </label>\n                  <input\n                    class=\"appearance-none block w-full text-gray-700 bg-gray-200  border border-gray-200 rounded py-3 px-4 mb-3 leading-tight focus:outline-none focus:bg-white focus:border-gray-500\"\n                    id=\"quantidade\"\n                    type=\"number\"\n                    v-model=\"formData.quantidade\"\n                  />\n                </div>\n                <div class=\"w-full md:w-1/2 px-3 mb-6 md:mb-0\">\n                  <label\n                    class=\"block uppercase tracking-wide  text-xs font-bold mb-2\"\n                    for=\"preco\"\n                  >\n                    Preço\n                  </label>\n                  <input\n                    v-model=\"formData.preco\"\n                    class=\"appearance-none block w-full text-gray-700 bg-gray-200  border border-gray-200 rounded py-3 px-4 mb-3 leading-tight focus:outline-none focus:bg-white focus:border-gray-500\"\n                    id=\"preco\"\n                    type=\"number\"\n                  />\n                </div>\n              </div>\n\n              <div class=\"pt-4\">\n                <button\n                  type=\"submit\"\n                  class=\"w-full text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800\"\n                >\n                  Cadastrar\n                </button>\n              </div>\n              <div class=\"mt-4\">\n                <span\n                  class=\"text-center text-sm\"\n                  :class=\"{\n                    'text-green-500': sucesso,\n                    'text-red-500': !sucesso && feedbackMessage,\n                  }\"\n                  >{{ feedbackMessage }}</span\n                >\n              </div>\n            </form>\n          </div>\n        </div>\n      </div>\n    </template>\n  </DashboardComponent>\n</template>\n\n<script>\nimport ComprasService from '../../services/api/compras/ComprasService';\nimport DashboardComponent from '../Dashboard/DashboardComponent';\nimport SelectPessoaComponent from '@/components/SelectPessoaComponent';\nimport SelectProdutoComponent from '@/components/SelectProdutoComponent';\nimport { ref, reactive, watchEffect } from 'vue';\nimport { useRoute, useRouter } from 'vue-router';\n\nexport default {\n  name: 'BuyDetailComponent',\n\n  components: {\n    DashboardComponent,\n    SelectPessoaComponent,\n    SelectProdutoComponent,\n  },\n\n  setup() {\n    const route = useRoute();\n    const router = useRouter();\n    const formRef = ref(null);\n    const id = route.params.id || 'nova';\n    const formData = reactive({\n      data: '',\n      pessoa_id: '',\n      produto_id: '',\n      quantidade: '',\n      preco: '',\n    });\n    const triedToSubmit = ref(false);\n\n    watchEffect(() => {\n      if (id !== 'nova') {\n        ComprasService.getById(id).then(result => {\n          if (result instanceof Error) {\n            alert(result.message);\n            router.push('/compra');\n          } else {\n            formData.data = result.data;\n            formData.produto_id = result.produto_id;\n            formData.pessoa_id = result.pessoa_id;\n            formData.quantidade = result.quantidade;\n            formData.preco = result.preco;\n          }\n        });\n      } else {\n        formRef.value?.setData({});\n      }\n    });\n\n    const handleSave = () => {\n      triedToSubmit.value = true;\n      if (id === 'nova') {\n        ComprasService.cadastrar(formData).then(result => {\n          if (result instanceof Error) {\n            alert(result.message);\n          } else {\n            router.push(`/compra`);\n          }\n        });\n      } else {\n        ComprasService.atualizar(id, {\n          id: id,\n          ...formData,\n        }).then(result => {\n          if (result instanceof Error) {\n            alert(result.message);\n          } else {\n            router.push('/compra');\n          }\n        });\n      }\n    };\n\n    return { formRef, formData, handleSave };\n  },\n};\n</script>\n\n<style scoped>\n.invalid-input {\n  border-color: red;\n}\n</style>\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}