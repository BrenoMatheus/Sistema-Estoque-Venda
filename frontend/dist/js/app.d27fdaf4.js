(function(){"use strict";var e={2034:function(e,t,a){var r=a(3751),o=(a(6044),a(5220)),s=a(641);const l={class:"flex justify-center items-center pt-10"},d={class:"w-full max-w-sm p-4 bg-gray-200 border border-gray-300 rounded-lg shadow sm:p-6 md:p-8 dark:bg-gray-800 dark:border-gray-700"},n={class:"space-y-6",action:"#"},i=(0,s.Lk)("h5",{class:"text-xl font-medium text-gray-900 dark:text-white text-center"},"Login",-1),c=(0,s.Lk)("label",{for:"email",class:"block mb-2 text-sm font-medium text-gray-900 dark:text-white"},"Seu email",-1),u=(0,s.Lk)("label",{for:"password",class:"block mb-2 text-sm font-medium text-gray-900 dark:text-white"},"Sua senha",-1),p=(0,s.Fv)('<div class="flex items-start"><div class="flex items-start"><div class="flex items-center h-5"><input id="remember" type="checkbox" value="" class="w-4 h-4 border border-gray-300 rounded bg-gray-50 focus:ring-3 focus:ring-blue-300 dark:bg-gray-700 dark:border-gray-600 dark:focus:ring-blue-600 dark:ring-offset-gray-800 dark:focus:ring-offset-gray-800" required></div><label for="remember" class="ms-2 text-sm font-medium text-gray-900 dark:text-gray-300">Lembrar-me</label></div><a href="#" class="ms-auto text-sm text-blue-700 hover:underline dark:text-blue-500">Esqueceu a senha?</a></div>',1),h=(0,s.Lk)("div",{class:"text-sm font-medium text-gray-500 dark:text-gray-300"},[(0,s.eW)(" Não tem registro? "),(0,s.Lk)("a",{href:"#",class:"text-blue-700 hover:underline dark:text-blue-500"},"Criar conta")],-1);function m(e,t,a,o,m,g){return(0,s.uX)(),(0,s.CE)("div",l,[(0,s.Lk)("div",d,[(0,s.Lk)("form",n,[i,(0,s.Lk)("div",null,[c,(0,s.bo)((0,s.Lk)("input",{type:"email","onUpdate:modelValue":t[0]||(t[0]=e=>m.email=e),name:"email",id:"email",class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-600 dark:border-gray-500 dark:placeholder-gray-400 dark:text-white",placeholder:"seu Email",required:""},null,512),[[r.Jo,m.email]])]),(0,s.Lk)("div",null,[u,(0,s.bo)((0,s.Lk)("input",{type:"password","onUpdate:modelValue":t[1]||(t[1]=e=>m.password=e),name:"password",id:"password",placeholder:"••••••••",class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-600 dark:border-gray-500 dark:placeholder-gray-400 dark:text-white",required:""},null,512),[[r.Jo,m.password]])]),p,(0,s.Lk)("button",{type:"submit",class:"w-full text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800",onClick:t[2]||(t[2]=(...e)=>g.login&&g.login(...e))},"Entrar"),h])])])}var g=a(1250);const b={URL_BASE:"http://localhost:8000/api"},k=b.URL_BASE,f=localStorage.getItem("userToken"),y={login(e,t){return g.A.post(`${k}/login`,{email:e,password:t}).then((e=>(e.data.token&&localStorage.setItem("userToken",e.data.token),e.data)))},async getById(e){try{const t=await g.A.get(`${k}/user/${e}`,{headers:{Authorization:`Bearer ${f}`}});return t.data}catch(t){throw console.error("Erro ao obter Usuario:",t),new Error("Erro ao obter Usuario da API.")}},logout(){localStorage.removeItem("userToken")},isAuthenticated(){return null!==localStorage.getItem("userToken")},async register(e,t,a,r){let o=r;return await g.A.post(`${k}/register`,{email:e,password:t,password_confirmation:a,nameToken:o}).then((e=>(console.log(e.data.user),e.data.user)))}};var x=y,v={data(){return{email:"",password:""}},methods:{login(){x.login(this.email,this.password).then((e=>{this.email="",this.password="",this.$router.replace("/home")})).catch((e=>{console.error("Erro ao fazer login:",e)}))}}},w=a(6262);const L=(0,w.A)(v,[["render",m]]);var C=L,A=a(33);const P={class:"w-full dark:bg-gray-950 bg-gray-100"},_={class:"w-full flex justify-center items-center md:text-xl text-lg font-bold"},D={class:"w-full"},E={class:"w-full"},S={class:"flex w-full p-4 sm:p-6 md:p-6 dark:bg-gray-800"},F={key:0,class:"w-full"},V={key:1,class:"w-full"};function B(e,t,a,r,o,l){const d=(0,s.g2)("DashboardBuyComponent"),n=(0,s.g2)("DashboardSaleComponent"),i=(0,s.g2)("DashboardComponent");return(0,s.uX)(),(0,s.Wv)(i,null,{"slot-pages":(0,s.k6)((()=>[(0,s.Lk)("div",P,[(0,s.Lk)("div",_,[(0,s.Lk)("div",D,[(0,s.Lk)("button",{onClick:t[0]||(t[0]=e=>l.mostrarDiv("compra")),class:(0,A.C4)([{"bg-gray-100 text-gray-600 dark:bg-gray-800 dark:text-white":"compra"===o.divAtual,"bg-gray-800 text-white dark:bg-gray-100 dark:text-gray-400":"compra"!==o.divAtual},"w-full p-2 md:p-4"])}," Compra ",2)]),(0,s.Lk)("div",E,[(0,s.Lk)("button",{onClick:t[1]||(t[1]=e=>l.mostrarDiv("venda")),class:(0,A.C4)([{"bg-gray-100 text-gray-600 dark:bg-gray-800 dark:text-white":"venda"===o.divAtual,"bg-gray-800 text-white dark:bg-gray-100 dark:text-gray-400":"venda"!==o.divAtual},"w-full p-2 md:p-4"])}," Venda ",2)])]),(0,s.Lk)("div",S,["compra"===o.divAtual?((0,s.uX)(),(0,s.CE)("div",F,[(0,s.bF)(d)])):(0,s.Q3)("",!0),"venda"===o.divAtual?((0,s.uX)(),(0,s.CE)("div",V,[(0,s.bF)(n)])):(0,s.Q3)("",!0)])])])),_:1})}const O={class:"w-full flex h-screen dark:bg-gray-950 bg-gray-100"},$={class:"dark:bg-gray-950 bg-gray-100 w-full h-screen flex"},M={class:"lg:w-[220px]"},X={style:{xl:"width:calc(100% - 200px)"},class:"w-full lg:ml-4 md:h-auto h-screen mt-14 md:mt-14 dark:bg-gray-950 bg-gray-100"};function I(e,t,a,r,o,l){const d=(0,s.g2)("NavBarComponent"),n=(0,s.g2)("SideBarComponent");return(0,s.uX)(),(0,s.CE)("div",O,[(0,s.bF)(d),(0,s.Lk)("div",$,[(0,s.Lk)("div",M,[(0,s.bF)(n)]),(0,s.Lk)("div",X,[(0,s.RG)(e.$slots,"slot-pages")])])])}const q={class:"lg:hidden"},G=(0,s.Lk)("i",{class:"fa fa-bars text-xl"},null,-1),K=[G],U={key:0,class:"lg:visible fixed inset-0 lg:w-[220px] z-50 bg-gray-900 bg-opacity-75 flex justify-center items-center"},j={class:"bg-gray-900 w-[220px] h-screen text-white absolute left-0 top-0"},z=(0,s.Fv)('<div class="w-full flex justify-center p-4 items-center"><div class="mr-2"><span class="w-14 h-14 rounded-full flex bg-gray-300 justify-center items-center"><i class="fa fa-user text-4xl"></i></span></div><div><p class="m-0">Joao Gomes</p><span class="text-xs">online</span></div></div>',1),T={class:"flex-col text-center pt-4"},Q={class:"p-2 hover:bg-slate-700 hover:text-lg"},R=(0,s.Lk)("i",{class:"fa fa-house text-md pr-1"},null,-1),J={class:"p-2 hover:bg-slate-700 hover:text-lg"},W=(0,s.Lk)("i",{class:"fa fa-user pr-1"},null,-1),N={class:"p-2 hover:bg-slate-700 hover:text-lg"},H=(0,s.Lk)("i",{class:"fa fa-box pr-1"},null,-1),Y={class:"p-2 hover:bg-slate-700 hover:text-lg"},Z=(0,s.Lk)("i",{class:"fa fa-shop pr-1"},null,-1),ee={class:"p-2 hover:bg-slate-700 hover:text-lg"},te=(0,s.Lk)("i",{class:"fa fa-bag-shopping pr-1"},null,-1),ae={class:"w-full h-full"};function re(e,t,a,r,o,l){const d=(0,s.g2)("router-link");return(0,s.uX)(),(0,s.CE)("div",null,[(0,s.Lk)("div",q,[(0,s.Lk)("button",{onClick:t[0]||(t[0]=e=>o.showModal=!o.showModal),class:"fixed sm:top-3 top-2 sm:left-4 left-2 z-50 bg-gray-900 text-white p-2 rounded-full"},K)]),o.showModal?((0,s.uX)(),(0,s.CE)("div",U,[(0,s.Lk)("div",j,[z,(0,s.Lk)("div",T,[(0,s.Lk)("ul",null,[(0,s.Lk)("li",Q,[(0,s.bF)(d,{to:{name:"home"}},{default:(0,s.k6)((()=>[R,(0,s.eW)(" Inicio")])),_:1})]),(0,s.Lk)("li",J,[(0,s.bF)(d,{to:{name:"pessoaLista"}},{default:(0,s.k6)((()=>[W,(0,s.eW)(" Pessoa")])),_:1})]),(0,s.Lk)("li",N,[(0,s.bF)(d,{to:{name:"produtoLista"}},{default:(0,s.k6)((()=>[H,(0,s.eW)(" Produto")])),_:1})]),(0,s.Lk)("li",Y,[(0,s.bF)(d,{to:{name:"vendaLista"}},{default:(0,s.k6)((()=>[Z,(0,s.eW)(" Venda")])),_:1})]),(0,s.Lk)("li",ee,[(0,s.bF)(d,{to:{name:"compraLista"}},{default:(0,s.k6)((()=>[te,(0,s.eW)(" Compra")])),_:1})])])])]),(0,s.Lk)("div",ae,[(0,s.Lk)("button",{onClick:t[1]||(t[1]=e=>o.showModal=!1),class:"w-full h-full lg:h-0 lg:w-0"})])])):(0,s.Q3)("",!0)])}var oe={nome:"SideBarComponent",data(){return{showModal:!0}}};const se=(0,w.A)(oe,[["render",re]]);var le=se;const de={class:"bg-gray-900 w-full h-14 md:h-16 p-2 pb-4 text-white fixed top-0 left-0 z-40"},ne={class:"md:w-2/3 w-full pl-10 float-end"},ie={class:"flex justify-between items-center md:p-2"},ce=(0,s.Lk)("h3",{class:"md:text-lg text-sm"},[(0,s.Lk)("i",{class:"fa fa-star"}),(0,s.eW)(" Logo Marca")],-1),ue=(0,s.Lk)("a",{class:"md:text-lg text-sm",href:""},[(0,s.eW)("Sair "),(0,s.Lk)("i",{class:"fa fa-sign-out-alt"})],-1);function pe(e,t,a,r,o,l){const d=(0,s.g2)("ThemeComponent");return(0,s.uX)(),(0,s.CE)("div",de,[(0,s.Lk)("div",ne,[(0,s.Lk)("div",ie,[ce,(0,s.bF)(d),ue])])])}a(4114);const he={class:"flex duration-100 rounded-lg"},me=(0,s.Lk)("span",null,[(0,s.Lk)("i",{class:"fa-solid fa-moon"})],-1),ge=[me],be=(0,s.Lk)("span",null,[(0,s.Lk)("i",{class:"fa-regular fa-sun"})],-1),ke=[be];function fe(e,t,a,r,o,l){return(0,s.uX)(),(0,s.CE)("div",he,[(0,s.Lk)("button",{onClick:t[0]||(t[0]=e=>l.setTheme("dark")),class:(0,A.C4)([{invisible:"dark"===o.theme},"w-8 h-8 leading-9 text-xl rounded-full m-1"])},ge,2),(0,s.Lk)("button",{onClick:t[1]||(t[1]=e=>l.setTheme("light")),class:(0,A.C4)([{invisible:"light"===o.theme},"w-8 h-8 leading-9 text-xl rounded-full m-1"])},ke,2)])}var ye={data(){return{theme:"dark"}},mounted(){this.applyTheme(),window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",this.onWindowMatch)},beforeDestroy(){window.matchMedia("(prefers-color-scheme: dark)").removeEventListener("change",this.onWindowMatch)},methods:{onWindowMatch(e){const t=e.matches?"dark":"light";this.setTheme(t)},applyTheme(){"dark"===localStorage.theme||!("theme"in localStorage)&&window.matchMedia("(prefers-color-scheme: dark)").matches?(document.documentElement.classList.add("dark"),this.theme="dark"):(document.documentElement.classList.remove("dark"),this.theme="light")},setTheme(e){switch(this.theme=e,e){case"dark":document.documentElement.classList.add("dark"),localStorage.setItem("theme","dark");break;case"light":document.documentElement.classList.remove("dark"),localStorage.setItem("theme","light");break;default:localStorage.removeItem("theme");break}}}};const xe=(0,w.A)(ye,[["render",fe]]);var ve=xe,we={nome:"NavBarComponent",components:{ThemeComponent:ve},methods:{logout(){this.$router.push({name:"login"})}}};const Le=(0,w.A)(we,[["render",pe]]);var Ce=Le,Ae={name:"DashboardComponent",components:{SideBarComponent:le,NavBarComponent:Ce}};const Pe=(0,w.A)(Ae,[["render",I]]);var _e=Pe;const De={class:"flex justify-center items-center text-gray-700 dark:text-white"},Ee={class:"w-full sm:p-6 md:p-8 dark:bg-gray-800"},Se={class:"w-auto"},Fe={class:"flex flex-wrap items-center justify-start mb-4"},Ve={class:"md:px-3 md:mb-0"},Be=(0,s.Lk)("label",{class:"block uppercase tracking-wide text-xs font-bold mb-2",for:"data"}," Data Inicio ",-1),Oe={class:"md:px-3 md:mb-0"},$e=(0,s.Lk)("label",{class:"block uppercase tracking-wide text-xs font-bold mb-2",for:"data_fim"}," Data Fim ",-1),Me={class:"flex flex-wrap items-center justify-between mb-4 md:pl-4"},Xe={class:"mb-4 w-full md:w-1/5"},Ie=(0,s.Lk)("label",{class:"block uppercase tracking-wide text-xs font-bold mb-2"}," Fornecedor ",-1),qe={class:"mb-4 w-full md:w-1/5"},Ge=(0,s.Lk)("label",{class:"block uppercase tracking-wide text-xs font-bold mb-2"}," Produtos ",-1),Ke={class:"mb-4"},Ue=(0,s.Lk)("label",{class:"block uppercase tracking-wide text-xs font-bold mb-2"}," Ordenar Data ",-1),je=(0,s.Lk)("option",{value:"",selected:""},"Ordenar Data",-1),ze=(0,s.Lk)("option",{value:"1"},"Crescente",-1),Te=(0,s.Lk)("option",{value:"0"},"Decrescente",-1),Qe=[je,ze,Te],Re={class:"mb-4"},Je=(0,s.Lk)("label",{class:"block uppercase tracking-wide text-xs font-bold mb-2"}," Ordenar Preço ",-1),We=(0,s.Lk)("option",{value:"",selected:""},"Ordenar Preço",-1),Ne=(0,s.Lk)("option",{value:"1"},"Crescente",-1),He=(0,s.Lk)("option",{value:"0"},"Decrescente",-1),Ye=[We,Ne,He],Ze={class:"flex gap-2"},et={class:"relative w-3/5 h-20 flex border-x-2 border-b-2 border-gray-500 rounded-md items-center"},tt=(0,s.Lk)("span",{class:"absolute -left-0 -top-4 font-bold text-sm"},"Compras mês",-1),at=(0,s.Lk)("span",{class:"absolute -right-0 -top-4 font-bold text-sm"},"Valores mês",-1),rt={class:"w-full h-full bg-green-400 dark:bg-green-800 dark:text-white justify-center items-center flex"},ot={class:"md:text-2xl text-lg font-bold pl-2"},st={class:"w-full h-full pl-2 bg-green-500 dark:bg-green-900 dark:text-white justify-center items-center flex"},lt={class:"md:text-2xl text-lg font-bold pr-2"},dt={class:"relative w-2/5 h-20 flex border-x-2 border-b-2 border-gray-500 rounded-md items-center"},nt=(0,s.Lk)("span",{class:"absolute -left-0 -top-4 font-bold text-sm"},"Ticket médio mês",-1),it={class:"w-full h-full bg-yellow-400 dark:bg-yellow-600 dark:text-white justify-center items-center flex"},ct={class:"text-2xl font-bold pl-2"},ut={class:"flex-row md:flex w-full"},pt={class:"w-full"},ht={class:"md:w-1/2 w-full"},mt={class:""};function gt(e,t,a,o,l,d){const n=(0,s.g2)("SelectPessoaComponent"),i=(0,s.g2)("SelectProdutoComponent"),c=(0,s.g2)("FornecedorChartComponent"),u=(0,s.g2)("ComprasChartComponent");return(0,s.uX)(),(0,s.CE)("div",De,[(0,s.Lk)("div",Ee,[(0,s.Lk)("div",Se,[(0,s.Lk)("div",Fe,[(0,s.Lk)("div",Ve,[Be,(0,s.bo)((0,s.Lk)("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>l.selectedData=e),onInput:t[1]||(t[1]=(...e)=>d.handleFilterChange&&d.handleFilterChange(...e)),class:"md:py-2 md:px-3 py-1 px-1 rounded border mr-4 border-gray-300 shadow-lg bg-gray-200 shadow-indigo-500/40 dark:bg-gray-600 dark:shadow-gray-600/40",type:"date",id:"data"},null,544),[[r.Jo,l.selectedData]])]),(0,s.Lk)("div",Oe,[$e,(0,s.bo)((0,s.Lk)("input",{"onUpdate:modelValue":t[2]||(t[2]=e=>l.selectedDateEnd=e),onInput:t[3]||(t[3]=(...e)=>d.handleFilterChange&&d.handleFilterChange(...e)),class:"md:py-2 md:px-3 py-1 px-1 rounded border mr-4 border-gray-300 shadow-lg bg-gray-200 shadow-indigo-500/40 dark:bg-gray-600 dark:shadow-gray-600/40",id:"data_fim",type:"date"},null,544),[[r.Jo,l.selectedDateEnd]])])]),(0,s.Lk)("div",Me,[(0,s.Lk)("div",Xe,[Ie,(0,s.bF)(n,{onPeopleSelected:d.updateSelectedPeople,"grupo-id":2},null,8,["onPeopleSelected"])]),(0,s.Lk)("div",qe,[Ge,(0,s.bF)(i,{onProductSelected:d.updateSelectedProduct},null,8,["onProductSelected"])]),(0,s.Lk)("div",Ke,[Ue,(0,s.bo)((0,s.Lk)("select",{"onUpdate:modelValue":t[4]||(t[4]=e=>l.selectedOrdData=e),class:"md:py-2 md:px-3 py-1 px-1 rounded border-2 border-gray-300 mr-4 shadow-lg bg-gray-200 shadow-indigo-500/40 dark:bg-gray-600 dark:shadow-gray-600/40",onChange:t[5]||(t[5]=(...e)=>d.handleFilterChange&&d.handleFilterChange(...e))},Qe,544),[[r.u1,l.selectedOrdData]])]),(0,s.Lk)("div",Re,[Je,(0,s.bo)((0,s.Lk)("select",{"onUpdate:modelValue":t[6]||(t[6]=e=>l.selectedOrdValor=e),class:"md:py-2 md:px-3 py-1 px-1 rounded border-2 border-gray-300 mr-4 shadow-lg bg-gray-200 shadow-indigo-500/40 dark:bg-gray-600 dark:shadow-gray-600/40",onChange:t[7]||(t[7]=(...e)=>d.handleFilterChange&&d.handleFilterChange(...e))},Ye,544),[[r.u1,l.selectedOrdValor]])])])]),(0,s.Lk)("div",Ze,[(0,s.Lk)("div",et,[tt,at,(0,s.Lk)("div",rt,[(0,s.Lk)("h3",ot,(0,A.v_)(l.currentMonthSale?l.currentMonthSale.total_quantidade:"-"),1)]),(0,s.Lk)("div",st,[(0,s.Lk)("h3",lt,(0,A.v_)(l.currentMonthSale?d.formatCurrency(l.currentMonthSale.total_preco):"-"),1)])]),(0,s.Lk)("div",dt,[nt,(0,s.Lk)("div",it,[(0,s.Lk)("h3",ct,(0,A.v_)(l.currentMonthSale?d.formatCurrency(l.currentMonthSale.ticket):"-"),1)])])]),(0,s.Lk)("div",null,[(0,s.Lk)("div",ut,[(0,s.Lk)("div",pt,[(0,s.bF)(c,{filter:l.filter},null,8,["filter"])]),(0,s.Lk)("div",ht,[(0,s.Lk)("div",mt,[(0,s.bF)(u,{onCurrentMonth:d.updatecurrentMonthSale,filter:l.filter},null,8,["onCurrentMonth","filter"])])])])])])])}const bt=(0,s.Lk)("option",{value:"",selected:""},"Todos os pessoas",-1),kt=["value"];function ft(e,t,a,o,l,d){return(0,s.bo)(((0,s.uX)(),(0,s.CE)("select",{"onUpdate:modelValue":t[0]||(t[0]=e=>l.selectedPeople=e),onChange:t[1]||(t[1]=(...e)=>d.emitPeople&&d.emitPeople(...e)),class:"md:py-2 md:px-3 py-1 px-1 w-full rounded mr-4 shadow-lg bg-gray-200 shadow-indigo-500/40 dark:bg-gray-600 dark:shadow-gray-600/40 border-2 border-gray-300"},[bt,((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(l.peoples,(e=>((0,s.uX)(),(0,s.CE)("option",{key:e.id,value:e.id},(0,A.v_)(e.nome),9,kt)))),128))],544)),[[r.u1,l.selectedPeople]])}const yt=b.URL_BASE,xt=localStorage.getItem("userToken"),vt={async getAll(e){try{const t={Authorization:`Bearer ${xt}`,"Content-Type":"application/json"},a=await g.A.get(`${yt}/pessoa`,{params:e,headers:t});return a.data}catch(t){throw console.error("Erro ao obter pessoa:",t),new Error("Erro ao obter pessoa da API.")}},async getById(e){try{const t=await g.A.get(`${yt}/pessoa/${e}`,{headers:{Authorization:`Bearer ${xt}`}});return t.data}catch(t){throw console.error("Erro ao obter pessoa:",t),new Error("Erro ao obter pessoa da API.")}},async cadastrar(e){try{const t=await g.A.post(`${yt}/pessoa`,e,{headers:{Authorization:`Bearer ${xt}`}});if(201===t.status)return{success:!0,message:"Pessoa cadastrada com sucesso"}}catch(t){return console.error("Erro ao cadastrar a pessoa:",t),{success:!1,message:"Erro ao cadastrar a pessoa"}}},async atualizar(e,t){try{const a=await g.A.put(`${yt}/pessoa/${e}`,t,{headers:{Authorization:`Bearer ${xt}`}});if(201===a.status)return{success:!0,message:"Cadastro de pessoa atualizada com sucesso"}}catch(a){throw console.error("Erro ao atualizar pessoa:",a),new Error("Erro ao atualizar pessoa da API.")}},async remover(e){try{const t=await g.A.delete(`${yt}/pessoa/${e}`,{headers:{Authorization:`Bearer ${xt}`}});if(201===t.status)return{success:!0,message:"Cadastro de pessoa removido com sucesso"}}catch(t){throw console.error("Erro ao remover pessoa:",t),new Error("Erro ao remover pessoa da API.")}}};var wt=vt,Lt={props:["modelValue","initialPeople","grupoId"],emits:["update:modelValue"],data(){return{selectedPeople:this.modelValue,peoples:[],loading:!1}},watch:{modelValue(e){this.selectedPeople=e},selectedPeople(e){this.$emit("update:modelValue",e)}},methods:{async getAll(){try{const e={all:"0",grupo_id:this.grupoId};this.loading=!0;const t=await wt.getAll(e);this.peoples=t}catch(e){console.error("Erro ao obter pessoas:",e)}finally{this.loading=!1}},emitPeople(){this.$emit("update:modelValue",this.selectedPeople),this.$emit("people-selected",this.selectedPeople)}},mounted(){this.initialPeople||this.getAll()}};const Ct=(0,w.A)(Lt,[["render",ft]]);var At=Ct;const Pt=(0,s.Lk)("option",{value:"",selected:""},"Todos as produtos",-1),_t=["value"];function Dt(e,t,a,o,l,d){return(0,s.bo)(((0,s.uX)(),(0,s.CE)("select",{"onUpdate:modelValue":t[0]||(t[0]=e=>l.selectedProduct=e),onChange:t[1]||(t[1]=(...e)=>d.emitProduct&&d.emitProduct(...e)),class:"md:py-2 md:px-3 py-1 px-1 w-full rounded mr-4 shadow-lg bg-gray-200 shadow-indigo-500/40 dark:bg-gray-600 dark:shadow-gray-600/40 border-2 border-gray-300"},[Pt,((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(l.produtos,(e=>((0,s.uX)(),(0,s.CE)("option",{key:e.id,value:e.id},(0,A.v_)(e.nome),9,_t)))),128))],544)),[[r.u1,l.selectedProduct]])}const Et=b.URL_BASE,St=localStorage.getItem("userToken"),Ft={async getAll(e){try{const t={Authorization:`Bearer ${St}`},a=await g.A.get(`${Et}/produto`,{params:e,headers:t});return a.data}catch(t){throw console.error("Erro ao obter produto:",t),new Error("Erro ao obter produto da API.")}},async getById(e){try{const t=await g.A.get(`${Et}/produto/${e}`,{headers:{Authorization:`Bearer ${St}`}});return t.data}catch(t){throw console.error("Erro ao obter produto:",t),new Error("Erro ao obter produto da API.")}},async cadastrar(e){try{const t=await g.A.post(`${Et}/produto`,e,{headers:{Authorization:`Bearer ${St}`}});if(201===t.status)return{success:!0,message:"Produto cadastrada com sucesso"}}catch(t){return console.error("Erro ao cadastrar a produto:",t),{success:!1,message:"Erro ao cadastrar a produto"}}},async atualizar(e,t){try{const a=await g.A.put(`${Et}/produto/${e}`,t,{headers:{Authorization:`Bearer ${St}`}});if(201===a.status)return{success:!0,message:"Cadastro de produto atualizada com sucesso"}}catch(a){throw console.error("Erro ao atualizar produto:",a),new Error("Erro ao atualizar produto da API.")}},async remover(e){try{const t=await g.A.delete(`${Et}/produto/${e}`,{headers:{Authorization:`Bearer ${St}`}});if(201===t.status)return{success:!0,message:"Cadastro de produto removido com sucesso"}}catch(t){throw console.error("Erro ao remover produto:",t),new Error("Erro ao remover produto da API.")}}};var Vt=Ft,Bt={props:["modelValue","initialGroup"],emits:["update:modelValue"],data(){return{selectedProduct:this.modelValue,produtos:[],loading:!1}},watch:{modelValue(e){this.selectedProduct=e},selectedProduct(e){this.$emit("update:modelValue",e)}},methods:{async getAll(){try{const e={all:"0",status:"1"};this.loading=!0;const t=await Vt.getAll(e);this.produtos=t}catch(e){console.error("Erro ao obter produtos:",e)}finally{this.loading=!1}},emitProduct(){this.$emit("update:modelValue",this.selectedProduct),this.$emit("product-selected",this.selectedProduct)}},mounted(){this.initialProduct||this.getAll()}};const Ot=(0,w.A)(Bt,[["render",Dt]]);var $t=Ot;const Mt={class:"pt-6"},Xt={key:0,class:"flex-col sm:flex md:flex-col"},It={class:"p-4"},qt=(0,s.Lk)("h5",{class:"md:text-xl text-sm font-bold pb-2"},"Compras por Mês",-1),Gt={class:"p-4"},Kt=(0,s.Lk)("h5",{class:"md:text-xl text-sm font-bold pb-2"},"Valor total comprado por mês",-1),Ut={key:1},jt=(0,s.Lk)("p",null,"Carregando dados...",-1),zt=[jt];function Tt(e,t,a,r,o,l){const d=(0,s.g2)("Bar");return(0,s.uX)(),(0,s.CE)("div",Mt,[o.dataLoaded?((0,s.uX)(),(0,s.CE)("div",Xt,[(0,s.Lk)("div",It,[qt,((0,s.uX)(),(0,s.Wv)(d,{id:"QtdMes",key:o.componentKey,options:o.chartOptions,data:o.ChartQtd},null,8,["options","data"]))]),(0,s.Lk)("div",Gt,[Kt,((0,s.uX)(),(0,s.Wv)(d,{id:"ValorMes",options:o.chartOptions,data:o.ChartValor,key:o.componentKey},null,8,["options","data"]))])])):((0,s.uX)(),(0,s.CE)("div",Ut,zt))])}const Qt=b.URL_BASE,Rt=localStorage.getItem("userToken"),Jt={async getAll(e){try{const t={Authorization:`Bearer ${Rt}`},a=await g.A.get(`${Qt}/compra`,{params:e,headers:t});return a.data}catch(t){throw console.error("Erro ao obter compra:",t),new Error("Erro ao obter compra da API.")}},async getById(e){try{const t=await g.A.get(`${Qt}/compra/${e}`,{headers:{Authorization:`Bearer ${Rt}`}});return t.data}catch(t){throw console.error("Erro ao obter compra:",t),new Error("Erro ao obter compra da API.")}},async cadastrar(e){try{const t=await g.A.post(`${Qt}/compra`,e,{headers:{Authorization:`Bearer ${Rt}`}});if(201===t.status)return await this.atualizarQuantidadeDoProduto(e.produto_id,e.quantidade),{success:!0,message:"Compra cadastrada com sucesso"}}catch(t){return console.error("Erro ao cadastrar a compra:",t),{success:!1,message:"Erro ao cadastrar a compra"}}},async atualizarQuantidadeDoProduto(e,t){try{const a=await g.A.put(`${Qt}/compra/${e}/atualizar-quantidade`,{quantidade:t},{headers:{Authorization:`Bearer ${Rt}`}});201===a.status&&console.log("Quantidade do produto atualizada com sucesso")}catch(a){throw console.error("Erro ao atualizar quantidade do produto:",a),new Error("Erro ao atualizar quantidade do produto da API.")}},async atualizar(e,t){try{const a=await g.A.put(`${Qt}/compra/${e}`,t,{headers:{Authorization:`Bearer ${Rt}`}});if(201===a.status)return{success:!0,message:"Cadastro de compra atualizada com sucesso"}}catch(a){throw console.error("Erro ao atualizar compra:",a),new Error("Erro ao atualizar compra da API.")}},async remover(e){try{const t=await g.A.delete(`${Qt}/compra/${e}`,{headers:{Authorization:`Bearer ${Rt}`}});if(201===t.status)return{success:!0,message:"Cadastro de compra removido com sucesso"}}catch(t){throw console.error("Erro ao remover compra:",t),new Error("Erro ao remover compra da API.")}}};var Wt=Jt,Nt=a(6908),Ht=a(2022);Ht.t1.register(Ht.hE,Ht.m_,Ht.s$,Ht.E8,Ht.PP,Ht.kc);const Yt=["Janeiro","Fevereiro","Março","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"];var Zt={props:["filter"],name:"BarChart",components:{Bar:Nt.yP},data(){return{componentKey:0,loading:!1,dataLoaded:!1,ChartValor:{labels:[],datasets:[{label:"Valor total por mês",backgroundColor:"#228B22",data:[]}]},ChartQtd:{labels:[],datasets:[{label:"Total de compras por mês",backgroundColor:"#DAA520",data:[]}]},chartOptions:{responsive:!0}}},watch:{filter:{immediate:!0,handler(e){this.getAll()}}},methods:{getNomeMes(e){return Yt[e-1]},async getAll(){try{let e={all:"0",agrupar_mes:"1"};if(null!==this.filter&&Object.keys(this.filter).length>0)switch(!0){case void 0!==this.filter.ord_data:this.filter.ord_mes=this.filter.ord_data,delete this.filter.ord_data;case void 0!==this.filter.ord_valor:this.filter.ord_mes_valor=this.filter.ord_valor,delete this.filter.ord_valor;default:e={all:"0",agrupar_mes:"1",...this.filter};break}this.loading=!0;const t=await Wt.getAll(e),a=(new Date).getMonth();this.ChartValor.labels=[],this.ChartValor.datasets[0].data=[],this.ChartQtd.labels=[],this.ChartQtd.datasets[0].data=[];for(let r of t){if(r.mes==a){this.currentMonth=r;const e=r.total_preco/r.total_quantidade;r.ticket=e,this.emitCompra(r)}this.ChartValor.labels.push(this.getNomeMes(r.mes)),this.ChartQtd.labels.push(this.getNomeMes(r.mes)),this.ChartValor.datasets[0].data.push(parseFloat(r.total_preco.replace(",","."))),this.ChartQtd.datasets[0].data.push(r.total_quantidade),this.componentKey++}this.dataLoaded=!0}catch(e){this.emitCompra({total_preco:0,total_quantidade:"Não há registros"}),this.ChartValor.labels=[],this.ChartValor.datasets[0].data=[""],this.ChartQtd.labels=[],this.ChartQtd.datasets[0].data=[],this.componentKey++,console.error("Erro ao obter compras:",e)}finally{this.loading=!1}},emitCompra(e){this.$emit("currentMonth",e)}}};const ea=(0,w.A)(Zt,[["render",Tt]]);var ta=ea;const aa={class:"pt-6"},ra=(0,s.Lk)("h5",{class:"md:text-xl text-sm font-bold pb-2"},"Compras por Fornecedor",-1),oa={key:1},sa=(0,s.Lk)("p",null,"Carregando dados...",-1),la=[sa];function da(e,t,a,r,o,l){const d=(0,s.g2)("Bar");return(0,s.uX)(),(0,s.CE)("div",aa,[ra,o.dataLoaded?((0,s.uX)(),(0,s.Wv)(d,{id:"my-chart-id",key:o.componentKey,options:o.chartOptions,data:o.chartData},null,8,["options","data"])):((0,s.uX)(),(0,s.CE)("div",oa,la))])}Ht.t1.register(Ht.hE,Ht.m_,Ht.s$,Ht.E8,Ht.PP,Ht.kc);var na={props:["filter"],emits:["update:modelValue"],name:"BarChart",components:{Bar:Nt.yP},data(){return{componentKey:0,loading:!1,dataLoaded:!1,chartData:{labels:[],datasets:[{label:"Total de compras por Fornecedor",backgroundColor:[],data:[]}]},chartOptions:{responsive:!0,indexAxis:"y"}}},watch:{filter:{immediate:!0,handler(e){this.getAll()}}},methods:{getRandomColor(){const e=Math.floor(16777215*Math.random()).toString(16);return"#"+e.padStart(6,"0")},async getAll(){try{let e={all:"0",agrupar_fornecedor:"1"};if(null!==this.filter&&Object.keys(this.filter).length>0)switch(!0){case void 0!==this.filter.ord_data:delete this.filter.ord_data;case void 0!==this.filter.ord_valor:this.filter.ord_mes_valor=this.filter.ord_valor,delete this.filter.ord_valor;default:e={all:"0",agrupar_fornecedor:"1",...this.filter};break}this.loading=!0;const t=await Wt.getAll(e);console.log(t),this.chartData.labels=[],this.chartData.datasets[0].data=[];for(let a of t)this.chartData.labels.push(a.pessoa.nome),this.chartData.datasets[0].data.push(parseFloat(a.total_preco.replace(",","."))),this.chartData.datasets[0].backgroundColor.push(this.getRandomColor()),this.componentKey++;this.dataLoaded=!0}catch(e){this.chartData.labels=[],this.chartData.datasets[0].data=[""],this.componentKey++,console.error("Erro ao obter compras:",e)}finally{this.loading=!1}}}};const ia=(0,w.A)(na,[["render",da]]);var ca=ia,ua={name:"DashboardSaleComponent",components:{SelectPessoaComponent:At,SelectProdutoComponent:$t,ComprasChartComponent:ta,FornecedorChartComponent:ca},data(){return{selectedPeople:"",filter:{},selectedProduct:"",selectedData:"",selectedDateEnd:"",selectedOrdData:"",selectedOrdValor:"",handlePages:"",currentMonthSale:[],sale:[],arrayPage:[],paginate:{},minSearchLength:3,currentPage:1,itemsPerPage:10}},computed:{},methods:{formatDate(e){const t=new Date(e);return t.toLocaleDateString("pt-BR")},formatCurrency(e){const t=parseInt(e,10);return t.toLocaleString("pt-BR",{style:"currency",currency:"BRL"})},async getAll(){try{this.buildParams()}catch(e){console.error("Erro ao obter compras",e),this.sale=[],this.paginate=[]}},shouldApplyFilter(){return this.selectedPeople||this.selectedProduct||this.selectedData||this.selectedDateEnd||this.selectedOrdData||this.selectedOrdValor},buildParams(){const e={};return this.selectedPeople&&(e.pessoa_id=this.selectedPeople),this.selectedProduct&&(e.produto_id=this.selectedProduct),this.selectedData&&(e.data=this.selectedData),this.selectedDateEnd&&(e.data_fim=this.selectedDateEnd),this.selectedOrdData&&(e.ord_data=this.selectedOrdData),this.selectedOrdValor&&(e.ord_valor=this.selectedOrdValor),this.handlePages&&(e.page=this.handlePages),this.filter=e,e},updateSelectedPeople(e){this.selectedPeople=e},updatecurrentMonthSale(e){this.currentMonthSale=e},updateSelectedProduct(e){this.selectedProduct=e,this.handleFilterChange()},handleFilterChange(){this.shouldApplyFilter()?this.currentPage=1:this.getAll()}},watch:{selectedPeople(){this.shouldApplyFilter()&&this.getAll()},selectedProduct(){this.shouldApplyFilter()&&this.getAll()},selectedData(){this.shouldApplyFilter()&&this.getAll()},selectedDateEnd(){this.shouldApplyFilter()&&this.getAll()},selectedOrdData(){this.shouldApplyFilter()&&this.getAll()},selectedOrdValor(){this.shouldApplyFilter()&&this.getAll()},currentMonthSale(){}}};const pa=(0,w.A)(ua,[["render",gt]]);var ha=pa;const ma={class:"flex justify-center items-center text-gray-700 dark:text-white"},ga={class:"w-full sm:p-6 md:p-8 dark:bg-gray-800 bg-gray-100"},ba={class:"w-auto"},ka={class:"flex flex-wrap items-center justify-start mb-4"},fa={class:"md:px-3 md:mb-0"},ya=(0,s.Lk)("label",{class:"block uppercase tracking-wide text-xs font-bold mb-2",for:"data"}," Data Inicio ",-1),xa={class:"md:px-3 md:mb-0"},va=(0,s.Lk)("label",{class:"block uppercase tracking-wide text-xs font-bold mb-2",for:"data_fim"}," Data Fim ",-1),wa={class:"flex flex-wrap items-center justify-between mb-4 md:pl-4"},La={class:"mb-4 w-full md:w-1/5"},Ca=(0,s.Lk)("label",{class:"block uppercase tracking-wide text-xs font-bold mb-2"}," Cliente ",-1),Aa={class:"mb-4 w-full md:w-1/5"},Pa=(0,s.Lk)("label",{class:"block uppercase tracking-wide text-xs font-bold mb-2"}," Produtos ",-1),_a={class:"mb-4"},Da=(0,s.Lk)("label",{class:"block uppercase tracking-wide text-xs font-bold mb-2"}," Ordenar Data ",-1),Ea=(0,s.Lk)("option",{value:"",selected:""},"Ordenar Data",-1),Sa=(0,s.Lk)("option",{value:"1"},"Crescente",-1),Fa=(0,s.Lk)("option",{value:"0"},"Decrescente",-1),Va=[Ea,Sa,Fa],Ba={class:"mb-4"},Oa=(0,s.Lk)("label",{class:"block uppercase tracking-wide text-xs font-bold mb-2"}," Ordenar Preço ",-1),$a=(0,s.Lk)("option",{value:"",selected:""},"Ordenar Preço",-1),Ma=(0,s.Lk)("option",{value:"1"},"Crescente",-1),Xa=(0,s.Lk)("option",{value:"0"},"Decrescente",-1),Ia=[$a,Ma,Xa],qa={class:"flex gap-2"},Ga={class:"relative w-3/5 md:h-20 flex border-x-2 border-b-2 border-gray-500 rounded-md items-center"},Ka=(0,s.Lk)("span",{class:"absolute -left-0 -top-4 font-bold text-sm"},"Vendas mês",-1),Ua=(0,s.Lk)("span",{class:"absolute -right-0 -top-4 font-bold text-sm"},"Valores mês",-1),ja={class:"w-full h-full pr-2 bg-green-400 dark:bg-green-800 dark:text-white justify-center items-center flex"},za={class:"md:text-2xl text-lg font-bold pl-2"},Ta={class:"w-full h-full pl-2 bg-green-500 dark:bg-green-900 dark:text-white justify-center items-center flex"},Qa={class:"md:text-2xl text-lg font-bold pr-2"},Ra={class:"relative w-2/5 h-20 flex border-x-2 border-b-2 border-gray-500 rounded-md items-center"},Ja=(0,s.Lk)("span",{class:"absolute -left-0 -top-4 font-bold text-sm"},"Ticket médio mês",-1),Wa={class:"w-full h-full bg-yellow-400 dark:bg-yellow-600 dark:text-white justify-center items-center flex float-end"},Na={class:"md:text-2xl text-lg font-bold md:pl-2"},Ha={class:"flex-row md:flex w-full"},Ya={class:"w-full"},Za={class:"md:w-1/2 w-full"},er={class:""},tr={class:"flex w-full"},ar={class:"flex w-full"},rr={class:"flex-row md:flex w-full gap-4"},or={class:"w-full md:w-1/3"},sr={class:"w-full md:w-2/3"};function lr(e,t,a,o,l,d){const n=(0,s.g2)("SelectPessoaComponent"),i=(0,s.g2)("SelectProdutoComponent"),c=(0,s.g2)("ClientesChartComponent"),u=(0,s.g2)("VendasChartComponent"),p=(0,s.g2)("ProdutosChartComponent"),h=(0,s.g2)("CategoryChartComponent"),m=(0,s.g2)("MediaTableComponent"),g=(0,s.g2)("VendasDiaChartComponent");return(0,s.uX)(),(0,s.CE)("div",ma,[(0,s.Lk)("div",ga,[(0,s.Lk)("div",ba,[(0,s.Lk)("div",ka,[(0,s.Lk)("div",fa,[ya,(0,s.bo)((0,s.Lk)("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>l.selectedData=e),onInput:t[1]||(t[1]=(...e)=>d.handleFilterChange&&d.handleFilterChange(...e)),class:"md:py-2 md:px-3 py-1 px-1 rounded border mr-4 border-gray-300 shadow-lg bg-gray-200 shadow-indigo-500/40 dark:bg-gray-600 dark:shadow-gray-600/40",type:"date",id:"data"},null,544),[[r.Jo,l.selectedData]])]),(0,s.Lk)("div",xa,[va,(0,s.bo)((0,s.Lk)("input",{"onUpdate:modelValue":t[2]||(t[2]=e=>l.selectedDateEnd=e),onInput:t[3]||(t[3]=(...e)=>d.handleFilterChange&&d.handleFilterChange(...e)),class:"md:py-2 md:px-3 py-1 px-1 rounded border mr-4 border-gray-300 shadow-lg bg-gray-200 shadow-indigo-500/40 dark:bg-gray-600 dark:shadow-gray-600/40",id:"data_fim",type:"date"},null,544),[[r.Jo,l.selectedDateEnd]])])]),(0,s.Lk)("div",wa,[(0,s.Lk)("div",La,[Ca,(0,s.bF)(n,{onPeopleSelected:d.updateSelectedPeople,"grupo-id":1},null,8,["onPeopleSelected"])]),(0,s.Lk)("div",Aa,[Pa,(0,s.bF)(i,{onProductSelected:d.updateSelectedProduct},null,8,["onProductSelected"])]),(0,s.Lk)("div",_a,[Da,(0,s.bo)((0,s.Lk)("select",{"onUpdate:modelValue":t[4]||(t[4]=e=>l.selectedOrdData=e),class:"md:py-2 md:px-3 py-1 px-1 rounded border-2 border-gray-300 mr-4 shadow-lg bg-gray-200 shadow-indigo-500/40 dark:bg-gray-600 dark:shadow-gray-600/40",onChange:t[5]||(t[5]=(...e)=>d.handleFilterChange&&d.handleFilterChange(...e))},Va,544),[[r.u1,l.selectedOrdData]])]),(0,s.Lk)("div",Ba,[Oa,(0,s.bo)((0,s.Lk)("select",{"onUpdate:modelValue":t[6]||(t[6]=e=>l.selectedOrdValor=e),class:"md:py-2 md:px-3 py-1 px-1 rounded border-2 border-gray-300 mr-4 shadow-lg bg-gray-200 shadow-indigo-500/40 dark:bg-gray-600 dark:shadow-gray-600/40",onChange:t[7]||(t[7]=(...e)=>d.handleFilterChange&&d.handleFilterChange(...e))},Ia,544),[[r.u1,l.selectedOrdValor]])])])]),(0,s.Lk)("div",qa,[(0,s.Lk)("div",Ga,[Ka,Ua,(0,s.Lk)("div",ja,[(0,s.Lk)("h3",za,(0,A.v_)(l.currentMonthSale?l.currentMonthSale.total_quantidade:"-"),1)]),(0,s.Lk)("div",Ta,[(0,s.Lk)("h3",Qa,(0,A.v_)(l.currentMonthSale?d.formatCurrency(l.currentMonthSale.total_preco):"-"),1)])]),(0,s.Lk)("div",Ra,[Ja,(0,s.Lk)("div",Wa,[(0,s.Lk)("h3",Na,(0,A.v_)(l.currentMonthSale?d.formatCurrency(l.currentMonthSale.ticket):"-"),1)])])]),(0,s.Lk)("div",null,[(0,s.Lk)("div",Ha,[(0,s.Lk)("div",Ya,[(0,s.bF)(c,{filter:l.filter},null,8,["filter"])]),(0,s.Lk)("div",Za,[(0,s.Lk)("div",er,[(0,s.bF)(u,{onCurrentMonth:d.updatecurrentMonthSale,filter:l.filter},null,8,["onCurrentMonth","filter"])])])])]),(0,s.Lk)("div",tr,[(0,s.bF)(p,{filter:l.filter},null,8,["filter"])]),(0,s.Lk)("div",ar,[(0,s.bF)(h,{filter:l.filter},null,8,["filter"])]),(0,s.Lk)("div",rr,[(0,s.Lk)("div",or,[(0,s.bF)(m)]),(0,s.Lk)("div",sr,[(0,s.bF)(g,{filter:l.filter},null,8,["filter"])])])])])}const dr={class:"pt-6"},nr={key:0,class:"flex-col sm:flex md:flex-col"},ir={class:"p-4"},cr=(0,s.Lk)("h5",{class:"md:text-xl text-sm font-bold pb-2"},"Vendas por Mês",-1),ur={class:"p-4"},pr=(0,s.Lk)("h5",{class:"md:text-xl text-sm font-bold pb-2"},"Valor total vendido por mês",-1),hr={key:1},mr=(0,s.Lk)("p",null,"Carregando dados...",-1),gr=[mr];function br(e,t,a,r,o,l){const d=(0,s.g2)("Bar");return(0,s.uX)(),(0,s.CE)("div",dr,[o.dataLoaded?((0,s.uX)(),(0,s.CE)("div",nr,[(0,s.Lk)("div",ir,[cr,((0,s.uX)(),(0,s.Wv)(d,{id:"QtdMes",key:o.componentKey,options:o.chartOptions,data:o.ChartQtd},null,8,["options","data"]))]),(0,s.Lk)("div",ur,[pr,((0,s.uX)(),(0,s.Wv)(d,{id:"ValorMes",options:o.chartOptions,data:o.ChartValor,key:o.componentKey},null,8,["options","data"]))])])):((0,s.uX)(),(0,s.CE)("div",hr,gr))])}const kr=b.URL_BASE,fr=localStorage.getItem("userToken"),yr={async getAll(e){try{const t={Authorization:`Bearer ${fr}`},a=await g.A.get(`${kr}/venda`,{params:e,headers:t});return a.data}catch(t){throw console.error("Erro ao obter venda:",t),new Error("Erro ao obter venda da API.")}},async getById(e){try{const t=await g.A.get(`${kr}/venda/${e}`,{headers:{Authorization:`Bearer ${fr}`}});return t.data}catch(t){throw console.error("Erro ao obter venda:",t),new Error("Erro ao obter venda da API.")}},async cadastrar(e){try{const t=await g.A.post(`${kr}/venda`,e,{headers:{Authorization:`Bearer ${fr}`}});if(201===t.status)return await this.atualizarQuantidadeDoProduto(e.produto_id,e.quantidade),{success:!0,message:"Venda cadastrada com sucesso"}}catch(t){return console.error("Erro ao cadastrar a venda:",t),{success:!1,message:"Erro ao cadastrar a venda"}}},async atualizarQuantidadeDoProduto(e,t){try{const a=await g.A.put(`${kr}/venda/${e}/atualizar-quantidade`,{quantidade:t},{headers:{Authorization:`Bearer ${fr}`}});201===a.status&&console.log("Quantidade do produto atualizada com sucesso")}catch(a){throw console.error("Erro ao atualizar quantidade do produto:",a),new Error("Erro ao atualizar quantidade do produto da API.")}},async atualizar(e,t){try{const a=await g.A.put(`${kr}/venda/${e}`,t,{headers:{Authorization:`Bearer ${fr}`}});if(201===a.status)return{success:!0,message:"Cadastro de venda atualizada com sucesso"}}catch(a){throw console.error("Erro ao atualizar venda:",a),new Error("Erro ao atualizar venda da API.")}},async remover(e){try{const t=await g.A.delete(`${kr}/venda/${e}`,{headers:{Authorization:`Bearer ${fr}`}});if(201===t.status)return{success:!0,message:"Cadastro de venda removido com sucesso"}}catch(t){throw console.error("Erro ao remover venda:",t),new Error("Erro ao remover venda da API.")}}};var xr=yr;Ht.t1.register(Ht.hE,Ht.m_,Ht.s$,Ht.E8,Ht.PP,Ht.kc);const vr=["Janeiro","Fevereiro","Março","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"];var wr={props:["filter"],name:"BarChart",components:{Bar:Nt.yP},data(){return{componentKey:0,loading:!1,dataLoaded:!1,ChartValor:{labels:[],datasets:[{label:"Valor total por mês",backgroundColor:"#228B22",data:[]}]},ChartQtd:{labels:[],datasets:[{label:"Total de vendas por mês",backgroundColor:"#DAA520",data:[]}]},chartOptions:{responsive:!0}}},watch:{filter:{immediate:!0,handler(e){this.getAll()}}},methods:{getNomeMes(e){return vr[e-1]},async getAll(){try{let e={all:"0",agrupar_mes:"1"};if(null!==this.filter&&Object.keys(this.filter).length>0)switch(!0){case void 0!==this.filter.ord_data:this.filter.ord_mes=this.filter.ord_data,delete this.filter.ord_data;case void 0!==this.filter.ord_valor:this.filter.ord_mes_valor=this.filter.ord_valor,delete this.filter.ord_valor;default:e={all:"0",agrupar_mes:"1",...this.filter};break}this.loading=!0;const t=await xr.getAll(e),a=(new Date).getMonth();this.ChartValor.labels=[],this.ChartValor.datasets[0].data=[],this.ChartQtd.labels=[],this.ChartQtd.datasets[0].data=[];for(let r of t){if(r.mes==a){this.currentMonth=r;const e=r.total_preco/r.total_quantidade;r.ticket=e,this.emitVenda(r)}this.ChartValor.labels.push(this.getNomeMes(r.mes)),this.ChartQtd.labels.push(this.getNomeMes(r.mes)),this.ChartValor.datasets[0].data.push(parseFloat(r.total_preco.replace(",","."))),this.ChartQtd.datasets[0].data.push(r.total_quantidade),this.componentKey++}this.dataLoaded=!0}catch(e){this.emitVenda({total_preco:0,total_quantidade:"Não há registros"}),this.ChartValor.labels=[],this.ChartValor.datasets[0].data=[""],this.ChartQtd.labels=[],this.ChartQtd.datasets[0].data=[],this.componentKey++,console.error("Erro ao obter vendas:",e)}finally{this.loading=!1}},emitVenda(e){this.$emit("currentMonth",e)}}};const Lr=(0,w.A)(wr,[["render",br]]);var Cr=Lr;const Ar={class:"pt-6"},Pr=(0,s.Lk)("h5",{class:"md:text-xl text-sm font-bold pb-2"},"Vendas por Cliente",-1),_r={key:1},Dr=(0,s.Lk)("p",null,"Carregando dados...",-1),Er=[Dr];function Sr(e,t,a,r,o,l){const d=(0,s.g2)("Bar");return(0,s.uX)(),(0,s.CE)("div",Ar,[Pr,o.dataLoaded?((0,s.uX)(),(0,s.Wv)(d,{id:"my-chart-id",key:o.componentKey,options:o.chartOptions,data:o.chartData},null,8,["options","data"])):((0,s.uX)(),(0,s.CE)("div",_r,Er))])}Ht.t1.register(Ht.hE,Ht.m_,Ht.s$,Ht.E8,Ht.PP,Ht.kc);var Fr={props:["filter"],emits:["update:modelValue"],name:"BarChart",components:{Bar:Nt.yP},data(){return{componentKey:0,loading:!1,dataLoaded:!1,chartData:{labels:[],datasets:[{label:"Total de vendas por cliente",backgroundColor:[],data:[]}]},chartOptions:{responsive:!0,indexAxis:"y"}}},watch:{filter:{immediate:!0,handler(e){this.getAll()}}},methods:{getRandomColor(){const e=Math.floor(16777215*Math.random()).toString(16);return"#"+e.padStart(6,"0")},async getAll(){try{let e={all:"0",agrupar_cliente:"1"};if(null!==this.filter&&Object.keys(this.filter).length>0)switch(!0){case void 0!==this.filter.ord_data:delete this.filter.ord_data;case void 0!==this.filter.ord_valor:this.filter.ord_mes_valor=this.filter.ord_valor,delete this.filter.ord_valor;default:e={all:"0",agrupar_cliente:"1",...this.filter};break}this.loading=!0;const t=await xr.getAll(e);this.chartData.labels=[],this.chartData.datasets[0].data=[];for(let a of t)this.chartData.labels.push(a.pessoa.nome),this.chartData.datasets[0].data.push(parseFloat(a.total_preco.replace(",","."))),this.chartData.datasets[0].backgroundColor.push(this.getRandomColor()),this.componentKey++;this.dataLoaded=!0}catch(e){this.chartData.labels=[],this.chartData.datasets[0].data=[""],this.componentKey++,console.error("Erro ao obter vendas:",e)}finally{this.loading=!1}}}};const Vr=(0,w.A)(Fr,[["render",Sr]]);var Br=Vr;const Or={class:"pt-6 w-full"},$r={key:0,class:"grid grid-rows-3 grid-cols-6 gap-4"},Mr={class:"row-span-3 col-span-6 md:col-span-4"},Xr=(0,s.Lk)("h5",{class:"md:text-xl text-sm font-bold pb-2"},"Produtos vendidos",-1),Ir={class:"row-span-3 col-span-6 md:col-span-2 pt-4"},qr=(0,s.Lk)("h5",{class:"md:text-xl text-sm font-bold pb-5"},"Produtos sem venda",-1),Gr={class:"overflow-x-auto"},Kr={class:"relative shadow-md sm:rounded-lg"},Ur={class:"w-full h-full text-sm text-left rtl:text-right text-gray-500 dark:text-white"},jr=(0,s.Lk)("thead",{class:"text-xs uppercase bg-gray-50 dark:bg-gray-700 dark:text-white"},[(0,s.Lk)("tr",null,[(0,s.Lk)("th",{scope:"col",class:"px-6 py-3"},"Produto"),(0,s.Lk)("th",{scope:"col",class:"px-6 py-3"},"Qtd"),(0,s.Lk)("th",{scope:"col",class:"px-6 py-3"},"Preço")])],-1),zr={key:0},Tr=(0,s.Lk)("td",{colspan:"5",class:"text-center"}," Nenhum resultado encontrado. ",-1),Qr=[Tr],Rr={scope:"row",class:"px-6 py-4 font-medium text-gray-900 whitespace-nowrap dark:text-white"},Jr={class:"px-6 py-4"},Wr={class:"px-6 py-4"},Nr={key:1},Hr=(0,s.Lk)("p",null,"Carregando dados...",-1),Yr=[Hr];function Zr(e,t,a,r,o,l){const d=(0,s.g2)("Bar");return(0,s.uX)(),(0,s.CE)("div",Or,[o.dataLoaded?((0,s.uX)(),(0,s.CE)("div",$r,[(0,s.Lk)("div",Mr,[Xr,((0,s.uX)(),(0,s.Wv)(d,{id:"my-chart-id",key:o.componentKey,options:o.chartOptions,data:o.chartData},null,8,["options","data"]))]),(0,s.Lk)("div",Ir,[qr,(0,s.Lk)("div",Gr,[(0,s.Lk)("div",Kr,[(0,s.Lk)("table",Ur,[jr,(0,s.Lk)("tbody",null,[o.produtos.length?((0,s.uX)(!0),(0,s.CE)(s.FK,{key:1},(0,s.pI)(o.produtos,(e=>((0,s.uX)(),(0,s.CE)("tr",{key:e.id,class:"odd:bg-white odd:dark:bg-gray-900 even:bg-gray-50 even:dark:bg-gray-800 border-b dark:border-gray-700"},[(0,s.Lk)("th",Rr,(0,A.v_)(e.nome?e.nome:"-"),1),(0,s.Lk)("td",Jr,(0,A.v_)(e.quantidade?e.quantidade:e.total_quantidade),1),(0,s.Lk)("td",Wr,(0,A.v_)(l.formatCurrency(e.preco?e.preco:e.total_preco)),1)])))),128)):((0,s.uX)(),(0,s.CE)("tr",zr,Qr))])])])])])])):((0,s.uX)(),(0,s.CE)("div",Nr,Yr))])}Ht.t1.register(Ht.hE,Ht.m_,Ht.s$,Ht.E8,Ht.PP,Ht.kc);var eo={props:["filter"],emits:["update:modelValue"],name:"BarChart",components:{Bar:Nt.yP},data(){return{produtos:[],componentKey:0,loading:!1,dataLoaded:!1,chartData:{labels:[],datasets:[{label:"Total de vendas por produto",backgroundColor:[],data:[]}]},chartOptions:{responsive:!0,indexAxis:"y"}}},watch:{filter:{immediate:!0,handler(e){this.getAll()}}},methods:{formatCurrency(e){const t=parseInt(e,10);return t.toLocaleString("pt-BR",{style:"currency",currency:"BRL"})},getRandomColor(){const e=Math.floor(16777215*Math.random()).toString(16);return"#"+e.padStart(6,"0")},async getAll(){try{let e={all:"0",agrupar_produto:"1"};if(null!==this.filter&&Object.keys(this.filter).length>0)switch(!0){case void 0!==this.filter.ord_data:delete this.filter.ord_data;case void 0!==this.filter.ord_valor:this.filter.ord_mes_valor=this.filter.ord_valor,delete this.filter.ord_valor;default:e={all:"0",agrupar_produto:"1",...this.filter};break}this.loading=!0;const t=await xr.getAll(e);this.chartData.labels=[],this.chartData.datasets[0].data=[];const a=new Set;for(let o of t)this.chartData.labels.push(o.produto.nome),this.chartData.datasets[0].data.push(parseFloat(o.total_preco.replace(",","."))),this.chartData.datasets[0].backgroundColor.push(this.getRandomColor()),this.componentKey++,a.add(o.produto_id);const r=await Vt.getAll({all:"0"});this.produtos=r.filter((e=>!a.has(e.id))),this.dataLoaded=!0}catch(e){this.chartData.labels=[],this.chartData.datasets[0].data=[""],this.componentKey++,console.error("Erro ao obter vendas:",e)}finally{this.loading=!1}}}};const to=(0,w.A)(eo,[["render",Zr]]);var ao=to;const ro={class:"pt-6 w-full"},oo={class:"flex-col md:flex-row flex"},so={key:0,class:"p-4 w-full md:w-1/2"},lo=(0,s.Lk)("h5",{class:"md:text-xl text-sm font-bold pb-2"},"Vendas por Marca",-1),no={key:1},io=(0,s.Lk)("p",null,"Carregando dados...",-1),co=[io],uo={key:2,class:"p-4 w-full md:w-1/2"},po=(0,s.Lk)("h5",{class:"md:text-xl text-sm font-bold pb-2"},"Vendas por Grupo",-1);function ho(e,t,a,r,o,l){const d=(0,s.g2)("Bar");return(0,s.uX)(),(0,s.CE)("div",ro,[(0,s.Lk)("div",oo,[o.dataLoaded?((0,s.uX)(),(0,s.CE)("div",so,[lo,((0,s.uX)(),(0,s.Wv)(d,{id:"vendaMarca",key:o.componentKey,options:o.chartOptions,data:o.ChartMarca},null,8,["options","data"]))])):((0,s.uX)(),(0,s.CE)("div",no,co)),o.dataLoaded?((0,s.uX)(),(0,s.CE)("div",uo,[po,((0,s.uX)(),(0,s.Wv)(d,{key:o.componentKey,id:"vendaGrupo",options:o.chartOptions,data:o.ChartGrupo},null,8,["options","data"]))])):(0,s.Q3)("",!0)])])}Ht.t1.register(Ht.hE,Ht.m_,Ht.s$,Ht.E8,Ht.PP,Ht.kc);var mo={props:["filter"],name:"BarChart",components:{Bar:Nt.yP},data(){return{marcas:[],grupos:[],componentKey:0,loading:!1,dataLoaded:!1,ChartMarca:{labels:[],datasets:[{label:"Total de vendas por marca",backgroundColor:"#228B22",data:[]}]},ChartGrupo:{labels:[],datasets:[{label:"Total de vendas por grupo",backgroundColor:"#DAA520",data:[]}]},chartOptions:{responsive:!0}}},watch:{filter:{immediate:!0,handler(e){this.getAll()}}},methods:{async getAll(){try{let e={all:"0",agrupar_produto:"1"};if(null!==this.filter&&Object.keys(this.filter).length>0)switch(!0){case void 0!==this.filter.ord_data:delete this.filter.ord_data;case void 0!==this.filter.ord_valor:this.filter.ord_mes_valor=this.filter.ord_valor,delete this.filter.ord_valor;default:e={all:"0",agrupar_produto:"1",...this.filter};break}this.loading=!0;const t=await xr.getAll(e),a={},r={};for(const o of t){const e=o.produto.marca.nome,t=parseFloat(o.total_preco),s=o.produto.grupo_produto.nome,l=parseFloat(o.total_preco);a[e]=(a[e]||0)+t,r[s]=(r[s]||0)+l}this.ChartMarca.labels=Object.keys(a),this.ChartMarca.datasets[0].data=Object.values(a),this.ChartGrupo.labels=Object.keys(r),this.ChartGrupo.datasets[0].data=Object.values(r),this.componentKey++,this.dataLoaded=!0}catch(e){this.ChartGrupo.labels=[],this.ChartGrupo.datasets[0].data=[""],this.ChartMarca.labels=[],this.ChartMarca.datasets[0].data=[],this.componentKey++,console.error("Erro ao obter vendas:",e)}finally{this.loading=!1}}}};const go=(0,w.A)(mo,[["render",ho]]);var bo=go;const ko={class:"pt-6"},fo={key:0,class:"row-span-3 col-span-6 md:col-span-2 pt-4"},yo=(0,s.Lk)("h5",{class:"md:text-xl text-sm font-bold pb-5"},"Média de tempo de venda",-1),xo={class:"overflow-x-auto"},vo={class:"relative shadow-md sm:rounded-lg"},wo={class:"w-full h-full text-sm text-left rtl:text-right text-gray-500 dark:text-white"},Lo=(0,s.Lk)("thead",{class:"text-xs uppercase bg-gray-50 dark:bg-gray-700 dark:text-white"},[(0,s.Lk)("tr",null,[(0,s.Lk)("th",{scope:"col",class:"md:px-3 md:py-4 px-1 py-2"},"Produto"),(0,s.Lk)("th",{scope:"col",class:"md:px-3 md:py-4 px-1 py-2"},"Média em dias")])],-1),Co={key:0},Ao=(0,s.Lk)("td",{colspan:"5",class:"text-center"}," Nenhum resultado encontrado. ",-1),Po=[Ao],_o={scope:"row",class:"md:px-3 md:py-4 px-1 py-2 font-medium text-gray-900 whitespace-nowrap dark:text-white"},Do={class:"md:px-3 md:py-4 px-1 py-2"},Eo={key:1},So=(0,s.Lk)("p",null,"Carregando dados...",-1),Fo=[So];function Vo(e,t,a,r,o,l){return(0,s.uX)(),(0,s.CE)("div",ko,[o.dataLoaded?((0,s.uX)(),(0,s.CE)("div",fo,[yo,(0,s.Lk)("div",xo,[(0,s.Lk)("div",vo,[(0,s.Lk)("table",wo,[Lo,(0,s.Lk)("tbody",null,[o.vendaMedia.length?((0,s.uX)(!0),(0,s.CE)(s.FK,{key:1},(0,s.pI)(o.vendaMedia,(e=>((0,s.uX)(),(0,s.CE)("tr",{key:e.produto_nome,class:"odd:bg-white odd:dark:bg-gray-900 even:bg-gray-50 even:dark:bg-gray-800 border-b dark:border-gray-700"},[(0,s.Lk)("th",_o,(0,A.v_)(e.produto_nome?e.produto_nome:"-"),1),(0,s.Lk)("td",Do,(0,A.v_)(e.media_tempo_venda?e.media_tempo_venda:""),1)])))),128)):((0,s.uX)(),(0,s.CE)("tr",Co,Po))])])])])])):((0,s.uX)(),(0,s.CE)("div",Eo,Fo))])}Ht.t1.register(Ht.hE,Ht.m_,Ht.s$,Ht.E8,Ht.PP,Ht.kc);var Bo={name:"MediaTableComponent",components:{Bar:Nt.yP},data(){return{vendaMedia:[],loading:!1,dataLoaded:!1}},methods:{async getAll(){try{let e={all:"0",media_tempo:"1"};this.loading=!0;const t=await xr.getAll(e);t.forEach((e=>{const t=parseFloat(e.media_tempo_venda);e.media_tempo_venda=t.toFixed(2)})),this.vendaMedia=t,this.dataLoaded=!0}catch(e){console.error("Erro ao obter vendas:",e)}finally{this.loading=!1}}},mounted(){this.getAll()}};const Oo=(0,w.A)(Bo,[["render",Vo]]);var $o=Oo;const Mo={class:"pt-6"},Xo=(0,s.Lk)("h5",{class:"md:text-xl text-sm font-bold pb-2"},"Vendas por Cliente",-1),Io={key:1},qo=(0,s.Lk)("p",null,"Carregando dados...",-1),Go=[qo];function Ko(e,t,a,r,o,l){const d=(0,s.g2)("Bar");return(0,s.uX)(),(0,s.CE)("div",Mo,[Xo,o.dataLoaded?((0,s.uX)(),(0,s.Wv)(d,{id:"my-chart-id",key:o.componentKey,options:o.chartOptions,data:o.chartData,class:"w-full"},null,8,["options","data"])):((0,s.uX)(),(0,s.CE)("div",Io,Go))])}Ht.t1.register(Ht.hE,Ht.m_,Ht.s$,Ht.E8,Ht.PP,Ht.kc);var Uo={props:["filter"],emits:["update:modelValue"],name:"BarChart",components:{Bar:Nt.yP},data(){return{componentKey:0,loading:!1,dataLoaded:!1,chartData:{labels:[],datasets:[{label:"Total de vendas por cliente",backgroundColor:[],data:[]}]},chartOptions:{responsive:!0}}},watch:{filter:{immediate:!0,handler(e){this.getAll()}}},methods:{getRandomColor(){const e=Math.floor(16777215*Math.random()).toString(16);return"#"+e.padStart(6,"0")},async getAll(){try{let e={all:"0",agrupar_dia:"1"};if(null!==this.filter&&Object.keys(this.filter).length>0)switch(!0){case void 0!==this.filter.ord_data:delete this.filter.ord_data;case void 0!==this.filter.ord_valor:this.filter.ord_mes_valor=this.filter.ord_valor,delete this.filter.ord_valor;default:e={all:"0",agrupar_dia:"1",...this.filter};break}this.loading=!0;const t=await xr.getAll(e);this.chartData.labels=[],this.chartData.datasets[0].data=[];for(let a of t)data=a.dia+"/"+a.mes,this.chartData.labels.push(data),this.chartData.datasets[0].data.push(parseFloat(a.total_preco.replace(",","."))),this.chartData.datasets[0].backgroundColor.push(this.getRandomColor()),this.componentKey++;this.dataLoaded=!0}catch(e){this.chartData.labels=[],this.chartData.datasets[0].data=[""],this.componentKey++,console.error("Erro ao obter vendas:",e)}finally{this.loading=!1}}}};const jo=(0,w.A)(Uo,[["render",Ko]]);var zo=jo,To={name:"DashboardSaleComponent",components:{SelectPessoaComponent:At,SelectProdutoComponent:$t,VendasChartComponent:Cr,ClientesChartComponent:Br,ProdutosChartComponent:ao,CategoryChartComponent:bo,MediaTableComponent:$o,VendasDiaChartComponent:zo},data(){return{selectedPeople:"",filter:{},selectedProduct:"",selectedData:"",selectedDateEnd:"",selectedOrdData:"",selectedOrdValor:"",handlePages:"",currentMonthSale:[],sale:[],arrayPage:[],paginate:{},minSearchLength:3,currentPage:1,itemsPerPage:10}},computed:{},methods:{formatDate(e){const t=new Date(e);return t.toLocaleDateString("pt-BR")},formatCurrency(e){const t=parseInt(e,10);return t.toLocaleString("pt-BR",{style:"currency",currency:"BRL"})},async getAll(){try{this.buildParams()}catch(e){console.error("Erro ao obter vendas",e),this.sale=[],this.paginate=[]}},shouldApplyFilter(){return this.selectedPeople||this.selectedProduct||this.selectedData||this.selectedDateEnd||this.selectedOrdData||this.selectedOrdValor},buildParams(){const e={};return this.selectedPeople&&(e.pessoa_id=this.selectedPeople),this.selectedProduct&&(e.produto_id=this.selectedProduct),this.selectedData&&(e.data=this.selectedData),this.selectedDateEnd&&(e.data_fim=this.selectedDateEnd),this.selectedOrdData&&(e.ord_data=this.selectedOrdData),this.selectedOrdValor&&(e.ord_valor=this.selectedOrdValor),this.handlePages&&(e.page=this.handlePages),this.filter=e,e},updateSelectedPeople(e){this.selectedPeople=e},updatecurrentMonthSale(e){this.currentMonthSale=e},updateSelectedProduct(e){this.selectedProduct=e,this.handleFilterChange()},handleFilterChange(){this.shouldApplyFilter()?this.currentPage=1:this.getAll()}},watch:{selectedPeople(){this.shouldApplyFilter()&&this.getAll()},selectedProduct(){this.shouldApplyFilter()&&this.getAll()},selectedData(){this.shouldApplyFilter()&&this.getAll()},selectedDateEnd(){this.shouldApplyFilter()&&this.getAll()},selectedOrdData(){this.shouldApplyFilter()&&this.getAll()},selectedOrdValor(){this.shouldApplyFilter()&&this.getAll()},currentMonthSale(){}}};const Qo=(0,w.A)(To,[["render",lr]]);var Ro=Qo,Jo={name:"HomeComponent",components:{DashboardComponent:_e,DashboardBuyComponent:ha,DashboardSaleComponent:Ro},data(){return{divAtual:"venda"}},methods:{mostrarDiv(e){this.divAtual=e}}};const Wo=(0,w.A)(Jo,[["render",B]]);var No=Wo;const Ho=e=>((0,s.Qi)("data-v-27e88199"),e=e(),(0,s.jt)(),e),Yo={class:"flex justify-center items-center text-gray-700 dark:text-white"},Zo={class:"w-full p-4 sm:p-6 md:p-8 dark:bg-gray-800"},es=Ho((()=>(0,s.Lk)("h5",{class:"text-xl font-medium text-gray-900 dark:text-white text-center border-b-2 mb-4 pb-4 border-gray-900"}," Cadastro de Pessoa ",-1))),ts={class:"flex flex-wrap -mx-3 mb-6"},as={class:"w-full md:w-1/2 px-3 mb-6 md:mb-0"},rs=Ho((()=>(0,s.Lk)("label",{for:"nome",class:"block uppercase tracking-wide text-xs font-bold mb-2"},"Nome",-1))),os={class:"w-full md:w-1/2 px-3 mb-6 md:mb-0"},ss=Ho((()=>(0,s.Lk)("label",{for:"idade",class:"block uppercase tracking-wide text-xs font-bold mb-2"},"Idade",-1))),ls={class:"w-full mb-6 md:mb-0"},ds=Ho((()=>(0,s.Lk)("label",{for:"email",class:"block uppercase tracking-wide text-xs font-bold mb-2"},"Email",-1))),ns={class:"flex flex-wrap -mx-3 mb-6"},is={class:"w-full md:w-1/2 px-3"},cs=Ho((()=>(0,s.Lk)("label",{for:"senha",class:"block uppercase tracking-wide text-xs font-bold mb-2"},"Senha",-1))),us={class:"w-full md:w-1/2 px-3"},ps=Ho((()=>(0,s.Lk)("label",{for:"password_confirmation",class:"block uppercase tracking-wide text-xs font-bold mb-2"},"Confirmar senha",-1))),hs={class:"flex flex-wrap -mx-3 mb-2"},ms={class:"w-full md:w-1/2 px-3 mb-6 md:mb-0"},gs=Ho((()=>(0,s.Lk)("label",{for:"grid-state",class:"block uppercase tracking-wide text-xs font-bold mb-2"},"Genero",-1))),bs=Ho((()=>(0,s.Lk)("option",null,null,-1))),ks=Ho((()=>(0,s.Lk)("option",null,"Masculino",-1))),fs=Ho((()=>(0,s.Lk)("option",null,"Feminino",-1))),ys=Ho((()=>(0,s.Lk)("option",null,"Outro...",-1))),xs=[bs,ks,fs,ys],vs={class:"w-full md:w-1/2 px-3 mb-6 md:mb-0"},ws=Ho((()=>(0,s.Lk)("label",{for:"grid-state",class:"block uppercase tracking-wide text-xs font-bold mb-2"},"Grupo",-1))),Ls=Ho((()=>(0,s.Lk)("option",null,null,-1))),Cs=Ho((()=>(0,s.Lk)("option",{value:"1"},"Fornecedor",-1))),As=Ho((()=>(0,s.Lk)("option",{value:"2"},"Cliente",-1))),Ps=Ho((()=>(0,s.Lk)("option",{value:"3"},"Funcionario",-1))),_s=[Ls,Cs,As,Ps],Ds={class:"pt-4"},Es={type:"submit",class:"w-full text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800"},Ss={class:"mt-4"};function Fs(e,t,a,o,l,d){const n=(0,s.g2)("DashboardComponent");return(0,s.uX)(),(0,s.Wv)(n,null,{"slot-pages":(0,s.k6)((()=>[(0,s.Lk)("div",Yo,[(0,s.Lk)("div",Zo,[es,(0,s.Lk)("form",{ref:"{formRef}",onSubmit:t[7]||(t[7]=(0,r.D$)(((...e)=>o.handleSave&&o.handleSave(...e)),["prevent"])),class:"p-2"},[(0,s.Lk)("div",ts,[(0,s.Lk)("div",as,[rs,(0,s.bo)((0,s.Lk)("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>o.formData.nome=e),class:(0,A.C4)([{"invalid-input":e.triedToSubmit&&!e.nomeFilled},"appearance-none block w-full bg-gray-200 dark:bg-gray-500 border border-gray-200 rounded py-3 px-4 mb-3 leading-tight focus:outline-none focus:bg-white focus:border-gray-500"]),id:"nome",type:"text",placeholder:"Seu nome Completo"},null,2),[[r.Jo,o.formData.nome]])]),(0,s.Lk)("div",os,[ss,(0,s.bo)((0,s.Lk)("input",{"onUpdate:modelValue":t[1]||(t[1]=e=>o.formData.idade=e),class:(0,A.C4)([{"invalid-input":e.triedToSubmit&&!e.idadeFilled},"appearance-none block w-full bg-gray-200 dark:bg-gray-500 border border-gray-200 rounded py-3 px-4 mb-3 leading-tight focus:outline-none focus:bg-white focus:border-gray-500"]),id:"idade",type:"number",placeholder:"Sua idade"},null,2),[[r.Jo,o.formData.idade]])])]),(0,s.Lk)("div",ls,[ds,(0,s.bo)((0,s.Lk)("input",{"onUpdate:modelValue":t[2]||(t[2]=e=>o.formData.email=e),class:(0,A.C4)([{"invalid-input":e.triedToSubmit&&!e.emailFilled},"appearance-none block w-full bg-gray-200 dark:bg-gray-500 border border-gray-200 rounded py-3 px-4 mb-3 leading-tight focus:outline-none focus:bg-white focus:border-gray-500"]),type:"email",name:"email",id:"email",placeholder:"Email"},null,2),[[r.Jo,o.formData.email]])]),(0,s.Lk)("div",ns,[(0,s.Lk)("div",is,[cs,(0,s.bo)((0,s.Lk)("input",{"onUpdate:modelValue":t[3]||(t[3]=e=>o.formData.password=e),class:(0,A.C4)([{"invalid-input":e.triedToSubmit&&!e.senhaFilled},"appearance-none block w-full bg-gray-200 dark:bg-gray-500 border border-gray-200 rounded py-3 px-4 mb-3 leading-tight focus:outline-none focus:bg-white focus:border-gray-500"]),id:"password",type:"password",placeholder:"******************"},null,2),[[r.Jo,o.formData.password]])]),(0,s.Lk)("div",us,[ps,(0,s.bo)((0,s.Lk)("input",{"onUpdate:modelValue":t[4]||(t[4]=e=>o.formData.password_confirmation=e),class:(0,A.C4)([{"invalid-input":e.triedToSubmit&&!e.senhaFilled},"appearance-none block w-full bg-gray-200 dark:bg-gray-500 border border-gray-200 rounded py-3 px-4 mb-3 leading-tight focus:outline-none focus:bg-white focus:border-gray-500"]),id:"password_confirmation",type:"password",placeholder:"******************"},null,2),[[r.Jo,o.formData.password_confirmation]])])]),(0,s.Lk)("div",hs,[(0,s.Lk)("div",ms,[gs,(0,s.bo)((0,s.Lk)("select",{"onUpdate:modelValue":t[5]||(t[5]=e=>o.formData.genero=e),class:(0,A.C4)([{"invalid-input":e.triedToSubmit&&!e.generoFilled},"block appearance-none w-full bg-gray-200 dark:bg-gray-500 border border-gray-200 py-3 px-4 pr-8 rounded leading-tight focus:outline-none focus:bg-white focus:border-gray-500"]),id:"grid-state"},xs,2),[[r.u1,o.formData.genero]])]),(0,s.Lk)("div",vs,[ws,(0,s.bo)((0,s.Lk)("select",{"onUpdate:modelValue":t[6]||(t[6]=e=>o.formData.grupo_pessoa_id=e),class:(0,A.C4)([{"invalid-input":e.triedToSubmit&&!e.grupoPessoaIdFilled},"block appearance-none w-full bg-gray-200 dark:bg-gray-500 border border-gray-200 py-3 px-4 pr-8 rounded leading-tight focus:outline-none focus:bg-white focus:border-gray-500"]),id:"grid-state"},_s,2),[[r.u1,o.formData.grupo_pessoa_id]])])]),(0,s.Lk)("div",Ds,[(0,s.Lk)("button",Es,["nova"===e.id?((0,s.uX)(),(0,s.CE)(s.FK,{key:0},[(0,s.eW)(" ok ")],64)):((0,s.uX)(),(0,s.CE)(s.FK,{key:1},[(0,s.eW)(" Cadastrar ")],64))])]),(0,s.Lk)("div",Ss,[(0,s.Lk)("span",{class:(0,A.C4)(["text-center text-sm",{"text-green-500":e.sucesso,"text-red-500":!e.sucesso&&e.feedbackMessage}])},(0,A.v_)(e.feedbackMessage),3)])],544)])])])),_:1})}var Vs=a(953),Bs={name:"PeopleDetailComponent",components:{DashboardComponent:_e},setup(){const e=(0,o.lq)(),t=(0,o.rd)(),a=(0,Vs.KR)(null),r=e.params.id||"nova",l=(0,Vs.Kh)({nome:"",idade:"",email:"",password:"",grupo_pessoa_id:"",genero:"",user_id:""}),d=(0,Vs.KR)(!1);(0,s.nT)((()=>{"nova"!==r?wt.getById(r).then((e=>{if(e instanceof Error)alert(e.message),t.push("/pessoas");else{const{pessoa:t}=e;l.nome=t.nome,l.idade=t.idade,l.grupo_pessoa_id=t.grupo_pessoa_id,l.genero=t.genero,x.getById(t.user_id).then((e=>{const{user:t}=e;l.email=t.email}))}})):a.value?.setData({})}));const n=()=>{d.value=!0,"nova"===r?x.register(l.email,l.password,l.password_confirmation,l.nome).then((e=>{e instanceof Error?alert(e.message):(l.user_id=e.id,wt.cadastrar(l).then((e=>{e instanceof Error?alert(e.message):t.push("/pessoa")})))})):wt.atualizar(r,{id:r,...l}).then((e=>{e instanceof Error?alert(e.message):t.push("/pessoa")}))};return{formRef:a,formData:l,handleSave:n}}};const Os=(0,w.A)(Bs,[["render",Fs],["__scopeId","data-v-27e88199"]]);var $s=Os;const Ms={class:"flex justify-center items-center text-gray-700 dark:text-white"},Xs={class:"w-full p-4 sm:p-6 md:p-8 dark:bg-gray-800"},Is=(0,s.Lk)("h5",{class:"md:text-2xl text-xl font-medium text-gray-900 dark:text-white text-center border-b-2 mb-4 pb-2 border-gray-900"}," Pessoas ",-1),qs={class:"flex justify-center"},Gs={class:"mb-4 flex pt-4 items-center pl-2"},Ks={class:"w-[290px] md:w-[400px] flex rounded border border-gray-300 shadow-lg bg-gray-200 shadow-indigo-500/40 dark:bg-gray-600 dark:shadow-gray-600/40"},Us={class:""},js=(0,s.Lk)("div",{class:"w-[40px]"},[(0,s.Lk)("span",{class:"float-end md:py-3 md:px-3 py-1 px-1 bg-slate-300 dark:bg-gray-700"},[(0,s.Lk)("i",{class:"fa-solid fa-magnifying-glass"})])],-1),zs={class:"flex flex-wrap items-center justify-between mb-4"},Ts={class:"mb-4 w-full md:w-1/4"},Qs=(0,s.Lk)("label",{class:"block uppercase tracking-wide text-xs font-bold mb-2"}," Grupo ",-1),Rs={class:"mb-4 w-full md:w-1/4"},Js=(0,s.Lk)("label",{class:"block uppercase tracking-wide text-xs font-bold mb-2"}," Genero ",-1),Ws=(0,s.Lk)("option",{value:"",selected:""},"Todos os gêneros",-1),Ns=(0,s.Lk)("option",{value:"Masculino"},"Masculino",-1),Hs=(0,s.Lk)("option",{value:"Feminino"},"Feminino",-1),Ys=(0,s.Lk)("option",{value:"other"},"Outro",-1),Zs=[Ws,Ns,Hs,Ys],el={class:"mb-4 w-full md:w-1/4"},tl=(0,s.Lk)("label",{class:"block uppercase tracking-wide text-xs font-bold mb-2"}," Idade ",-1),al={class:"overflow-x-auto"},rl={class:"relative shadow-md sm:rounded-lg max-h-screen"},ol={class:"w-full h-full text-sm text-left overflow-y-auto rtl:text-right text-gray-500 dark:text-white"},sl=(0,s.Lk)("thead",{class:"text-xs uppercase bg-gray-50 dark:bg-gray-700 dark:text-white"},[(0,s.Lk)("tr",null,[(0,s.Lk)("th",{scope:"col",class:"md:px-6 md:py-3 px-4 py-1"},"Nome"),(0,s.Lk)("th",{scope:"col",class:"md:px-6 md:py-3 px-4 py-1"},"Gênero"),(0,s.Lk)("th",{scope:"col",class:"md:px-6 md:py-3 px-4 py-1"},"Idade"),(0,s.Lk)("th",{scope:"col",class:"md:px-6 md:py-3 px-4 py-1"},"Grupo"),(0,s.Lk)("th",{scope:"col",class:"md:px-6 md:py-3 px-4 py-1"},"Ação")])],-1),ll={key:0},dl=(0,s.Lk)("td",{colspan:"5",class:"text-center"}," Nenhum resultado encontrado. ",-1),nl=[dl],il={scope:"row",class:"md:px-6 md:py-3 px-4 py-1 font-medium text-gray-900 whitespace-nowrap dark:text-white"},cl={class:"md:px-6 md:py-3 px-4 py-1"},ul={class:"md:px-6 md:py-3 px-4 py-1"},pl={class:"md:px-6 md:py-3 px-4 py-1"},hl={class:"md:px-6 md:py-3 px-4 py-1"},ml=["onClick"],gl=(0,s.Lk)("i",{class:"text-xl fa-solid fa-eye"},null,-1),bl=[gl],kl=["onClick"],fl=(0,s.Lk)("i",{class:"text-xl fa-solid fa-trash"},null,-1),yl=[fl],xl={class:"flex justify-center mt-4"},vl=["v-html","onClick"];function wl(e,t,a,o,l,d){const n=(0,s.g2)("SelectGrupoComponent"),i=(0,s.g2)("DashboardComponent");return(0,s.uX)(),(0,s.Wv)(i,null,{"slot-pages":(0,s.k6)((()=>[(0,s.Lk)("div",Ms,[(0,s.Lk)("div",Xs,[Is,(0,s.Lk)("div",qs,[(0,s.Lk)("button",{type:"submit",class:"w-30 text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center",onClick:t[0]||(t[0]=e=>d.cadastrar())}," Cadastrar ")]),(0,s.Lk)("div",Gs,[(0,s.Lk)("div",Ks,[(0,s.Lk)("div",Us,[(0,s.bo)((0,s.Lk)("input",{type:"text","onUpdate:modelValue":t[1]||(t[1]=e=>l.searchQuery=e),class:"md:py-3 md:px-3 py-1 px-1 w-[260px] md:w-[360px] dark:bg-gray-600",placeholder:"Pesquisar...",onInput:t[2]||(t[2]=(...e)=>d.handleFilterChange&&d.handleFilterChange(...e))},null,544),[[r.Jo,l.searchQuery]])]),js])]),(0,s.Lk)("div",zs,[(0,s.Lk)("div",Ts,[Qs,(0,s.bF)(n,{onGroupSelected:d.updateSelectedGroup},null,8,["onGroupSelected"])]),(0,s.Lk)("div",Rs,[Js,(0,s.bo)((0,s.Lk)("select",{"onUpdate:modelValue":t[3]||(t[3]=e=>l.selectedGender=e),class:"w-full md:py-2 md:px-3 py-1 px-1 rounded border mr-4 border-gray-300 shadow-lg bg-gray-200 shadow-indigo-500/40 dark:bg-gray-600 dark:shadow-gray-600/40",onChange:t[4]||(t[4]=(...e)=>d.handleFilterChange&&d.handleFilterChange(...e))},Zs,544),[[r.u1,l.selectedGender]])]),(0,s.Lk)("div",el,[tl,(0,s.bo)((0,s.Lk)("input",{type:"number","onUpdate:modelValue":t[5]||(t[5]=e=>l.selectedAge=e),class:"w-full md:py-2 md:px-3 py-1 px-1 rounded border mr-4 border-gray-300 shadow-lg bg-gray-200 shadow-indigo-500/40 dark:bg-gray-600 dark:shadow-gray-600/40",placeholder:"Idade",onInput:t[6]||(t[6]=(...e)=>d.handleFilterChange&&d.handleFilterChange(...e))},null,544),[[r.Jo,l.selectedAge]])])]),(0,s.Lk)("div",al,[(0,s.Lk)("div",rl,[(0,s.Lk)("table",ol,[sl,(0,s.Lk)("tbody",null,[l.people.length?((0,s.uX)(!0),(0,s.CE)(s.FK,{key:1},(0,s.pI)(l.people,(e=>((0,s.uX)(),(0,s.CE)("tr",{key:e.id,class:"odd:bg-white odd:dark:bg-gray-900 even:bg-gray-50 even:dark:bg-gray-800 border-b dark:border-gray-700"},[(0,s.Lk)("th",il,(0,A.v_)(e.nome),1),(0,s.Lk)("td",cl,(0,A.v_)(e.genero),1),(0,s.Lk)("td",ul,(0,A.v_)(e.idade),1),(0,s.Lk)("td",pl,(0,A.v_)(e.grupo_pessoa.nome),1),(0,s.Lk)("td",hl,[(0,s.Lk)("a",{onClick:t=>d.editar(e.id),class:"text-blue-600 pr-4 hover:text-white dark:text-white hover:underline hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center"},bl,8,ml),(0,s.Lk)("a",{onClick:t=>d.remover(e.id),class:"text-blue-600 hover:text-white dark:text-white hover:underline hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center"},yl,8,kl)])])))),128)):((0,s.uX)(),(0,s.CE)("tr",ll,nl))])]),(0,s.Lk)("div",xl,[l.arrayPage.length?((0,s.uX)(!0),(0,s.CE)(s.FK,{key:1},(0,s.pI)(l.arrayPage,(e=>((0,s.uX)(),(0,s.CE)("a",{key:e,"v-html":e,onClick:t=>d.handlePage(e),class:"odd:bg-white odd:dark:bg-gray-900 even:bg-gray-50 even:dark:bg-gray-800 border-b dark:border-gray-700 p-4"},(0,A.v_)(e),9,vl)))),128)):((0,s.uX)(),(0,s.CE)(s.FK,{key:0},[],64))])])])])])])),_:1})}const Ll={class:"w-full"},Cl=(0,s.Lk)("option",{value:"",selected:""},"Todos os grupos",-1),Al=["value"];function Pl(e,t,a,o,l,d){return(0,s.uX)(),(0,s.CE)("div",Ll,[(0,s.bo)((0,s.Lk)("select",{"onUpdate:modelValue":t[0]||(t[0]=e=>l.selectedGroup=e),class:"w-full md:py-2 md:px-3 py-1 px-1 rounded mr-4 shadow-lg bg-gray-200 shadow-indigo-500/40 dark:bg-gray-600 dark:shadow-gray-600/40 border-2",onChange:t[1]||(t[1]=(...e)=>d.handleFilterChange&&d.handleFilterChange(...e))},[Cl,((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(l.groups,(e=>((0,s.uX)(),(0,s.CE)("option",{key:e.id,value:e.id},(0,A.v_)(e.nome),9,Al)))),128))],544),[[r.u1,l.selectedGroup]])])}const _l=b.URL_BASE,Dl=localStorage.getItem("userToken"),El={async getAll(){try{const e=await g.A.get(`${_l}/grupo_pessoa`,{headers:{Authorization:`Bearer ${Dl}`}});return e.data}catch(e){throw console.error("Erro ao obter grupo de pessoa",e),new Error("Erro ao obter grupo de pessoa da API.")}}};var Sl=El,Fl={data(){return{selectedGroup:"",groups:[],loading:!1}},methods:{async getAll(){try{this.loading=!0;const e=await Sl.getAll();this.groups=e}catch(e){console.error("Erro ao obter grupos:",e)}finally{this.loading=!1}},handleFilterChange(){this.$emit("group-selected",this.selectedGroup)}},mounted(){this.getAll()}};const Vl=(0,w.A)(Fl,[["render",Pl]]);var Bl=Vl,Ol={name:"PeopleListComponent",components:{DashboardComponent:_e,SelectGrupoComponent:Bl},data(){return{searchQuery:"",selectedGroup:"",selectedGender:"",handlePages:"",selectedAge:"",people:[],arrayPage:[],paginate:{},minSearchLength:3,currentPage:1,itemsPerPage:10}},computed:{},methods:{editar(e){this.$router.push(`/pessoa/detalhes/${e}`)},cadastrar(){this.$router.push("/pessoa/detalhes/nova")},async remover(e){try{await wt.remover(e),console.log("Pessoa removida com sucesso!"),this.getAll()}catch(t){console.error("Erro ao remover pessoa:",t)}},async getAll(){try{const e=this.buildParams(),t=await wt.getAll(e);this.$router.push({path:"/pessoa",query:e}),this.people=t.data,this.paginate=t.last_page,this.paginate>1&&(this.arrayPage=this.arrayPages(this.paginate))}catch(e){console.error("Erro ao obter pessoas",e),this.people=[],this.paginate=[]}},shouldApplyFilter(){return this.searchQuery.length>=this.minSearchLength||this.selectedGroup||this.selectedGender||this.selectedGender||this.selectedAge},buildParams(){const e={};return this.selectedGroup&&(e.grupo_id=this.selectedGroup),this.selectedGender&&(e.genero=this.selectedGender),this.searchQuery.length>=this.minSearchLength&&(e.nome=this.searchQuery),this.selectedAge&&(e.idade=this.selectedAge),this.handlePages&&(e.page=this.handlePages),e},updateSelectedGroup(e){this.selectedGroup=e,this.handleFilterChange()},handleFilterChange(){this.shouldApplyFilter()?this.currentPage=1:this.getAll()},arrayPages(e){let t=[];for(let a=1;a<=e;a++)t.push(a);return t},handlePage(e){e&&(this.handlePages=e,this.getAll())}},watch:{searchQuery(){this.shouldApplyFilter()&&this.getAll()},selectedGroup(){this.shouldApplyFilter()&&this.getAll()},selectedGender(){this.shouldApplyFilter()&&this.getAll()},selectedAge(){this.shouldApplyFilter()&&this.getAll()},currentPage(){this.getAll()}},mounted(){this.getAll()}};const $l=(0,w.A)(Ol,[["render",wl]]);var Ml=$l;const Xl=e=>((0,s.Qi)("data-v-c59dfe9a"),e=e(),(0,s.jt)(),e),Il={class:"flex justify-center items-center text-gray-700 dark:text-white"},ql={class:"w-full p-4 sm:p-6 md:p-8 dark:bg-gray-800"},Gl=Xl((()=>(0,s.Lk)("h5",{class:"text-xl font-medium text-gray-900 dark:text-white text-center border-b-2 mb-4 pb-4 border-gray-900"}," Cadastro de Produto ",-1))),Kl={class:"w-auto"},Ul={class:"flex flex-wrap -mx-3"},jl={class:"w-full px-3 mb-6 md:mb-0"},zl=Xl((()=>(0,s.Lk)("label",{for:"nome",class:"block uppercase tracking-wide text-xs font-bold mb-2"},"Nome",-1))),Tl={class:"w-full px-3 mb-6 md:mb-0"},Ql=Xl((()=>(0,s.Lk)("label",{for:"descricao",class:"block uppercase tracking-wide text-xs font-bold mb-2"},"Descrição",-1))),Rl={class:"flex flex-wrap -mx-3 mb-2"},Jl={class:"w-full md:w-1/2 px-3 mb-6 md:mb-0"},Wl=Xl((()=>(0,s.Lk)("label",{for:"marca",class:"block uppercase tracking-wide text-xs font-bold mb-2"},"Marca",-1))),Nl={class:"w-full md:w-1/2 px-3 mb-6 md:mb-0"},Hl=Xl((()=>(0,s.Lk)("label",{for:"grid-state",class:"block uppercase tracking-wide text-xs font-bold mb-2"},"Grupo",-1))),Yl={class:"flex flex-wrap -mx-2 mb-2"},Zl={class:"w-full md:w-1/4 px-3 mb-6 md:mb-0"},ed=Xl((()=>(0,s.Lk)("label",{for:"quantidade",class:"block uppercase tracking-wide text-xs font-bold mb-2"},"quantidade",-1))),td={class:"w-full md:w-2/4 px-3 mb-6 md:mb-0"},ad=Xl((()=>(0,s.Lk)("label",{for:"preco",class:"block uppercase tracking-wide text-xs font-bold mb-2"},"preco",-1))),rd={class:"w-full md:w-1/4 px-3 mb-6 md:mb-0"},od=Xl((()=>(0,s.Lk)("label",{for:"status",class:"block uppercase tracking-wide text-xs font-bold mb-2"},"Status",-1))),sd=Xl((()=>(0,s.Lk)("option",{value:"1",selected:""},"Ativo",-1))),ld=Xl((()=>(0,s.Lk)("option",{value:"0"},"Inativo",-1))),dd=[sd,ld],nd={class:"pt-4"},id={type:"submit",class:"w-full text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800"},cd={class:"mt-4"};function ud(e,t,a,o,l,d){const n=(0,s.g2)("SelectBrandComponent"),i=(0,s.g2)("SelectGrupoComponent"),c=(0,s.g2)("DashboardComponent");return(0,s.uX)(),(0,s.Wv)(c,null,{"slot-pages":(0,s.k6)((()=>[(0,s.Lk)("div",Il,[(0,s.Lk)("div",ql,[Gl,(0,s.Lk)("div",Kl,[(0,s.Lk)("form",{ref:"{formRef}",onSubmit:t[7]||(t[7]=(0,r.D$)(((...e)=>o.handleSave&&o.handleSave(...e)),["prevent"])),class:"p-2"},[(0,s.Lk)("div",Ul,[(0,s.Lk)("div",jl,[zl,(0,s.bo)((0,s.Lk)("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>o.formData.nome=e),class:(0,A.C4)([{"invalid-input":e.triedToSubmit&&!e.nomeFilled},"appearance-none block w-full bg-gray-200 dark:bg-gray-500 border border-gray-200 rounded py-3 px-4 mb-3 leading-tight focus:outline-none focus:bg-white focus:border-gray-500"]),id:"nome",type:"text",placeholder:"Nome do produto"},null,2),[[r.Jo,o.formData.nome]])]),(0,s.Lk)("div",Tl,[Ql,(0,s.bo)((0,s.Lk)("input",{"onUpdate:modelValue":t[1]||(t[1]=e=>o.formData.descricao=e),class:(0,A.C4)([{"invalid-input":e.triedToSubmit&&!e.nomeFilled},"appearance-none block w-full bg-gray-200 dark:bg-gray-500 border border-gray-200 rounded py-3 px-4 mb-3 leading-tight focus:outline-none focus:bg-white focus:border-gray-500"]),id:"descricao",type:"text",placeholder:"Descreva o produto"},null,2),[[r.Jo,o.formData.descricao]])])]),(0,s.Lk)("div",Rl,[(0,s.Lk)("div",Jl,[Wl,(0,s.bF)(n,{modelValue:o.formData.marca_id,"onUpdate:modelValue":t[2]||(t[2]=e=>o.formData.marca_id=e)},null,8,["modelValue"])]),(0,s.Lk)("div",Nl,[Hl,(0,s.bF)(i,{modelValue:o.formData.grupo_produto_id,"onUpdate:modelValue":t[3]||(t[3]=e=>o.formData.grupo_produto_id=e),initialGroup:o.formData.grupo_produto_id},null,8,["modelValue","initialGroup"])])]),(0,s.Lk)("div",Yl,[(0,s.Lk)("div",Zl,[ed,(0,s.bo)((0,s.Lk)("input",{"onUpdate:modelValue":t[4]||(t[4]=e=>o.formData.quantidade=e),class:(0,A.C4)([{"invalid-input":e.triedToSubmit&&!e.idadeFilled},"appearance-none block w-full bg-gray-200 dark:bg-gray-500 border border-gray-200 rounded py-3 px-4 mb-3 leading-tight focus:outline-none focus:bg-white focus:border-gray-500"]),id:"quantidade",type:"number",placeholder:"Quantidade de produtos"},null,2),[[r.Jo,o.formData.quantidade]])]),(0,s.Lk)("div",td,[ad,(0,s.bo)((0,s.Lk)("input",{"onUpdate:modelValue":t[5]||(t[5]=e=>o.formData.preco=e),class:(0,A.C4)([{"invalid-input":e.triedToSubmit&&!e.idadeFilled},"appearance-none block w-full bg-gray-200 dark:bg-gray-500 border border-gray-200 rounded py-3 px-4 mb-3 leading-tight focus:outline-none focus:bg-white focus:border-gray-500"]),id:"preco",type:"number",placeholder:"Preço do produto"},null,2),[[r.Jo,o.formData.preco]])]),(0,s.Lk)("div",rd,[od,(0,s.bo)((0,s.Lk)("select",{"onUpdate:modelValue":t[6]||(t[6]=e=>o.formData.status=e),class:(0,A.C4)([{"invalid-input":e.triedToSubmit&&!e.generoFilled},"block appearance-none w-full bg-gray-200 dark:bg-gray-500 border border-gray-200 py-3 px-4 pr-8 rounded leading-tight focus:outline-none focus:bg-white focus:border-gray-500"]),id:"status"},dd,2),[[r.u1,o.formData.status]])])]),(0,s.Lk)("div",nd,[(0,s.Lk)("button",id,["nova"===e.id?((0,s.uX)(),(0,s.CE)(s.FK,{key:0},[(0,s.eW)(" ok ")],64)):((0,s.uX)(),(0,s.CE)(s.FK,{key:1},[(0,s.eW)(" Cadastrar ")],64))])]),(0,s.Lk)("div",cd,[(0,s.Lk)("span",{class:(0,A.C4)(["text-center text-sm",{"text-green-500":e.sucesso,"text-red-500":!e.sucesso&&e.feedbackMessage}])},(0,A.v_)(e.feedbackMessage),3)])],544)])])])])),_:1})}const pd=(0,s.Lk)("option",{value:"",selected:""},"Todos os grupos",-1),hd=["value"];function md(e,t,a,o,l,d){return(0,s.bo)(((0,s.uX)(),(0,s.CE)("select",{"onUpdate:modelValue":t[0]||(t[0]=e=>l.selectedGroup=e),onChange:t[1]||(t[1]=(...e)=>d.emitGroup&&d.emitGroup(...e)),class:"md:py-2 md:px-3 py-1 px-1 w-full rounded mr-4 shadow-lg bg-gray-200 shadow-indigo-500/40 dark:bg-gray-600 dark:shadow-gray-600/40 border-2 border-gray-300"},[pd,((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(l.groups,(e=>((0,s.uX)(),(0,s.CE)("option",{key:e.id,value:e.id},(0,A.v_)(e.nome),9,hd)))),128))],544)),[[r.u1,l.selectedGroup]])}const gd=b.URL_BASE,bd=localStorage.getItem("userToken"),kd={async getAll(e){try{const t={Authorization:`Bearer ${bd}`};e||(e={});const a=await g.A.get(`${gd}/grupo_produto`,{params:e,headers:t});return a.data}catch(t){throw console.error("Erro ao obter grupo de produto",t),new Error("Erro ao obter grupo de produto da API.")}}};var fd=kd,yd={props:["modelValue","initialGroup"],emits:["update:modelValue"],data(){return{selectedGroup:this.modelValue,groups:[],loading:!1}},watch:{modelValue(e){this.selectedGroup=e},selectedGroup(e){this.$emit("update:modelValue",e)}},methods:{async getAll(){try{this.loading=!0;const e=await fd.getAll();this.groups=e}catch(e){console.error("Erro ao obter grupos:",e)}finally{this.loading=!1}},emitGroup(){this.$emit("update:modelValue",this.selectedGroup),this.$emit("group-selected",this.selectedGroup)}},mounted(){this.initialGroup||this.getAll()}};const xd=(0,w.A)(yd,[["render",md]]);var vd=xd;const wd=(0,s.Lk)("option",{value:"",selected:""},"Todos as marcas",-1),Ld=["value"];function Cd(e,t,a,o,l,d){return(0,s.bo)(((0,s.uX)(),(0,s.CE)("select",{"onUpdate:modelValue":t[0]||(t[0]=e=>l.selectedBrand=e),onChange:t[1]||(t[1]=(...e)=>d.emitBrand&&d.emitBrand(...e)),class:"md:py-2 md:px-3 py-1 px-1 w-full rounded mr-4 shadow-lg bg-gray-200 shadow-indigo-500/40 dark:bg-gray-600 dark:shadow-gray-600/40 border-2 border-gray-300"},[wd,((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(l.marcas,(e=>((0,s.uX)(),(0,s.CE)("option",{key:e.id,value:e.id},(0,A.v_)(e.nome),9,Ld)))),128))],544)),[[r.u1,l.selectedBrand]])}const Ad=b.URL_BASE,Pd=localStorage.getItem("userToken"),_d={async getAll(e){try{const t={Authorization:`Bearer ${Pd}`};e||(e={});const a=await g.A.get(`${Ad}/marca`,{params:e,headers:t});return a.data}catch(t){throw console.error("Erro ao obter marcas",t),new Error("Erro ao obter marcas da API.")}}};var Dd=_d,Ed={props:["modelValue","initialGroup"],emits:["update:modelValue"],data(){return{selectedBrand:this.modelValue,marcas:[],loading:!1}},watch:{modelValue(e){this.selectedBrand=e},selectedBrand(e){this.$emit("update:modelValue",e)}},methods:{async getAll(){try{this.loading=!0;const e=await Dd.getAll();this.marcas=e}catch(e){console.error("Erro ao obter marcas:",e)}finally{this.loading=!1}},emitBrand(){this.$emit("update:modelValue",this.selectedBrand),this.$emit("brand-selected",this.selectedBrand)}},mounted(){this.initialGroup||this.getAll()}};const Sd=(0,w.A)(Ed,[["render",Cd]]);var Fd=Sd,Vd={name:"ProductDetailComponent",components:{DashboardComponent:_e,SelectGrupoComponent:vd,SelectBrandComponent:Fd},setup(){const e=(0,o.lq)(),t=(0,o.rd)(),a=(0,Vs.KR)(null),r=e.params.id||"nova",l=(0,Vs.Kh)({nome:"",descricao:"",status:"",marca_id:"",grupo_produto_id:"",quantidade:"",preco:""}),d=(0,Vs.KR)(!1);(0,s.nT)((()=>{"nova"!==r?Vt.getById(r).then((e=>{if(e instanceof Error)alert(e.message),t.push("/produto");else{const{produto:t}=e;l.nome=t.nome,l.descricao=t.descricao,l.status=t.status,l.grupo_produto_id=t.grupo_produto_id,l.marca_id=t.marca_id,l.quantidade=t.quantidade,l.preco=t.preco}})):a.value?.setData({})}));const n=()=>{d.value=!0,"nova"===r?Vt.cadastrar(l).then((e=>{e instanceof Error?alert(e.message):t.push("/produto")})):Vt.atualizar(r,{id:r,...l}).then((e=>{e instanceof Error?alert(e.message):t.push("/produto")}))};return{formRef:a,formData:l,handleSave:n}}};const Bd=(0,w.A)(Vd,[["render",ud],["__scopeId","data-v-c59dfe9a"]]);var Od=Bd;const $d={class:"flex justify-center items-center text-gray-700 dark:text-white"},Md={class:"w-full p-4 sm:p-6 md:p-8 dark:bg-gray-800"},Xd=(0,s.Lk)("h5",{class:"md:text-2xl text-xl font-medium text-gray-900 dark:text-white text-center border-b-2 mb-4 pb-2 border-gray-900"}," Produtos ",-1),Id={class:"w-auto"},qd={class:"flex justify-center"},Gd={class:"mb-4 flex pt-4 items-center pl-2"},Kd={class:"w-[290px] md:w-[400px] flex rounded border border-gray-300 shadow-lg bg-gray-200 shadow-indigo-500/40 dark:bg-gray-600 dark:shadow-gray-600/40"},Ud={class:""},jd=(0,s.Lk)("div",{class:"w-[40px]"},[(0,s.Lk)("span",{class:"float-end md:py-3 md:px-3 py-1 px-1 bg-slate-300 dark:bg-gray-700"},[(0,s.Lk)("i",{class:"fa-solid fa-magnifying-glass"})])],-1),zd={class:"flex flex-wrap items-center justify-between mb-4 md:flex-row"},Td={class:"mb-4 w-full md:w-1/4"},Qd=(0,s.Lk)("label",{class:"block uppercase tracking-wide text-xs font-bold mb-2"}," Grupo ",-1),Rd={class:"mb-4 w-full md:w-1/4"},Jd=(0,s.Lk)("label",{class:"block uppercase tracking-wide text-xs font-bold mb-2"}," Marca ",-1),Wd={class:"mb-4 w-full md:w-1/4"},Nd=(0,s.Lk)("label",{class:"block uppercase tracking-wide text-xs font-bold mb-2"}," Status ",-1),Hd=(0,s.Lk)("option",{value:"",selected:""},"Todos os Status",-1),Yd=(0,s.Lk)("option",{value:"1"},"Ativo",-1),Zd=(0,s.Lk)("option",{value:"0"},"Inativo",-1),en=[Hd,Yd,Zd],tn={class:"overflow-x-auto"},an={class:"relative shadow-md sm:rounded-lg"},rn={class:"w-full h-full text-sm text-left rtl:text-right text-gray-500 dark:text-white"},on=(0,s.Lk)("thead",{class:"text-xs uppercase bg-gray-50 dark:bg-gray-700 dark:text-white"},[(0,s.Lk)("tr",null,[(0,s.Lk)("th",{scope:"col",class:"px-6 py-3"},"Nome"),(0,s.Lk)("th",{scope:"col",class:"px-6 py-3"},"Marca"),(0,s.Lk)("th",{scope:"col",class:"px-6 py-3"},"Grupo"),(0,s.Lk)("th",{scope:"col",class:"px-6 py-3"},"Status"),(0,s.Lk)("th",{scope:"col",class:"px-6 py-3"},"Qtd"),(0,s.Lk)("th",{scope:"col",class:"px-6 py-3"},"Preço"),(0,s.Lk)("th",{scope:"col",class:"px-6 py-3"},"Ação")])],-1),sn={key:0},ln=(0,s.Lk)("td",{colspan:"5",class:"text-center"}," Nenhum resultado encontrado. ",-1),dn=[ln],nn={scope:"row",class:"md:px-6 md:py-4 px-4 py-2 font-medium text-gray-900 whitespace-nowrap dark:text-white"},cn={class:"md:px-6 md:py-4 px-4 py-2"},un={class:"md:px-6 md:py-4 px-4 py-2"},pn={class:"md:px-6 md:py-4 px-4 py-2"},hn={class:"md:px-6 md:py-4 px-4 py-2"},mn={class:"md:px-6 md:py-4 px-4 py-2"},gn={class:"md:px-6 md:py-4 px-4 py-2"},bn=["onClick"],kn=(0,s.Lk)("i",{class:"text-xl fa-solid fa-eye"},null,-1),fn=[kn],yn=["onClick"],xn=(0,s.Lk)("i",{class:"text-xl fa-solid fa-trash"},null,-1),vn=[xn],wn={class:"flex justify-center mt-4"},Ln=["v-html","onClick"];function Cn(e,t,a,o,l,d){const n=(0,s.g2)("SelectGrupoComponent"),i=(0,s.g2)("SelectBrandComponent"),c=(0,s.g2)("DashboardComponent");return(0,s.uX)(),(0,s.Wv)(c,null,{"slot-pages":(0,s.k6)((()=>[(0,s.Lk)("div",$d,[(0,s.Lk)("div",Md,[Xd,(0,s.Lk)("div",Id,[(0,s.Lk)("div",qd,[(0,s.Lk)("button",{type:"submit",class:"w-30 text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center",onClick:t[0]||(t[0]=e=>d.cadastrar())}," Cadastrar ")]),(0,s.Lk)("div",Gd,[(0,s.Lk)("div",Kd,[(0,s.Lk)("div",Ud,[(0,s.bo)((0,s.Lk)("input",{type:"text","onUpdate:modelValue":t[1]||(t[1]=e=>l.searchQuery=e),class:"md:py-3 md:px-3 py-1 px-1 w-[260px] md:w-[360px] dark:bg-gray-600",placeholder:"Pesquisar...",onInput:t[2]||(t[2]=(...e)=>d.handleFilterChange&&d.handleFilterChange(...e))},null,544),[[r.Jo,l.searchQuery]])]),jd])]),(0,s.Lk)("div",zd,[(0,s.Lk)("div",Td,[Qd,(0,s.bF)(n,{onGroupSelected:d.updateSelectedGroup},null,8,["onGroupSelected"])]),(0,s.Lk)("div",Rd,[Jd,(0,s.bF)(i,{onBrandSelected:d.updateSelectedBrand},null,8,["onBrandSelected"])]),(0,s.Lk)("div",Wd,[Nd,(0,s.bo)((0,s.Lk)("select",{"onUpdate:modelValue":t[3]||(t[3]=e=>l.selectedStatus=e),class:"md:py-2 md:px-3 py-1 px-1 w-full rounded border-2 border-gray-300 mr-4 shadow-lg bg-gray-200 shadow-indigo-500/40 dark:bg-gray-600 dark:shadow-gray-600/40",onChange:t[4]||(t[4]=(...e)=>d.handleFilterChange&&d.handleFilterChange(...e))},en,544),[[r.u1,l.selectedStatus]])])])]),(0,s.Lk)("div",tn,[(0,s.Lk)("div",an,[(0,s.Lk)("table",rn,[on,(0,s.Lk)("tbody",null,[l.product.length?((0,s.uX)(!0),(0,s.CE)(s.FK,{key:1},(0,s.pI)(l.product,(e=>((0,s.uX)(),(0,s.CE)("tr",{key:e.id,class:"odd:bg-white odd:dark:bg-gray-900 even:bg-gray-50 even:dark:bg-gray-800 border-b dark:border-gray-700"},[(0,s.Lk)("th",nn,(0,A.v_)(e.nome),1),(0,s.Lk)("td",cn,(0,A.v_)(e.marca?e.marca.nome:"-"),1),(0,s.Lk)("td",un,(0,A.v_)(e.grupo_produto?e.grupo_produto.nome:"-"),1),(0,s.Lk)("td",pn,(0,A.v_)(1==e.status?"Ativo":"Inativo"),1),(0,s.Lk)("td",hn,(0,A.v_)(e.quantidade),1),(0,s.Lk)("td",mn,(0,A.v_)(d.formatCurrency(e.preco)),1),(0,s.Lk)("td",gn,[(0,s.Lk)("a",{onClick:t=>d.editar(e.id),class:"text-blue-600 pr-4 hover:text-white dark:text-white hover:underline hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center"},fn,8,bn),(0,s.Lk)("a",{onClick:t=>d.remover(e.id),class:"text-blue-600 hover:text-white dark:text-white hover:underline hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center"},vn,8,yn)])])))),128)):((0,s.uX)(),(0,s.CE)("tr",sn,dn))])]),(0,s.Lk)("div",wn,[l.arrayPage.length?((0,s.uX)(!0),(0,s.CE)(s.FK,{key:1},(0,s.pI)(l.arrayPage,(e=>((0,s.uX)(),(0,s.CE)("a",{key:e,"v-html":e,onClick:t=>d.handlePage(e),class:"odd:bg-white odd:dark:bg-gray-900 even:bg-gray-50 even:dark:bg-gray-800 border-b dark:border-gray-700 p-4"},(0,A.v_)(e),9,Ln)))),128)):((0,s.uX)(),(0,s.CE)(s.FK,{key:0},[],64))])])])])])])),_:1})}var An={name:"ProductListComponent",components:{DashboardComponent:_e,SelectGrupoComponent:vd,SelectBrandComponent:Fd},data(){return{searchQuery:"",selectedGroup:"",selectedBrand:"",handlePages:"",selectedStatus:"",product:[],arrayPage:[],paginate:{},minSearchLength:3,currentPage:1,itemsPerPage:10}},computed:{},methods:{editar(e){this.$router.push(`/produto/detalhes/${e}`)},cadastrar(){this.$router.push("/produto/detalhes/nova")},formatCurrency(e){const t=parseInt(e,10);return t.toLocaleString("pt-BR",{style:"currency",currency:"BRL"})},async remover(e){try{await Vt.remover(e),console.log("Produto removida com sucesso!"),this.getAll()}catch(t){console.error("Erro ao remover produto:",t)}},async getAll(){try{const e=this.buildParams(),t=await Vt.getAll(e);this.$router.push({path:"/produto",query:e}),this.product=t.data,this.paginate=t.last_page,this.paginate>1&&(this.arrayPage=this.arrayPages(this.paginate))}catch(e){console.error("Erro ao obter produtos",e),this.product=[],this.paginate=[]}},shouldApplyFilter(){return this.searchQuery.length>=this.minSearchLength||this.selectedGroup||this.selectedBrand||this.selectedStatus},buildParams(){const e={};return this.selectedGroup&&(e.grupo_id=this.selectedGroup),this.selectedBrand&&(e.marca_id=this.selectedBrand),this.searchQuery.length>=this.minSearchLength&&(e.nome=this.searchQuery),this.selectedStatus&&(e.status=this.selectedStatus),this.handlePages&&(e.page=this.handlePages),e},updateSelectedGroup(e){this.selectedGroup=e,this.handleFilterChange()},updateSelectedBrand(e){this.selectedBrand=e,this.handleFilterChange()},handleFilterChange(){this.shouldApplyFilter()?this.currentPage=1:this.getAll()},arrayPages(e){let t=[];for(let a=1;a<=e;a++)t.push(a);return t},handlePage(e){e&&(this.handlePages=e,this.getAll())}},watch:{searchQuery(){this.shouldApplyFilter()&&this.getAll()},selectedGroup(){this.shouldApplyFilter()&&this.getAll()},selectedBrand(){this.shouldApplyFilter()&&this.getAll()},selectedStatus(){this.shouldApplyFilter()&&this.getAll()},currentPage(){this.getAll()}},mounted(){this.getAll()}};const Pn=(0,w.A)(An,[["render",Cn]]);var _n=Pn;const Dn=e=>((0,s.Qi)("data-v-19bb14d3"),e=e(),(0,s.jt)(),e),En={class:"flex justify-center items-center text-gray-700 dark:text-white"},Sn={class:"w-full p-4 sm:p-6 md:p-8 dark:bg-gray-800"},Fn=Dn((()=>(0,s.Lk)("h5",{class:"text-xl font-medium text-gray-900 dark:text-white text-center border-b-2 mb-4 pb-4 border-gray-900"}," Cadastro de Venda ",-1))),Vn={class:"w-auto"},Bn={class:"flex flex-wrap -mx-3 mb-6"},On={class:"w-full md:w-1/2 px-3 mb-6 md:mb-0"},$n=Dn((()=>(0,s.Lk)("label",{class:"block uppercase tracking-wide text-xs font-bold mb-2",for:"data"}," Data ",-1))),Mn={class:"flex flex-wrap -mx-3 mb-2"},Xn={class:"w-full md:w-1/2 px-3 mb-6 md:mb-0"},In=Dn((()=>(0,s.Lk)("label",{for:"grid-state",class:"block uppercase tracking-wide text-xs font-bold mb-2"},"Cliente",-1))),qn={class:"w-full md:w-1/2 px-3 mb-6 md:mb-0"},Gn=Dn((()=>(0,s.Lk)("label",{for:"grid-state",class:"block uppercase tracking-wide text-xs font-bold mb-2"},"Produto",-1))),Kn={class:"flex flex-wrap -mx-3 mb-6"},Un={class:"w-full md:w-1/2 px-3 mb-6 md:mb-0"},jn=Dn((()=>(0,s.Lk)("label",{class:"block uppercase tracking-wide text-xs font-bold mb-2",for:"quantidade"}," Quantidade ",-1))),zn={class:"w-full md:w-1/2 px-3 mb-6 md:mb-0"},Tn=Dn((()=>(0,s.Lk)("label",{class:"block uppercase tracking-wide text-xs font-bold mb-2",for:"preco"}," Preço ",-1))),Qn=Dn((()=>(0,s.Lk)("div",{class:"pt-4"},[(0,s.Lk)("button",{type:"submit",class:"w-full text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800"}," Cadastrar ")],-1))),Rn={class:"mt-4"};function Jn(e,t,a,o,l,d){const n=(0,s.g2)("SelectPessoaComponent"),i=(0,s.g2)("SelectProdutoComponent"),c=(0,s.g2)("DashboardComponent");return(0,s.uX)(),(0,s.Wv)(c,null,{"slot-pages":(0,s.k6)((()=>[(0,s.Lk)("div",En,[(0,s.Lk)("div",Sn,[Fn,(0,s.Lk)("div",Vn,[(0,s.Lk)("form",{ref:"{formRef}",onSubmit:t[5]||(t[5]=(0,r.D$)(((...e)=>o.handleSave&&o.handleSave(...e)),["prevent"])),class:"p-2"},[(0,s.Lk)("div",Bn,[(0,s.Lk)("div",On,[$n,(0,s.bo)((0,s.Lk)("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>o.formData.data=e),class:"appearance-none block w-full bg-gray-200 dark:bg-gray-500 border border-gray-200 rounded py-3 px-4 mb-3 leading-tight focus:outline-none focus:bg-white focus:border-gray-500",id:"data",type:"date"},null,512),[[r.Jo,o.formData.data]])])]),(0,s.Lk)("div",Mn,[(0,s.Lk)("div",Xn,[In,(0,s.bF)(n,{modelValue:o.formData.pessoa_id,"onUpdate:modelValue":t[1]||(t[1]=e=>o.formData.pessoa_id=e),initialPeople:o.formData.pessoa_id,"grupo-id":1},null,8,["modelValue","initialPeople"])]),(0,s.Lk)("div",qn,[Gn,(0,s.bF)(i,{modelValue:o.formData.produto_id,"onUpdate:modelValue":t[2]||(t[2]=e=>o.formData.produto_id=e),initialProduct:o.formData.produto_id},null,8,["modelValue","initialProduct"])])]),(0,s.Lk)("div",Kn,[(0,s.Lk)("div",Un,[jn,(0,s.bo)((0,s.Lk)("input",{class:"appearance-none block w-full bg-gray-200 dark:bg-gray-500 border border-gray-200 rounded py-3 px-4 mb-3 leading-tight focus:outline-none focus:bg-white focus:border-gray-500",id:"quantidade",type:"number","onUpdate:modelValue":t[3]||(t[3]=e=>o.formData.quantidade=e)},null,512),[[r.Jo,o.formData.quantidade]])]),(0,s.Lk)("div",zn,[Tn,(0,s.bo)((0,s.Lk)("input",{"onUpdate:modelValue":t[4]||(t[4]=e=>o.formData.preco=e),class:"appearance-none block w-full bg-gray-200 dark:bg-gray-500 border border-gray-200 rounded py-3 px-4 mb-3 leading-tight focus:outline-none focus:bg-white focus:border-gray-500",id:"preco",type:"number"},null,512),[[r.Jo,o.formData.preco]])])]),Qn,(0,s.Lk)("div",Rn,[(0,s.Lk)("span",{class:(0,A.C4)(["text-center text-sm",{"text-green-500":e.sucesso,"text-red-500":!e.sucesso&&e.feedbackMessage}])},(0,A.v_)(e.feedbackMessage),3)])],544)])])])])),_:1})}var Wn={name:"SaleDetailComponent",components:{DashboardComponent:_e,SelectPessoaComponent:At,SelectProdutoComponent:$t},setup(){const e=(0,o.lq)(),t=(0,o.rd)(),a=(0,Vs.KR)(null),r=e.params.id||"nova",l=(0,Vs.Kh)({data:"",pessoa_id:"",produto_id:"",quantidade:"",preco:""}),d=(0,Vs.KR)(!1);(0,s.nT)((()=>{"nova"!==r?xr.getById(r).then((e=>{if(e instanceof Error)alert(e.message),t.push("/venda");else{const{venda:t}=e;l.data=t.data,l.produto_id=t.produto_id,l.pessoa_id=t.pessoa_id,l.quantidade=t.quantidade,l.preco=t.preco}})):a.value?.setData({})}));const n=()=>{d.value=!0,"nova"===r?xr.cadastrar(l).then((e=>{e instanceof Error?alert(e.message):t.push("/venda")})):xr.atualizar(r,{id:r,...l}).then((e=>{e instanceof Error?alert(e.message):t.push("/venda")}))};return{formRef:a,formData:l,handleSave:n}}};const Nn=(0,w.A)(Wn,[["render",Jn],["__scopeId","data-v-19bb14d3"]]);var Hn=Nn;const Yn={class:"flex justify-center items-center text-gray-700 dark:text-white"},Zn={class:"w-full p-4 sm:p-6 md:p-8 dark:bg-gray-800 bg-gray-100"},ei=(0,s.Lk)("h5",{class:"md:text-2xl text-xl font-medium text-gray-900 dark:text-white text-center border-b-2 mb-4 pb-2 border-gray-900"}," Vendas ",-1),ti={class:"w-auto"},ai={class:"flex justify-center mb-4 md:mb-2"},ri={class:"flex flex-wrap items-center justify-start mb-4"},oi={class:"md:px-3"},si=(0,s.Lk)("label",{class:"block uppercase tracking-wide text-xs font-bold mb-2",for:"data"}," Data Inicio ",-1),li={class:"md:px-3"},di=(0,s.Lk)("label",{class:"block uppercase tracking-wide text-xs font-bold mb-2",for:"data_fim"}," Data Fim ",-1),ni={class:"flex flex-wrap items-center justify-between mb-4 md:pl-4"},ii={class:"mb-4 w-full md:w-1/5"},ci=(0,s.Lk)("label",{class:"block uppercase tracking-wide text-xs font-bold mb-2"}," Cliente ",-1),ui={class:"mb-4 w-full md:w-1/5"},pi=(0,s.Lk)("label",{class:"block uppercase tracking-wide text-xs font-bold mb-2"}," Produtos ",-1),hi={class:"mb-4"},mi=(0,s.Lk)("label",{class:"block uppercase tracking-wide text-xs font-bold mb-2"}," Ordenar Data ",-1),gi=(0,s.Lk)("option",{value:"",selected:""},"Ordenar Data",-1),bi=(0,s.Lk)("option",{value:"1"},"Crescente",-1),ki=(0,s.Lk)("option",{value:"0"},"Decrescente",-1),fi=[gi,bi,ki],yi={class:"mb-4"},xi=(0,s.Lk)("label",{class:"block uppercase tracking-wide text-xs font-bold mb-2"}," Ordenar Preço ",-1),vi=(0,s.Lk)("option",{value:"",selected:""},"Ordenar Preço",-1),wi=(0,s.Lk)("option",{value:"1"},"Crescente",-1),Li=(0,s.Lk)("option",{value:"0"},"Decrescente",-1),Ci=[vi,wi,Li],Ai={class:"mb-4"},Pi=(0,s.Lk)("label",{class:"block uppercase tracking-wide text-xs font-bold mb-2"}," Agrupar Cliente ",-1),_i={class:"overflow-x-auto"},Di={class:"relative shadow-md sm:rounded-lg"},Ei={class:"w-full h-full text-sm text-left rtl:text-right text-gray-500 dark:text-white"},Si=(0,s.Lk)("thead",{class:"text-xs uppercase bg-gray-50 dark:bg-gray-700 dark:text-white"},[(0,s.Lk)("tr",null,[(0,s.Lk)("th",{scope:"col",class:"px-6 py-3"},"Data"),(0,s.Lk)("th",{scope:"col",class:"px-6 py-3"},"Produto"),(0,s.Lk)("th",{scope:"col",class:"px-6 py-3"},"Cliente"),(0,s.Lk)("th",{scope:"col",class:"px-6 py-3"},"Qtd"),(0,s.Lk)("th",{scope:"col",class:"px-6 py-3"},"Preço"),(0,s.Lk)("th",{scope:"col",class:"px-6 py-3"},"Ação")])],-1),Fi={key:0},Vi=(0,s.Lk)("td",{colspan:"5",class:"text-center"}," Nenhum resultado encontrado. ",-1),Bi=[Vi],Oi={class:"md:px-6 md:py-3 px-4 py-1"},$i={scope:"row",class:"md:px-6 md:py-3 px-4 py-1 font-medium text-gray-900 whitespace-nowrap dark:text-white"},Mi={class:"md:px-6 md:py-3 px-4 py-1"},Xi={class:"md:px-6 md:py-3 px-4 py-1"},Ii={class:"md:px-6 md:py-3 px-4 py-1"},qi={class:"md:px-6 md:py-3 px-4 py-1"},Gi=["onClick"],Ki=(0,s.Lk)("i",{class:"text-xl fa-solid fa-eye"},null,-1),Ui=[Ki],ji=["onClick"],zi=(0,s.Lk)("i",{class:"text-xl fa-solid fa-trash"},null,-1),Ti=[zi],Qi={class:"flex justify-center mt-4"},Ri=["v-html","onClick"];function Ji(e,t,a,o,l,d){const n=(0,s.g2)("SelectPessoaComponent"),i=(0,s.g2)("SelectProdutoComponent"),c=(0,s.g2)("DashboardComponent");return(0,s.uX)(),(0,s.Wv)(c,null,{"slot-pages":(0,s.k6)((()=>[(0,s.Lk)("div",Yn,[(0,s.Lk)("div",Zn,[ei,(0,s.Lk)("div",ti,[(0,s.Lk)("div",ai,[(0,s.Lk)("button",{type:"submit",class:"w-30 text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center",onClick:t[0]||(t[0]=e=>d.cadastrar())}," Cadastrar ")]),(0,s.Lk)("div",ri,[(0,s.Lk)("div",oi,[si,(0,s.bo)((0,s.Lk)("input",{"onUpdate:modelValue":t[1]||(t[1]=e=>l.selectedData=e),onInput:t[2]||(t[2]=(...e)=>d.handleFilterChange&&d.handleFilterChange(...e)),class:"md:py-2 md:px-3 py-1 px-1 rounded border mr-4 border-gray-300 shadow-lg bg-gray-200 shadow-indigo-500/40 dark:bg-gray-600 dark:shadow-gray-600/40",type:"date",id:"data"},null,544),[[r.Jo,l.selectedData]])]),(0,s.Lk)("div",li,[di,(0,s.bo)((0,s.Lk)("input",{"onUpdate:modelValue":t[3]||(t[3]=e=>l.selectedDateEnd=e),onInput:t[4]||(t[4]=(...e)=>d.handleFilterChange&&d.handleFilterChange(...e)),class:"md:py-2 md:px-3 py-1 px-1 rounded border mr-4 border-gray-300 shadow-lg bg-gray-200 shadow-indigo-500/40 dark:bg-gray-600 dark:shadow-gray-600/40",id:"data_fim",type:"date"},null,544),[[r.Jo,l.selectedDateEnd]])])]),(0,s.Lk)("div",ni,[(0,s.Lk)("div",ii,[ci,(0,s.bF)(n,{onPeopleSelected:d.updateSelectedPeople},null,8,["onPeopleSelected"])]),(0,s.Lk)("div",ui,[pi,(0,s.bF)(i,{onProductSelected:d.updateSelectedProduct,"grupo-id":1},null,8,["onProductSelected"])]),(0,s.Lk)("div",hi,[mi,(0,s.bo)((0,s.Lk)("select",{"onUpdate:modelValue":t[5]||(t[5]=e=>l.selectedOrdData=e),class:"md:py-2 md:px-3 py-1 px-1 rounded border-2 border-gray-300 mr-4 shadow-lg bg-gray-200 shadow-indigo-500/40 dark:bg-gray-600 dark:shadow-gray-600/40",onChange:t[6]||(t[6]=(...e)=>d.handleFilterChange&&d.handleFilterChange(...e))},fi,544),[[r.u1,l.selectedOrdData]])]),(0,s.Lk)("div",yi,[xi,(0,s.bo)((0,s.Lk)("select",{"onUpdate:modelValue":t[7]||(t[7]=e=>l.selectedOrdValor=e),class:"md:py-2 md:px-3 py-1 px-1 rounded border-2 border-gray-300 mr-4 shadow-lg bg-gray-200 shadow-indigo-500/40 dark:bg-gray-600 dark:shadow-gray-600/40",onChange:t[8]||(t[8]=(...e)=>d.handleFilterChange&&d.handleFilterChange(...e))},Ci,544),[[r.u1,l.selectedOrdValor]])]),(0,s.Lk)("div",Ai,[Pi,(0,s.bo)((0,s.Lk)("input",{"onUpdate:modelValue":t[9]||(t[9]=e=>l.selectedAgrupar=e),type:"checkbox",class:"md:py-2 md:px-3 py-1 px-1 rounded border-2 border-gray-300 mr-4 shadow-lg bg-gray-200 shadow-indigo-500/40 dark:bg-gray-600 dark:shadow-gray-600/40",onChange:t[10]||(t[10]=(...e)=>d.handleFilterChange&&d.handleFilterChange(...e))},null,544),[[r.lH,l.selectedAgrupar]])])])]),(0,s.Lk)("div",_i,[(0,s.Lk)("div",Di,[(0,s.Lk)("table",Ei,[Si,(0,s.Lk)("tbody",null,[l.sale.length?((0,s.uX)(!0),(0,s.CE)(s.FK,{key:1},(0,s.pI)(l.sale,(e=>((0,s.uX)(),(0,s.CE)("tr",{key:e.id,class:"odd:bg-white odd:dark:bg-gray-900 even:bg-gray-50 even:dark:bg-gray-800 border-b dark:border-gray-700"},[(0,s.Lk)("td",Oi,(0,A.v_)(e.data?d.formatDate(e.data):"-"),1),(0,s.Lk)("th",$i,(0,A.v_)(e.produto?e.produto.nome:"-"),1),(0,s.Lk)("td",Mi,(0,A.v_)(e.pessoa.nome),1),(0,s.Lk)("td",Xi,(0,A.v_)(e.quantidade?e.quantidade:e.total_quantidade),1),(0,s.Lk)("td",Ii,(0,A.v_)(d.formatCurrency(e.preco?e.preco:e.total_preco)),1),(0,s.Lk)("td",qi,[(0,s.Lk)("a",{onClick:t=>d.editar(e.id),class:"text-blue-600 pr-4 hover:text-white dark:text-white hover:underline hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center"},Ui,8,Gi),(0,s.Lk)("a",{onClick:t=>d.remover(e.id),class:"text-blue-600 hover:text-white dark:text-white hover:underline hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center"},Ti,8,ji)])])))),128)):((0,s.uX)(),(0,s.CE)("tr",Fi,Bi))])]),(0,s.Lk)("div",Qi,[l.arrayPage.length?((0,s.uX)(!0),(0,s.CE)(s.FK,{key:1},(0,s.pI)(l.arrayPage,(e=>((0,s.uX)(),(0,s.CE)("a",{key:e,"v-html":e,onClick:t=>d.handlePage(e),class:"odd:bg-white odd:dark:bg-gray-900 even:bg-gray-50 even:dark:bg-gray-800 border-b dark:border-gray-700 p-4"},(0,A.v_)(e),9,Ri)))),128)):((0,s.uX)(),(0,s.CE)(s.FK,{key:0},[],64))])])])])])])),_:1})}var Wi={name:"SaleListComponent",components:{DashboardComponent:_e,SelectPessoaComponent:At,SelectProdutoComponent:$t},data(){return{selectedPeople:"",selectedProduct:"",selectedData:"",selectedDateEnd:"",selectedOrdData:"",selectedOrdValor:"",selectedAgrupar:"",handlePages:"",sale:[],arrayPage:[],paginate:{},minSearchLength:3,currentPage:1,itemsPerPage:10}},computed:{},methods:{formatDate(e){const t=new Date(e);return t.toLocaleDateString("pt-BR")},formatCurrency(e){const t=parseInt(e,10);return t.toLocaleString("pt-BR",{style:"currency",currency:"BRL"})},editar(e){this.$router.push(`/venda/detalhes/${e}`)},cadastrar(){this.$router.push("/venda/detalhes/nova")},async remover(e){try{await xr.remover(e),console.log("Venda removida com sucesso!"),this.getAll()}catch(t){console.error("Erro ao remover venda:",t)}},async getAll(){try{const e=this.buildParams(),t=await xr.getAll(e);this.$router.push({path:"/venda",query:e}),this.sale=t.data,this.paginate=t.last_page,this.paginate>1&&(this.arrayPage=this.arrayPages(this.paginate))}catch(e){console.error("Erro ao obter vendas",e),this.sale=[],this.paginate=[]}},shouldApplyFilter(){return this.selectedPeople||this.selectedProduct||this.selectedData||this.selectedDateEnd||this.selectedOrdData||this.selectedOrdValor||this.selectedAgrupar},buildParams(){const e={};return this.selectedPeople&&(e.pessoa_id=this.selectedPeople),this.selectedProduct&&(e.produto_id=this.selectedProduct),this.selectedData&&(e.data=this.selectedData),this.selectedDateEnd&&(e.data_fim=this.selectedDateEnd),this.selectedOrdData&&(e.ord_data=this.selectedOrdData),this.selectedOrdValor&&(e.ord_valor=this.selectedOrdValor),this.selectedAgrupar&&(e.agrupar_cliente=this.selectedAgrupar),this.handlePages&&(e.page=this.handlePages),e},updateSelectedPeople(e){this.selectedPeople=e,this.handleFilterChange()},updateSelectedProduct(e){this.selectedProduct=e,this.handleFilterChange()},handleFilterChange(){this.shouldApplyFilter()?this.currentPage=1:this.getAll()},arrayPages(e){let t=[];for(let a=1;a<=e;a++)t.push(a);return t},handlePage(e){e&&(this.handlePages=e,this.getAll())}},watch:{selectedPeople(){this.shouldApplyFilter()&&this.getAll()},selectedProduct(){this.shouldApplyFilter()&&this.getAll()},selectedData(){this.shouldApplyFilter()&&this.getAll()},selectedDateEnd(){this.shouldApplyFilter()&&this.getAll()},selectedOrdData(){this.shouldApplyFilter()&&this.getAll()},selectedOrdValor(){this.shouldApplyFilter()&&this.getAll()},selectedAgrupar(){this.shouldApplyFilter()&&this.getAll()},currentPage(){this.getAll()}},mounted(){this.getAll()}};const Ni=(0,w.A)(Wi,[["render",Ji]]);var Hi=Ni;const Yi=e=>((0,s.Qi)("data-v-65b1a849"),e=e(),(0,s.jt)(),e),Zi={class:"flex justify-center items-center text-gray-700 dark:text-white"},ec={class:"w-full p-4 sm:p-6 md:p-8 dark:bg-gray-800"},tc=Yi((()=>(0,s.Lk)("h5",{class:"text-xl font-medium text-gray-900 dark:text-white text-center border-b-2 mb-4 pb-4 border-gray-900"}," Cadastro de Compra ",-1))),ac={class:"w-auto"},rc={class:"flex flex-wrap -mx-3 mb-6"},oc={class:"w-full md:w-1/2 px-3 mb-6 md:mb-0"},sc=Yi((()=>(0,s.Lk)("label",{class:"block uppercase tracking-wide text-xs font-bold mb-2",for:"data"}," Data ",-1))),lc={class:"flex flex-wrap -mx-3 mb-2"},dc={class:"w-full md:w-1/2 px-3 mb-6 md:mb-0"},nc=Yi((()=>(0,s.Lk)("label",{for:"grid-state",class:"block uppercase tracking-wide text-xs font-bold mb-2"},"Fornecedor",-1))),ic={class:"w-full md:w-1/2 px-3 mb-6 md:mb-0"},cc=Yi((()=>(0,s.Lk)("label",{for:"grid-state",class:"block uppercase tracking-wide text-xs font-bold mb-2"},"Produto",-1))),uc={class:"flex flex-wrap -mx-3 mb-6"},pc={class:"w-full md:w-1/2 px-3 mb-6 md:mb-0"},hc=Yi((()=>(0,s.Lk)("label",{class:"block uppercase tracking-wide text-xs font-bold mb-2",for:"quantidade"}," Quantidade ",-1))),mc={class:"w-full md:w-1/2 px-3 mb-6 md:mb-0"},gc=Yi((()=>(0,s.Lk)("label",{class:"block uppercase tracking-wide text-xs font-bold mb-2",for:"preco"}," Preço ",-1))),bc=Yi((()=>(0,s.Lk)("div",{class:"pt-4"},[(0,s.Lk)("button",{type:"submit",class:"w-full text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800"}," Cadastrar ")],-1))),kc={class:"mt-4"};function fc(e,t,a,o,l,d){const n=(0,s.g2)("SelectPessoaComponent"),i=(0,s.g2)("SelectProdutoComponent"),c=(0,s.g2)("DashboardComponent");return(0,s.uX)(),(0,s.Wv)(c,null,{"slot-pages":(0,s.k6)((()=>[(0,s.Lk)("div",Zi,[(0,s.Lk)("div",ec,[tc,(0,s.Lk)("div",ac,[(0,s.Lk)("form",{ref:"{formRef}",onSubmit:t[5]||(t[5]=(0,r.D$)(((...e)=>o.handleSave&&o.handleSave(...e)),["prevent"])),class:"p-2"},[(0,s.Lk)("div",rc,[(0,s.Lk)("div",oc,[sc,(0,s.bo)((0,s.Lk)("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>o.formData.data=e),class:"appearance-none block text-gray-700 w-full bg-gray-200 border border-gray-200 rounded py-3 px-4 mb-3 leading-tight focus:outline-none focus:bg-white focus:border-gray-500",id:"data",type:"date"},null,512),[[r.Jo,o.formData.data]])])]),(0,s.Lk)("div",lc,[(0,s.Lk)("div",dc,[nc,(0,s.bF)(n,{modelValue:o.formData.pessoa_id,"onUpdate:modelValue":t[1]||(t[1]=e=>o.formData.pessoa_id=e),initialPeople:o.formData.pessoa_id,"grupo-id":2},null,8,["modelValue","initialPeople"])]),(0,s.Lk)("div",ic,[cc,(0,s.bF)(i,{modelValue:o.formData.produto_id,"onUpdate:modelValue":t[2]||(t[2]=e=>o.formData.produto_id=e),initialProduct:o.formData.produto_id},null,8,["modelValue","initialProduct"])])]),(0,s.Lk)("div",uc,[(0,s.Lk)("div",pc,[hc,(0,s.bo)((0,s.Lk)("input",{class:"appearance-none block w-full text-gray-700 bg-gray-200 border border-gray-200 rounded py-3 px-4 mb-3 leading-tight focus:outline-none focus:bg-white focus:border-gray-500",id:"quantidade",type:"number","onUpdate:modelValue":t[3]||(t[3]=e=>o.formData.quantidade=e)},null,512),[[r.Jo,o.formData.quantidade]])]),(0,s.Lk)("div",mc,[gc,(0,s.bo)((0,s.Lk)("input",{"onUpdate:modelValue":t[4]||(t[4]=e=>o.formData.preco=e),class:"appearance-none block w-full text-gray-700 bg-gray-200 border border-gray-200 rounded py-3 px-4 mb-3 leading-tight focus:outline-none focus:bg-white focus:border-gray-500",id:"preco",type:"number"},null,512),[[r.Jo,o.formData.preco]])])]),bc,(0,s.Lk)("div",kc,[(0,s.Lk)("span",{class:(0,A.C4)(["text-center text-sm",{"text-green-500":e.sucesso,"text-red-500":!e.sucesso&&e.feedbackMessage}])},(0,A.v_)(e.feedbackMessage),3)])],544)])])])])),_:1})}var yc={name:"BuyDetailComponent",components:{DashboardComponent:_e,SelectPessoaComponent:At,SelectProdutoComponent:$t},setup(){const e=(0,o.lq)(),t=(0,o.rd)(),a=(0,Vs.KR)(null),r=e.params.id||"nova",l=(0,Vs.Kh)({data:"",pessoa_id:"",produto_id:"",quantidade:"",preco:""}),d=(0,Vs.KR)(!1);(0,s.nT)((()=>{"nova"!==r?Wt.getById(r).then((e=>{e instanceof Error?(alert(e.message),t.push("/compra")):(l.data=e.data,l.produto_id=e.produto_id,l.pessoa_id=e.pessoa_id,l.quantidade=e.quantidade,l.preco=e.preco)})):a.value?.setData({})}));const n=()=>{d.value=!0,"nova"===r?Wt.cadastrar(l).then((e=>{e instanceof Error?alert(e.message):t.push("/compra")})):Wt.atualizar(r,{id:r,...l}).then((e=>{e instanceof Error?alert(e.message):t.push("/compra")}))};return{formRef:a,formData:l,handleSave:n}}};const xc=(0,w.A)(yc,[["render",fc],["__scopeId","data-v-65b1a849"]]);var vc=xc;const wc={class:"flex justify-center items-center text-gray-700 dark:text-white"},Lc={class:"w-full p-4 sm:p-6 md:p-8 dark:bg-gray-800 bg-gray-100"},Cc=(0,s.Lk)("h5",{class:"md:text-2xl text-xl font-medium text-gray-900 dark:text-white text-center border-b-2 mb-4 pb-2 border-gray-900"}," Compras ",-1),Ac={class:"w-auto"},Pc={class:"flex justify-center mb-4 md:mb-2"},_c={class:"flex flex-wrap items-center justify-start mb-4"},Dc={class:"md:px-3"},Ec=(0,s.Lk)("label",{class:"block uppercase tracking-wide text-xs font-bold mb-2",for:"data"}," Data Inicio ",-1),Sc={class:"md:px-3"},Fc=(0,s.Lk)("label",{class:"block uppercase tracking-wide text-xs font-bold mb-2",for:"data_fim"}," Data Fim ",-1),Vc={class:"flex flex-wrap items-center justify-between mb-4 md:pl-4"},Bc={class:"mb-4 w-full md:w-1/5"},Oc=(0,s.Lk)("label",{class:"block uppercase tracking-wide text-xs font-bold mb-2"}," Fornecedor ",-1),$c={class:"mb-4 w-full md:w-1/5"},Mc=(0,s.Lk)("label",{class:"block uppercase tracking-wide text-xs font-bold mb-2"}," Produtos ",-1),Xc={class:"mb-4"},Ic=(0,s.Lk)("label",{class:"block uppercase tracking-wide text-xs font-bold mb-2"}," Ordenar Data ",-1),qc=(0,s.Lk)("option",{value:"",selected:""},"Ordenar Data",-1),Gc=(0,s.Lk)("option",{value:"1"},"Crescente",-1),Kc=(0,s.Lk)("option",{value:"0"},"Decrescente",-1),Uc=[qc,Gc,Kc],jc={class:"mb-4"},zc=(0,s.Lk)("label",{class:"block uppercase tracking-wide text-xs font-bold mb-2"}," Ordenar Preço ",-1),Tc=(0,s.Lk)("option",{value:"",selected:""},"Ordenar Preço",-1),Qc=(0,s.Lk)("option",{value:"1"},"Crescente",-1),Rc=(0,s.Lk)("option",{value:"0"},"Decrescente",-1),Jc=[Tc,Qc,Rc],Wc={class:"mb-4"},Nc=(0,s.Lk)("label",{class:"block uppercase tracking-wide text-xs font-bold mb-2"}," Agrupar Fornecedor ",-1),Hc={class:"overflow-x-auto"},Yc={class:"relative shadow-md sm:rounded-lg"},Zc={class:"w-full h-full text-sm text-left rtl:text-right text-gray-500 dark:text-white"},eu=(0,s.Lk)("thead",{class:"text-xs uppercase bg-gray-50 dark:bg-gray-700 dark:text-white"},[(0,s.Lk)("tr",null,[(0,s.Lk)("th",{scope:"col",class:"md:px-6 md:py-3 px-4 py-1"},"Data"),(0,s.Lk)("th",{scope:"col",class:"md:px-6 md:py-3 px-4 py-1"},"Produto"),(0,s.Lk)("th",{scope:"col",class:"md:px-6 md:py-3 px-4 py-1"},"Fornecedor"),(0,s.Lk)("th",{scope:"col",class:"md:px-6 md:py-3 px-4 py-1"},"Qtd"),(0,s.Lk)("th",{scope:"col",class:"md:px-6 md:py-3 px-4 py-1"},"Preço"),(0,s.Lk)("th",{scope:"col",class:"md:px-6 md:py-3 px-4 py-1"},"Ação")])],-1),tu={key:0},au=(0,s.Lk)("td",{colspan:"5",class:"text-center"}," Nenhum resultado encontrado. ",-1),ru=[au],ou={class:"md:px-6 md:py-3 px-4 py-1"},su={scope:"row",class:"md:px-6 md:py-3 px-4 py-1 font-medium text-gray-900 whitespace-nowrap dark:text-white"},lu={class:"md:px-6 md:py-3 px-4 py-1"},du={class:"md:px-6 md:py-3 px-4 py-1"},nu={class:"md:px-6 md:py-3 px-4 py-1"},iu={class:"md:px-6 md:py-3 px-4 py-1"},cu=["onClick"],uu=(0,s.Lk)("i",{class:"text-xl fa-solid fa-eye"},null,-1),pu=[uu],hu=["onClick"],mu=(0,s.Lk)("i",{class:"text-xl fa-solid fa-trash"},null,-1),gu=[mu],bu={class:"flex justify-center mt-4"},ku=["v-html","onClick"];function fu(e,t,a,o,l,d){const n=(0,s.g2)("SelectPessoaComponent"),i=(0,s.g2)("SelectProdutoComponent"),c=(0,s.g2)("DashboardComponent");return(0,s.uX)(),(0,s.Wv)(c,null,{"slot-pages":(0,s.k6)((()=>[(0,s.Lk)("div",wc,[(0,s.Lk)("div",Lc,[Cc,(0,s.Lk)("div",Ac,[(0,s.Lk)("div",Pc,[(0,s.Lk)("button",{type:"submit",class:"w-30 text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center",onClick:t[0]||(t[0]=e=>d.cadastrar())}," Cadastrar ")]),(0,s.Lk)("div",_c,[(0,s.Lk)("div",Dc,[Ec,(0,s.bo)((0,s.Lk)("input",{"onUpdate:modelValue":t[1]||(t[1]=e=>l.selectedData=e),onInput:t[2]||(t[2]=(...e)=>d.handleFilterChange&&d.handleFilterChange(...e)),class:"md:py-2 md:px-3 py-1 px-1 rounded border mr-4 border-gray-300 shadow-lg bg-gray-200 shadow-indigo-500/40 dark:bg-gray-600 dark:shadow-gray-600/40",type:"date",id:"data"},null,544),[[r.Jo,l.selectedData]])]),(0,s.Lk)("div",Sc,[Fc,(0,s.bo)((0,s.Lk)("input",{"onUpdate:modelValue":t[3]||(t[3]=e=>l.selectedDateEnd=e),onInput:t[4]||(t[4]=(...e)=>d.handleFilterChange&&d.handleFilterChange(...e)),class:"md:py-2 md:px-3 py-1 px-1 rounded border mr-4 border-gray-300 shadow-lg bg-gray-200 shadow-indigo-500/40 dark:bg-gray-600 dark:shadow-gray-600/40",id:"data_fim",type:"date"},null,544),[[r.Jo,l.selectedDateEnd]])])]),(0,s.Lk)("div",Vc,[(0,s.Lk)("div",Bc,[Oc,(0,s.bF)(n,{onPeopleSelected:d.updateSelectedPeople,"grupo-id":2},null,8,["onPeopleSelected"])]),(0,s.Lk)("div",$c,[Mc,(0,s.bF)(i,{onProductSelected:d.updateSelectedProduct},null,8,["onProductSelected"])]),(0,s.Lk)("div",Xc,[Ic,(0,s.bo)((0,s.Lk)("select",{"onUpdate:modelValue":t[5]||(t[5]=e=>l.selectedOrdData=e),class:"md:py-2 md:px-3 py-1 px-1 rounded border-2 border-gray-300 mr-4 shadow-lg bg-gray-200 shadow-indigo-500/40 dark:bg-gray-600 dark:shadow-gray-600/40",onChange:t[6]||(t[6]=(...e)=>d.handleFilterChange&&d.handleFilterChange(...e))},Uc,544),[[r.u1,l.selectedOrdData]])]),(0,s.Lk)("div",jc,[zc,(0,s.bo)((0,s.Lk)("select",{"onUpdate:modelValue":t[7]||(t[7]=e=>l.selectedOrdValor=e),class:"md:py-2 md:px-3 py-1 px-1 rounded border-2 border-gray-300 mr-4 shadow-lg bg-gray-200 shadow-indigo-500/40 dark:bg-gray-600 dark:shadow-gray-600/40",onChange:t[8]||(t[8]=(...e)=>d.handleFilterChange&&d.handleFilterChange(...e))},Jc,544),[[r.u1,l.selectedOrdValor]])]),(0,s.Lk)("div",Wc,[Nc,(0,s.bo)((0,s.Lk)("input",{"onUpdate:modelValue":t[9]||(t[9]=e=>l.selectedAgrupar=e),type:"checkbox",class:"md:py-2 md:px-3 py-1 px-1 rounded border-2 border-gray-300 mr-4 shadow-lg bg-gray-200 shadow-indigo-500/40 dark:bg-gray-600 dark:shadow-gray-600/40",onChange:t[10]||(t[10]=(...e)=>d.handleFilterChange&&d.handleFilterChange(...e))},null,544),[[r.lH,l.selectedAgrupar]])])])]),(0,s.Lk)("div",Hc,[(0,s.Lk)("div",Yc,[(0,s.Lk)("table",Zc,[eu,(0,s.Lk)("tbody",null,[l.buy.length?((0,s.uX)(!0),(0,s.CE)(s.FK,{key:1},(0,s.pI)(l.buy,(e=>((0,s.uX)(),(0,s.CE)("tr",{key:e.id,class:"odd:bg-white odd:dark:bg-gray-900 even:bg-gray-50 even:dark:bg-gray-800 border-b dark:border-gray-700"},[(0,s.Lk)("td",ou,(0,A.v_)(e.data?d.formatDate(e.data):"-"),1),(0,s.Lk)("th",su,(0,A.v_)(e.produto?e.produto.nome:"-"),1),(0,s.Lk)("td",lu,(0,A.v_)(e.pessoa.nome),1),(0,s.Lk)("td",du,(0,A.v_)(e.quantidade?e.quantidade:e.total_quantidade),1),(0,s.Lk)("td",nu,(0,A.v_)(d.formatCurrency(e.preco?e.preco:e.total_preco)),1),(0,s.Lk)("td",iu,[(0,s.Lk)("a",{onClick:t=>d.editar(e.id),class:"text-blue-600 pr-4 hover:text-white dark:text-white hover:underline hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center"},pu,8,cu),(0,s.Lk)("a",{onClick:t=>d.remover(e.id),class:"text-blue-600 hover:text-white dark:text-white hover:underline hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center"},gu,8,hu)])])))),128)):((0,s.uX)(),(0,s.CE)("tr",tu,ru))])]),(0,s.Lk)("div",bu,[l.arrayPage.length?((0,s.uX)(!0),(0,s.CE)(s.FK,{key:1},(0,s.pI)(l.arrayPage,(e=>((0,s.uX)(),(0,s.CE)("a",{key:e,"v-html":e,onClick:t=>d.handlePage(e),class:"odd:bg-white odd:dark:bg-gray-900 even:bg-gray-50 even:dark:bg-gray-800 border-b dark:border-gray-700 p-4"},(0,A.v_)(e),9,ku)))),128)):((0,s.uX)(),(0,s.CE)(s.FK,{key:0},[],64))])])])])])])),_:1})}var yu={name:"BuyListComponent",components:{DashboardComponent:_e,SelectPessoaComponent:At,SelectProdutoComponent:$t},data(){return{selectedPeople:"",selectedProduct:"",selectedData:"",selectedDateEnd:"",selectedOrdData:"",selectedOrdValor:"",selectedAgrupar:"",handlePages:"",buy:[],arrayPage:[],paginate:{},minSearchLength:3,currentPage:1,itemsPerPage:10}},computed:{},methods:{formatDate(e){const t=new Date(e);return t.toLocaleDateString("pt-BR")},formatCurrency(e){const t=parseInt(e,10);return t.toLocaleString("pt-BR",{style:"currency",currency:"BRL"})},editar(e){this.$router.push(`/compra/detalhes/${e}`)},cadastrar(){this.$router.push("/compra/detalhes/nova")},async remover(e){try{await Wt.remover(e),console.log("Compra removida com sucesso!"),this.getAll()}catch(t){console.error("Erro ao remover compra:",t)}},async getAll(){try{const e=this.buildParams(),t=await Wt.getAll(e);this.$router.push({path:"/compra",query:e}),this.buy=t.data,this.paginate=t.last_page,this.paginate>1&&(this.arrayPage=this.arrayPages(this.paginate))}catch(e){console.error("Erro ao obter compras",e),this.buy=[],this.paginate=[]}},shouldApplyFilter(){return this.selectedPeople||this.selectedProduct||this.selectedData||this.selectedDateEnd||this.selectedOrdData||this.selectedOrdValor||this.selectedAgrupar},buildParams(){const e={};return this.selectedPeople&&(e.pessoa_id=this.selectedPeople),this.selectedProduct&&(e.produto_id=this.selectedProduct),this.selectedData&&(e.data=this.selectedData),this.selectedDateEnd&&(e.data_fim=this.selectedDateEnd),this.selectedOrdData&&(e.ord_data=this.selectedOrdData),this.selectedOrdValor&&(e.ord_valor=this.selectedOrdValor),this.selectedAgrupar&&(e.agrupar_fornecedor=this.selectedAgrupar),this.handlePages&&(e.page=this.handlePages),e},updateSelectedPeople(e){this.selectedPeople=e,this.handleFilterChange()},updateSelectedProduct(e){this.selectedProduct=e,this.handleFilterChange()},handleFilterChange(){this.shouldApplyFilter()?this.currentPage=1:this.getAll()},arrayPages(e){let t=[];for(let a=1;a<=e;a++)t.push(a);return t},handlePage(e){e&&(this.handlePages=e,this.getAll())}},watch:{selectedPeople(){this.shouldApplyFilter()&&this.getAll()},selectedProduct(){this.shouldApplyFilter()&&this.getAll()},selectedData(){this.shouldApplyFilter()&&this.getAll()},selectedDateEnd(){this.shouldApplyFilter()&&this.getAll()},selectedOrdData(){this.shouldApplyFilter()&&this.getAll()},selectedOrdValor(){this.shouldApplyFilter()&&this.getAll()},selectedAgrupar(){this.shouldApplyFilter()&&this.getAll()},currentPage(){this.getAll()}},mounted(){this.getAll()}};const xu=(0,w.A)(yu,[["render",fu]]);var vu=xu;const wu=[{path:"/",name:"login",component:C},{path:"/home",name:"home",component:No,meta:{requiresAuth:!0}},{path:"/pessoa",name:"pessoaLista",component:Ml,meta:{requiresAuth:!0}},{path:"/pessoa/detalhes/:id",name:"pessoaDetalhe",component:$s,meta:{requiresAuth:!0}},{path:"/produto",name:"produtoLista",component:_n,meta:{requiresAuth:!0}},{path:"/produto/detalhes/:id",name:"produtoDetalhe",component:Od,meta:{requiresAuth:!0}},{path:"/venda",name:"vendaLista",component:Hi,meta:{requiresAuth:!0}},{path:"/venda/detalhes/:id",name:"vendaDetalhe",component:Hn,meta:{requiresAuth:!0}},{path:"/compra",name:"compraLista",component:vu,meta:{requiresAuth:!0}},{path:"/compra/detalhes/:id",name:"compraDetalhe",component:vc,meta:{requiresAuth:!0}}],Lu=(0,o.aE)({history:(0,o.Bt)(),routes:wu});Lu.beforeEach(((e,t,a)=>{const r=x.isAuthenticated();e.matched.some((e=>e.meta.requiresAuth))&&!r?a({name:"login"}):a()}));var Cu=Lu;function Au(e,t,a,r,o,l){const d=(0,s.g2)("RouterView");return(0,s.uX)(),(0,s.Wv)(d)}var Pu={name:"App",components:{}};const _u=(0,w.A)(Pu,[["render",Au]]);var Du=_u;(0,r.Ef)(Du).use(Cu).mount("#app")}},t={};function a(r){var o=t[r];if(void 0!==o)return o.exports;var s=t[r]={exports:{}};return e[r].call(s.exports,s,s.exports,a),s.exports}a.m=e,function(){var e=[];a.O=function(t,r,o,s){if(!r){var l=1/0;for(c=0;c<e.length;c++){r=e[c][0],o=e[c][1],s=e[c][2];for(var d=!0,n=0;n<r.length;n++)(!1&s||l>=s)&&Object.keys(a.O).every((function(e){return a.O[e](r[n])}))?r.splice(n--,1):(d=!1,s<l&&(l=s));if(d){e.splice(c--,1);var i=o();void 0!==i&&(t=i)}}return t}s=s||0;for(var c=e.length;c>0&&e[c-1][2]>s;c--)e[c]=e[c-1];e[c]=[r,o,s]}}(),function(){a.d=function(e,t){for(var r in t)a.o(t,r)&&!a.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){var e={524:0};a.O.j=function(t){return 0===e[t]};var t=function(t,r){var o,s,l=r[0],d=r[1],n=r[2],i=0;if(l.some((function(t){return 0!==e[t]}))){for(o in d)a.o(d,o)&&(a.m[o]=d[o]);if(n)var c=n(a)}for(t&&t(r);i<l.length;i++)s=l[i],a.o(e,s)&&e[s]&&e[s][0](),e[s]=0;return a.O(c)},r=self["webpackChunkfrontend"]=self["webpackChunkfrontend"]||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))}();var r=a.O(void 0,[504],(function(){return a(2034)}));r=a.O(r)})();
//# sourceMappingURL=app.d27fdaf4.js.map