(function(){"use strict";var e={8797:function(e,t,a){var r=a(5130),o=a(1387),s=(a(3855),a(6768));const l={class:"flex justify-center items-center pt-10"},d={class:"w-full max-w-sm p-4 bg-gray-200 border border-gray-300 rounded-lg shadow sm:p-6 md:p-8 dark:bg-gray-800 dark:border-gray-700"},n={class:"space-y-6",action:"#"},i=(0,s.Lk)("h5",{class:"text-xl font-medium text-gray-900 dark:text-white text-center"},"Login",-1),c=(0,s.Lk)("label",{for:"email",class:"block mb-2 text-sm font-medium text-gray-900 dark:text-white"},"Seu email",-1),u=(0,s.Lk)("label",{for:"password",class:"block mb-2 text-sm font-medium text-gray-900 dark:text-white"},"Sua senha",-1),p=(0,s.Fv)('<div class="flex items-start"><div class="flex items-start"><div class="flex items-center h-5"><input id="remember" type="checkbox" value="" class="w-4 h-4 border border-gray-300 rounded bg-gray-50 focus:ring-3 focus:ring-blue-300 dark:bg-gray-700 dark:border-gray-600 dark:focus:ring-blue-600 dark:ring-offset-gray-800 dark:focus:ring-offset-gray-800" required></div><label for="remember" class="ms-2 text-sm font-medium text-gray-900 dark:text-gray-300">Lembrar-me</label></div><a href="#" class="ms-auto text-sm text-blue-700 hover:underline dark:text-blue-500">Esqueceu a senha?</a></div>',1),h=(0,s.Lk)("div",{class:"text-sm font-medium text-gray-500 dark:text-gray-300"},[(0,s.eW)(" Não tem registro? "),(0,s.Lk)("a",{href:"#",class:"text-blue-700 hover:underline dark:text-blue-500"},"Criar conta")],-1);function g(e,t,a,o,g,m){return(0,s.uX)(),(0,s.CE)("div",l,[(0,s.Lk)("div",d,[(0,s.Lk)("form",n,[i,(0,s.Lk)("div",null,[c,(0,s.bo)((0,s.Lk)("input",{type:"email","onUpdate:modelValue":t[0]||(t[0]=e=>g.email=e),name:"email",id:"email",class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-600 dark:border-gray-500 dark:placeholder-gray-400 dark:text-white",placeholder:"seu Email",required:""},null,512),[[r.Jo,g.email]])]),(0,s.Lk)("div",null,[u,(0,s.bo)((0,s.Lk)("input",{type:"password","onUpdate:modelValue":t[1]||(t[1]=e=>g.password=e),name:"password",id:"password",placeholder:"••••••••",class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-600 dark:border-gray-500 dark:placeholder-gray-400 dark:text-white",required:""},null,512),[[r.Jo,g.password]])]),p,(0,s.Lk)("button",{type:"submit",class:"w-full text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800",onClick:t[2]||(t[2]=(...e)=>m.login&&m.login(...e))},"Entrar"),h])])])}var m=a(8355);const b="http://localhost:8000/api",k={login(e,t){return m.A.post(`${b}/login`,{email:e,password:t}).then((e=>(e.data.token&&localStorage.setItem("userToken",e.data.token),e.data)))},logout(){localStorage.removeItem("userToken")},isAuthenticated(){return null!==localStorage.getItem("userToken")},async register(e,t,a,r){let o=r;return await m.A.post(`${b}/register`,{email:e,password:t,password_confirmation:a,nameToken:o}).then((e=>(console.log(e.data.user),e.data.user)))}};var y=k,f={data(){return{email:"",password:""}},methods:{login(){y.login(this.email,this.password).then((e=>{this.email="",this.password="",this.$router.replace("/home"),window.history.pushState({},document.title,window.location.pathname)})).catch((e=>{console.error("Erro ao fazer login:",e)}))}}},v=a(1241);const x=(0,v.A)(f,[["render",g]]);var w=x,L=a(4232);const C={class:"w-full"},P={class:"w-full flex justify-center items-center text-xl font-bold"},A={class:"w-full"},_={class:"w-full"},E={class:"flex w-full p-4 sm:p-6 md:p-6 dark:bg-gray-800"},D={key:0,class:"w-full"},F={key:1,class:"w-full"};function S(e,t,a,r,o,l){const d=(0,s.g2)("DashboardBuyComponent"),n=(0,s.g2)("DashboardSaleComponent"),i=(0,s.g2)("DashboardComponent");return(0,s.uX)(),(0,s.Wv)(i,null,{"slot-pages":(0,s.k6)((()=>[(0,s.Lk)("div",C,[(0,s.Lk)("div",P,[(0,s.Lk)("div",A,[(0,s.Lk)("button",{onClick:t[0]||(t[0]=e=>l.mostrarDiv("compra")),class:(0,L.C4)([{"bg-gray-100 text-gray-600 dark:bg-gray-800 dark:text-white":"compra"===o.divAtual,"bg-gray-800 text-white dark:bg-gray-100 dark:text-gray-400":"compra"!==o.divAtual},"w-full p-4"])}," Compra ",2)]),(0,s.Lk)("div",_,[(0,s.Lk)("button",{onClick:t[1]||(t[1]=e=>l.mostrarDiv("venda")),class:(0,L.C4)([{"bg-gray-100 text-gray-600 dark:bg-gray-800 dark:text-white":"venda"===o.divAtual,"bg-gray-800 text-white dark:bg-gray-100 dark:text-gray-400":"venda"!==o.divAtual},"w-full p-4"])}," Venda ",2)])]),(0,s.Lk)("div",E,["compra"===o.divAtual?((0,s.uX)(),(0,s.CE)("div",D,[(0,s.bF)(d)])):(0,s.Q3)("",!0),"venda"===o.divAtual?((0,s.uX)(),(0,s.CE)("div",F,[(0,s.bF)(n)])):(0,s.Q3)("",!0)])])])),_:1})}const V={class:"w-full flex h-screen dark:bg-gray-950 bg-gray-100"},$={class:"dark:bg-gray-950 w-full h-screen flex"},B={class:"lg:w-[220px]"},X={style:{xl:"width: calc(100% - 200px)"},class:"w-full lg:ml-4 h-auto mt-14 md:mt-14"};function O(e,t,a,r,o,l){const d=(0,s.g2)("NavBarComponent"),n=(0,s.g2)("SideBarComponent");return(0,s.uX)(),(0,s.CE)("div",V,[(0,s.bF)(d),(0,s.Lk)("div",$,[(0,s.Lk)("div",B,[(0,s.bF)(n)]),(0,s.Lk)("div",X,[(0,s.RG)(e.$slots,"slot-pages")])])])}const G={class:"lg:hidden"},M=(0,s.Lk)("i",{class:"fa fa-bars text-xl"},null,-1),I=[M],K={key:0,class:"lg:visible fixed inset-0 lg:w-[220px] z-50 bg-gray-900 bg-opacity-75 flex justify-center items-center"},T={class:"bg-gray-900 w-[220px] h-screen text-white absolute left-0 top-0"},j=(0,s.Fv)('<div class="w-full flex justify-center p-4 items-center"><div class="mr-2"><span class="w-14 h-14 rounded-full flex bg-gray-300 justify-center items-center"><i class="fa fa-user text-4xl"></i></span></div><div><p class="m-0">Joao Gomes</p><span class="text-xs">online</span></div></div>',1),U={class:"flex-col text-center pt-4"},q={class:"p-2 hover:bg-slate-700 hover:text-lg"},Q=(0,s.Lk)("i",{class:"fa fa-house text-md pr-1"},null,-1),z={class:"p-2 hover:bg-slate-700 hover:text-lg"},R=(0,s.Lk)("i",{class:"fa fa-user pr-1"},null,-1),J={class:"p-2 hover:bg-slate-700 hover:text-lg"},W=(0,s.Lk)("i",{class:"fa fa-box pr-1"},null,-1),N={class:"p-2 hover:bg-slate-700 hover:text-lg"},H=(0,s.Lk)("i",{class:"fa fa-shop pr-1"},null,-1),Y={class:"p-2 hover:bg-slate-700 hover:text-lg"},Z=(0,s.Lk)("i",{class:"fa fa-bag-shopping pr-1"},null,-1),ee={class:"w-full h-full"};function te(e,t,a,r,o,l){const d=(0,s.g2)("router-link");return(0,s.uX)(),(0,s.CE)("div",null,[(0,s.Lk)("div",G,[(0,s.Lk)("button",{onClick:t[0]||(t[0]=e=>o.showModal=!o.showModal),class:"fixed top-3 left-4 z-50 bg-gray-900 text-white p-2 rounded-full"},I)]),o.showModal?((0,s.uX)(),(0,s.CE)("div",K,[(0,s.Lk)("div",T,[j,(0,s.Lk)("div",U,[(0,s.Lk)("ul",null,[(0,s.Lk)("li",q,[(0,s.bF)(d,{to:{name:"home"}},{default:(0,s.k6)((()=>[Q,(0,s.eW)(" Inicio")])),_:1})]),(0,s.Lk)("li",z,[(0,s.bF)(d,{to:{name:"pessoaLista"}},{default:(0,s.k6)((()=>[R,(0,s.eW)(" Pessoa")])),_:1})]),(0,s.Lk)("li",J,[(0,s.bF)(d,{to:{name:"produtoLista"}},{default:(0,s.k6)((()=>[W,(0,s.eW)(" Produto")])),_:1})]),(0,s.Lk)("li",N,[(0,s.bF)(d,{to:{name:"vendaLista"}},{default:(0,s.k6)((()=>[H,(0,s.eW)(" Venda")])),_:1})]),(0,s.Lk)("li",Y,[(0,s.bF)(d,{to:{name:"compraLista"}},{default:(0,s.k6)((()=>[Z,(0,s.eW)(" Compra")])),_:1})])])])]),(0,s.Lk)("div",ee,[(0,s.Lk)("button",{onClick:t[1]||(t[1]=e=>o.showModal=!1),class:"w-full h-full lg:h-0 lg:w-0"})])])):(0,s.Q3)("",!0)])}var ae={nome:"SideBarComponent",data(){return{showModal:!0}}};const re=(0,v.A)(ae,[["render",te]]);var oe=re;const se={class:"bg-gray-900 w-full h-16 p-2 pb-4 text-white fixed top-0 left-0 z-40"},le={class:"w-2/3 float-end"},de={class:"flex justify-between items-center p-2"},ne=(0,s.Lk)("h3",null,[(0,s.Lk)("i",{class:"fa fa-star"}),(0,s.eW)(" Logo Marca")],-1),ie=(0,s.Lk)("a",{class:"text-lg",href:""},[(0,s.eW)("Sair "),(0,s.Lk)("i",{class:"fa fa-sign-out-alt"})],-1);function ce(e,t,a,r,o,l){const d=(0,s.g2)("ThemeComponent");return(0,s.uX)(),(0,s.CE)("div",se,[(0,s.Lk)("div",le,[(0,s.Lk)("div",de,[ne,(0,s.bF)(d),ie])])])}a(4114);const ue={class:"flex duration-100 rounded-lg"},pe=(0,s.Lk)("span",null,[(0,s.Lk)("i",{class:"fa-solid fa-moon"})],-1),he=[pe],ge=(0,s.Lk)("span",null,[(0,s.Lk)("i",{class:"fa-regular fa-sun"})],-1),me=[ge];function be(e,t,a,r,o,l){return(0,s.uX)(),(0,s.CE)("div",ue,[(0,s.Lk)("button",{onClick:t[0]||(t[0]=e=>l.setTheme("dark")),class:(0,L.C4)([{invisible:"dark"===o.theme},"w-8 h-8 leading-9 text-xl rounded-full m-1"])},he,2),(0,s.Lk)("button",{onClick:t[1]||(t[1]=e=>l.setTheme("light")),class:(0,L.C4)([{invisible:"light"===o.theme},"w-8 h-8 leading-9 text-xl rounded-full m-1"])},me,2)])}var ke={data(){return{theme:"dark"}},mounted(){this.applyTheme(),window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",this.onWindowMatch)},beforeDestroy(){window.matchMedia("(prefers-color-scheme: dark)").removeEventListener("change",this.onWindowMatch)},methods:{onWindowMatch(e){const t=e.matches?"dark":"light";this.setTheme(t)},applyTheme(){"dark"===localStorage.theme||!("theme"in localStorage)&&window.matchMedia("(prefers-color-scheme: dark)").matches?(document.documentElement.classList.add("dark"),this.theme="dark"):(document.documentElement.classList.remove("dark"),this.theme="light")},setTheme(e){switch(this.theme=e,e){case"dark":document.documentElement.classList.add("dark"),localStorage.setItem("theme","dark");break;case"light":document.documentElement.classList.remove("dark"),localStorage.setItem("theme","light");break;default:localStorage.removeItem("theme");break}}}};const ye=(0,v.A)(ke,[["render",be]]);var fe=ye,ve={nome:"NavBarComponent",components:{ThemeComponent:fe},methods:{logout(){this.$router.push({name:"login"})}}};const xe=(0,v.A)(ve,[["render",ce]]);var we=xe,Le={name:"DashboardComponent",components:{SideBarComponent:oe,NavBarComponent:we}};const Ce=(0,v.A)(Le,[["render",O]]);var Pe=Ce;const Ae={class:"flex justify-center items-center text-gray-700 dark:text-white"},_e={class:"w-full p-4 sm:p-6 md:p-8 dark:bg-gray-800"},Ee={class:"w-auto"},De={class:"flex flex-wrap items-center justify-start mb-4"},Fe={class:"px-3 mb-6 md:mb-0"},Se=(0,s.Lk)("label",{class:"block uppercase tracking-wide text-xs font-bold mb-2",for:"data"}," Data Inicio ",-1),Ve={class:"px-3 mb-6 md:mb-0"},$e=(0,s.Lk)("label",{class:"block uppercase tracking-wide text-xs font-bold mb-2",for:"data_fim"}," Data Fim ",-1),Be={class:"flex flex-wrap items-center justify-between mb-4 pl-4"},Xe={class:"mb-4"},Oe=(0,s.Lk)("label",{class:"block uppercase tracking-wide text-xs font-bold mb-2"}," Fornecedor ",-1),Ge={class:"mb-4"},Me=(0,s.Lk)("label",{class:"block uppercase tracking-wide text-xs font-bold mb-2"}," Produtos ",-1),Ie={class:"mb-4"},Ke=(0,s.Lk)("label",{class:"block uppercase tracking-wide text-xs font-bold mb-2"}," Ordenar Data ",-1),Te=(0,s.Lk)("option",{value:"",selected:""},"Ordenar Data",-1),je=(0,s.Lk)("option",{value:"1"},"Crescente",-1),Ue=(0,s.Lk)("option",{value:"0"},"Decrescente",-1),qe=[Te,je,Ue],Qe={class:"mb-4"},ze=(0,s.Lk)("label",{class:"block uppercase tracking-wide text-xs font-bold mb-2"}," Ordenar Preço ",-1),Re=(0,s.Lk)("option",{value:"",selected:""},"Ordenar Preço",-1),Je=(0,s.Lk)("option",{value:"1"},"Crescente",-1),We=(0,s.Lk)("option",{value:"0"},"Decrescente",-1),Ne=[Re,Je,We],He={class:"flex gap-2"},Ye={class:"relative w-1/2 h-20 flex border-x-2 border-b-2 border-gray-500 rounded-md items-center"},Ze=(0,s.Lk)("span",{class:"absolute -left-0 -top-4 font-bold text-sm"},"Compras mês",-1),et=(0,s.Lk)("span",{class:"absolute -right-0 -top-4 font-bold text-sm"},"Valores mês",-1),tt={class:"w-full h-full bg-green-400 dark:bg-green-800 dark:text-white justify-center items-center flex"},at={class:"text-2xl font-bold pl-2"},rt={class:"w-full h-full bg-green-500 dark:bg-green-900 dark:text-white justify-center items-center flex"},ot={class:"text-2xl font-bold pr-2"},st={class:"relative w-1/2 h-20 flex border-x-2 border-b-2 border-gray-500 rounded-md items-center"},lt=(0,s.Lk)("span",{class:"absolute -left-0 -top-4 font-bold text-sm"},"Ticket médio mês",-1),dt={class:"w-full h-full bg-yellow-400 dark:bg-yellow-600 dark:text-white justify-center items-center flex"},nt={class:"text-2xl font-bold pl-2"},it={class:"flex-row md:flex w-full"},ct={class:"w-full"},ut={class:"md:w-1/2 w-full"},pt={class:""};function ht(e,t,a,o,l,d){const n=(0,s.g2)("SelectPessoaComponent"),i=(0,s.g2)("SelectProdutoComponent"),c=(0,s.g2)("FornecedorChartComponent"),u=(0,s.g2)("ComprasChartComponent");return(0,s.uX)(),(0,s.CE)("div",Ae,[(0,s.Lk)("div",_e,[(0,s.Lk)("div",Ee,[(0,s.Lk)("div",De,[(0,s.Lk)("div",Fe,[Se,(0,s.bo)((0,s.Lk)("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>l.selectedData=e),onInput:t[1]||(t[1]=(...e)=>d.handleFilterChange&&d.handleFilterChange(...e)),class:"py-2 px-3 rounded border mr-4 border-gray-300 shadow-lg bg-gray-200 shadow-indigo-500/40 dark:bg-gray-600 dark:shadow-gray-600/40",type:"date",id:"data"},null,544),[[r.Jo,l.selectedData]])]),(0,s.Lk)("div",Ve,[$e,(0,s.bo)((0,s.Lk)("input",{"onUpdate:modelValue":t[2]||(t[2]=e=>l.selectedDateEnd=e),onInput:t[3]||(t[3]=(...e)=>d.handleFilterChange&&d.handleFilterChange(...e)),class:"py-2 px-3 rounded border mr-4 border-gray-300 shadow-lg bg-gray-200 shadow-indigo-500/40 dark:bg-gray-600 dark:shadow-gray-600/40",id:"data_fim",type:"date"},null,544),[[r.Jo,l.selectedDateEnd]])])]),(0,s.Lk)("div",Be,[(0,s.Lk)("div",Xe,[Oe,(0,s.bF)(n,{onPeopleSelected:d.updateSelectedPeople},null,8,["onPeopleSelected"])]),(0,s.Lk)("div",Ge,[Me,(0,s.bF)(i,{onProductSelected:d.updateSelectedProduct},null,8,["onProductSelected"])]),(0,s.Lk)("div",Ie,[Ke,(0,s.bo)((0,s.Lk)("select",{"onUpdate:modelValue":t[4]||(t[4]=e=>l.selectedOrdData=e),class:"py-2 px-3 rounded border-2 border-gray-300 mr-4 shadow-lg bg-gray-200 shadow-indigo-500/40 dark:bg-gray-600 dark:shadow-gray-600/40",onChange:t[5]||(t[5]=(...e)=>d.handleFilterChange&&d.handleFilterChange(...e))},qe,544),[[r.u1,l.selectedOrdData]])]),(0,s.Lk)("div",Qe,[ze,(0,s.bo)((0,s.Lk)("select",{"onUpdate:modelValue":t[6]||(t[6]=e=>l.selectedOrdValor=e),class:"py-2 px-3 rounded border-2 border-gray-300 mr-4 shadow-lg bg-gray-200 shadow-indigo-500/40 dark:bg-gray-600 dark:shadow-gray-600/40",onChange:t[7]||(t[7]=(...e)=>d.handleFilterChange&&d.handleFilterChange(...e))},Ne,544),[[r.u1,l.selectedOrdValor]])])])]),(0,s.Lk)("div",He,[(0,s.Lk)("div",Ye,[Ze,et,(0,s.Lk)("div",tt,[(0,s.Lk)("h3",at,(0,L.v_)(l.currentMonthSale?l.currentMonthSale.total_quantidade:"-"),1)]),(0,s.Lk)("div",rt,[(0,s.Lk)("h3",ot,(0,L.v_)(l.currentMonthSale?d.formatCurrency(l.currentMonthSale.total_preco):"-"),1)])]),(0,s.Lk)("div",st,[lt,(0,s.Lk)("div",dt,[(0,s.Lk)("h3",nt,(0,L.v_)(l.currentMonthSale?d.formatCurrency(l.currentMonthSale.ticket):"-"),1)])])]),(0,s.Lk)("div",null,[(0,s.Lk)("div",it,[(0,s.Lk)("div",ct,[(0,s.bF)(c,{filter:l.filter},null,8,["filter"])]),(0,s.Lk)("div",ut,[(0,s.Lk)("div",pt,[(0,s.bF)(u,{onCurrentMonth:d.updatecurrentMonthSale,filter:l.filter},null,8,["onCurrentMonth","filter"])])])])])])])}const gt=(0,s.Lk)("option",{value:"",selected:""},"Todos os pessoas",-1),mt=["value"];function bt(e,t,a,o,l,d){return(0,s.bo)(((0,s.uX)(),(0,s.CE)("select",{"onUpdate:modelValue":t[0]||(t[0]=e=>l.selectedPeople=e),onChange:t[1]||(t[1]=(...e)=>d.emitPeople&&d.emitPeople(...e)),class:"py-2 px-3 w-full rounded mr-4 shadow-lg bg-gray-200 shadow-indigo-500/40 dark:bg-gray-600 dark:shadow-gray-600/40 border-2 border-gray-300"},[gt,((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(l.peoples,(e=>((0,s.uX)(),(0,s.CE)("option",{key:e.id,value:e.id},(0,L.v_)(e.nome),9,mt)))),128))],544)),[[r.u1,l.selectedPeople]])}const kt="http://localhost:8000/api",yt=localStorage.getItem("userToken"),ft={async getAll(e){try{const t={Authorization:`Bearer ${yt}`},a=await m.A.get(`${kt}/pessoa`,{params:e,headers:t});return a.data}catch(t){throw console.error("Erro ao obter pessoa:",t),new Error("Erro ao obter pessoa da API.")}},async getById(e){try{const t=await m.A.get(`${kt}/pessoa/${e}`,{headers:{Authorization:`Bearer ${yt}`}});return t.data}catch(t){throw console.error("Erro ao obter pessoa:",t),new Error("Erro ao obter pessoa da API.")}},async cadastrar(e){try{const t=await m.A.post(`${kt}/pessoa`,e,{headers:{Authorization:`Bearer ${yt}`}});if(201===t.status)return{success:!0,message:"Pessoa cadastrada com sucesso"}}catch(t){return console.error("Erro ao cadastrar a pessoa:",t),{success:!1,message:"Erro ao cadastrar a pessoa"}}},async atualizar(e,t){try{const a=await m.A.put(`${kt}/pessoa/${e}`,t,{headers:{Authorization:`Bearer ${yt}`}});if(201===a.status)return{success:!0,message:"Cadastro de pessoa atualizada com sucesso"}}catch(a){throw console.error("Erro ao atualizar pessoa:",a),new Error("Erro ao atualizar pessoa da API.")}},async remover(e){try{const t=await m.A.delete(`${kt}/pessoa/${e}`,{headers:{Authorization:`Bearer ${yt}`}});if(201===t.status)return{success:!0,message:"Cadastro de pessoa removido com sucesso"}}catch(t){throw console.error("Erro ao remover pessoa:",t),new Error("Erro ao remover pessoa da API.")}}};var vt=ft,xt={props:["modelValue","initialPeople"],emits:["update:modelValue"],data(){return{selectedPeople:this.modelValue,peoples:[],loading:!1}},watch:{modelValue(e){this.selectedPeople=e},selectedPeople(e){this.$emit("update:modelValue",e)}},methods:{async getAll(){try{const e={all:"0",grupo_id:"1"};this.loading=!0;const t=await vt.getAll(e);this.peoples=t}catch(e){console.error("Erro ao obter pessoas:",e)}finally{this.loading=!1}},emitPeople(){this.$emit("update:modelValue",this.selectedPeople),this.$emit("people-selected",this.selectedPeople)}},mounted(){this.initialPeople||this.getAll()}};const wt=(0,v.A)(xt,[["render",bt]]);var Lt=wt;const Ct=(0,s.Lk)("option",{value:"",selected:""},"Todos as produtos",-1),Pt=["value"];function At(e,t,a,o,l,d){return(0,s.bo)(((0,s.uX)(),(0,s.CE)("select",{"onUpdate:modelValue":t[0]||(t[0]=e=>l.selectedProduct=e),onChange:t[1]||(t[1]=(...e)=>d.emitProduct&&d.emitProduct(...e)),class:"py-2 px-3 w-full rounded mr-4 shadow-lg bg-gray-200 shadow-indigo-500/40 dark:bg-gray-600 dark:shadow-gray-600/40 border-2 border-gray-300"},[Ct,((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(l.produtos,(e=>((0,s.uX)(),(0,s.CE)("option",{key:e.id,value:e.id},(0,L.v_)(e.nome),9,Pt)))),128))],544)),[[r.u1,l.selectedProduct]])}const _t="http://localhost:8000/api",Et=localStorage.getItem("userToken"),Dt={async getAll(e){try{const t={Authorization:`Bearer ${Et}`},a=await m.A.get(`${_t}/produto`,{params:e,headers:t});return a.data}catch(t){throw console.error("Erro ao obter produto:",t),new Error("Erro ao obter produto da API.")}},async getById(e){try{const t=await m.A.get(`${_t}/produto/${e}`,{headers:{Authorization:`Bearer ${Et}`}});return t.data}catch(t){throw console.error("Erro ao obter produto:",t),new Error("Erro ao obter produto da API.")}},async cadastrar(e){try{const t=await m.A.post(`${_t}/produto`,e,{headers:{Authorization:`Bearer ${Et}`}});if(201===t.status)return{success:!0,message:"Produto cadastrada com sucesso"}}catch(t){return console.error("Erro ao cadastrar a produto:",t),{success:!1,message:"Erro ao cadastrar a produto"}}},async atualizar(e,t){try{const a=await m.A.put(`${_t}/produto/${e}`,t,{headers:{Authorization:`Bearer ${Et}`}});if(201===a.status)return{success:!0,message:"Cadastro de produto atualizada com sucesso"}}catch(a){throw console.error("Erro ao atualizar produto:",a),new Error("Erro ao atualizar produto da API.")}},async remover(e){try{const t=await m.A.delete(`${_t}/produto/${e}`,{headers:{Authorization:`Bearer ${Et}`}});if(201===t.status)return{success:!0,message:"Cadastro de produto removido com sucesso"}}catch(t){throw console.error("Erro ao remover produto:",t),new Error("Erro ao remover produto da API.")}}};var Ft=Dt,St={props:["modelValue","initialGroup"],emits:["update:modelValue"],data(){return{selectedProduct:this.modelValue,produtos:[],loading:!1}},watch:{modelValue(e){this.selectedProduct=e},selectedProduct(e){this.$emit("update:modelValue",e)}},methods:{async getAll(){try{const e={all:"0"};this.loading=!0;const t=await Ft.getAll(e);this.produtos=t}catch(e){console.error("Erro ao obter produtos:",e)}finally{this.loading=!1}},emitProduct(){this.$emit("update:modelValue",this.selectedProduct),this.$emit("product-selected",this.selectedProduct)}},mounted(){this.initialProduct||this.getAll()}};const Vt=(0,v.A)(St,[["render",At]]);var $t=Vt;const Bt={class:"pt-6"},Xt={key:0,class:"flex-col sm:flex md:flex-col"},Ot={class:"p-4"},Gt=(0,s.Lk)("h5",{class:"text-xl font-bold pb-2"},"Compras por Mês",-1),Mt={class:"p-4"},It=(0,s.Lk)("h5",{class:"text-xl font-bold pb-2"},"Valor total comprado por mês",-1),Kt={key:1},Tt=(0,s.Lk)("p",null,"Carregando dados...",-1),jt=[Tt];function Ut(e,t,a,r,o,l){const d=(0,s.g2)("Bar");return(0,s.uX)(),(0,s.CE)("div",Bt,[o.dataLoaded?((0,s.uX)(),(0,s.CE)("div",Xt,[(0,s.Lk)("div",Ot,[Gt,((0,s.uX)(),(0,s.Wv)(d,{id:"QtdMes",key:o.componentKey,options:o.chartOptions,data:o.ChartQtd},null,8,["options","data"]))]),(0,s.Lk)("div",Mt,[It,((0,s.uX)(),(0,s.Wv)(d,{id:"ValorMes",options:o.chartOptions,data:o.ChartValor,key:o.componentKey},null,8,["options","data"]))])])):((0,s.uX)(),(0,s.CE)("div",Kt,jt))])}const qt="http://localhost:8000/api",Qt=localStorage.getItem("userToken"),zt={async getAll(e){try{const t={Authorization:`Bearer ${Qt}`},a=await m.A.get(`${qt}/compra`,{params:e,headers:t});return a.data}catch(t){throw console.error("Erro ao obter compra:",t),new Error("Erro ao obter compra da API.")}},async getById(e){try{const t=await m.A.get(`${qt}/compra/${e}`,{headers:{Authorization:`Bearer ${Qt}`}});return t.data}catch(t){throw console.error("Erro ao obter compra:",t),new Error("Erro ao obter compra da API.")}},async cadastrar(e){try{const t=await m.A.post(`${qt}/compra`,e,{headers:{Authorization:`Bearer ${Qt}`}});if(201===t.status)return{success:!0,message:"Compra cadastrada com sucesso"}}catch(t){return console.error("Erro ao cadastrar a compra:",t),{success:!1,message:"Erro ao cadastrar a compra"}}},async atualizar(e,t){try{const a=await m.A.put(`${qt}/compra/${e}`,t,{headers:{Authorization:`Bearer ${Qt}`}});if(201===a.status)return{success:!0,message:"Cadastro de compra atualizada com sucesso"}}catch(a){throw console.error("Erro ao atualizar compra:",a),new Error("Erro ao atualizar compra da API.")}},async remover(e){try{const t=await m.A.delete(`${qt}/compra/${e}`,{headers:{Authorization:`Bearer ${Qt}`}});if(201===t.status)return{success:!0,message:"Cadastro de compra removido com sucesso"}}catch(t){throw console.error("Erro ao remover compra:",t),new Error("Erro ao remover compra da API.")}}};var Rt=zt,Jt=a(1010),Wt=a(6912);Wt.t1.register(Wt.hE,Wt.m_,Wt.s$,Wt.E8,Wt.PP,Wt.kc);const Nt=["Janeiro","Fevereiro","Março","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"];var Ht={props:["filter"],name:"BarChart",components:{Bar:Jt.yP},data(){return{componentKey:0,loading:!1,dataLoaded:!1,ChartValor:{labels:[],datasets:[{label:"Valor total por mês",backgroundColor:"#228B22",data:[]}]},ChartQtd:{labels:[],datasets:[{label:"Total de compras por mês",backgroundColor:"#DAA520",data:[]}]},chartOptions:{responsive:!0}}},watch:{filter:{immediate:!0,handler(e){this.getAll()}}},methods:{getNomeMes(e){return Nt[e-1]},async getAll(){try{let e={all:"0",agrupar_mes:"1"};if(null!==this.filter&&Object.keys(this.filter).length>0)switch(!0){case void 0!==this.filter.ord_data:this.filter.ord_mes=this.filter.ord_data,delete this.filter.ord_data;case void 0!==this.filter.ord_valor:this.filter.ord_mes_valor=this.filter.ord_valor,delete this.filter.ord_valor;default:e={all:"0",agrupar_mes:"1",...this.filter};break}this.loading=!0;const t=await Rt.getAll(e),a=(new Date).getMonth();this.ChartValor.labels=[],this.ChartValor.datasets[0].data=[],this.ChartQtd.labels=[],this.ChartQtd.datasets[0].data=[];for(let r of t){if(r.mes==a){this.currentMonth=r;const e=r.total_preco/r.total_quantidade;r.ticket=e,this.emitCompra(r)}this.ChartValor.labels.push(this.getNomeMes(r.mes)),this.ChartQtd.labels.push(this.getNomeMes(r.mes)),this.ChartValor.datasets[0].data.push(parseFloat(r.total_preco.replace(",","."))),this.ChartQtd.datasets[0].data.push(r.total_quantidade),this.componentKey++}this.dataLoaded=!0}catch(e){this.emitCompra({total_preco:0,total_quantidade:"Não há registros"}),this.ChartValor.labels=[],this.ChartValor.datasets[0].data=[""],this.ChartQtd.labels=[],this.ChartQtd.datasets[0].data=[],this.componentKey++,console.error("Erro ao obter compras:",e)}finally{this.loading=!1}},emitCompra(e){this.$emit("currentMonth",e)}}};const Yt=(0,v.A)(Ht,[["render",Ut]]);var Zt=Yt;const ea={class:"pt-6"},ta=(0,s.Lk)("h5",{class:"text-xl font-bold pb-2"},"Compras por Fornecedor",-1),aa={key:1},ra=(0,s.Lk)("p",null,"Carregando dados...",-1),oa=[ra];function sa(e,t,a,r,o,l){const d=(0,s.g2)("Bar");return(0,s.uX)(),(0,s.CE)("div",ea,[ta,o.dataLoaded?((0,s.uX)(),(0,s.Wv)(d,{id:"my-chart-id",key:o.componentKey,options:o.chartOptions,data:o.chartData},null,8,["options","data"])):((0,s.uX)(),(0,s.CE)("div",aa,oa))])}Wt.t1.register(Wt.hE,Wt.m_,Wt.s$,Wt.E8,Wt.PP,Wt.kc);var la={props:["filter"],emits:["update:modelValue"],name:"BarChart",components:{Bar:Jt.yP},data(){return{componentKey:0,loading:!1,dataLoaded:!1,chartData:{labels:[],datasets:[{label:"Total de compras por Fornecedor",backgroundColor:[],data:[]}]},chartOptions:{responsive:!0,indexAxis:"y"}}},watch:{filter:{immediate:!0,handler(e){this.getAll()}}},methods:{getRandomColor(){const e=Math.floor(16777215*Math.random()).toString(16);return"#"+e.padStart(6,"0")},async getAll(){try{let e={all:"0",agrupar_fornecedor:"1"};if(null!==this.filter&&Object.keys(this.filter).length>0)switch(!0){case void 0!==this.filter.ord_data:delete this.filter.ord_data;case void 0!==this.filter.ord_valor:this.filter.ord_mes_valor=this.filter.ord_valor,delete this.filter.ord_valor;default:e={all:"0",agrupar_fornecedor:"1",...this.filter};break}this.loading=!0;const t=await Rt.getAll(e);console.log(t),this.chartData.labels=[],this.chartData.datasets[0].data=[];for(let a of t)this.chartData.labels.push(a.pessoa.nome),this.chartData.datasets[0].data.push(parseFloat(a.total_preco.replace(",","."))),this.chartData.datasets[0].backgroundColor.push(this.getRandomColor()),this.componentKey++;this.dataLoaded=!0}catch(e){this.chartData.labels=[],this.chartData.datasets[0].data=[""],this.componentKey++,console.error("Erro ao obter compras:",e)}finally{this.loading=!1}}}};const da=(0,v.A)(la,[["render",sa]]);var na=da,ia={name:"DashboardSaleComponent",components:{SelectPessoaComponent:Lt,SelectProdutoComponent:$t,ComprasChartComponent:Zt,FornecedorChartComponent:na},data(){return{selectedPeople:"",filter:{},selectedProduct:"",selectedData:"",selectedDateEnd:"",selectedOrdData:"",selectedOrdValor:"",handlePages:"",currentMonthSale:[],sale:[],arrayPage:[],paginate:{},minSearchLength:3,currentPage:1,itemsPerPage:10}},computed:{},methods:{formatDate(e){const t=new Date(e);return t.toLocaleDateString("pt-BR")},formatCurrency(e){const t=parseInt(e,10);return t.toLocaleString("pt-BR",{style:"currency",currency:"BRL"})},async getAll(){try{this.buildParams()}catch(e){console.error("Erro ao obter compras",e),this.sale=[],this.paginate=[]}},shouldApplyFilter(){return this.selectedPeople||this.selectedProduct||this.selectedData||this.selectedDateEnd||this.selectedOrdData||this.selectedOrdValor},buildParams(){const e={};return this.selectedPeople&&(e.pessoa_id=this.selectedPeople),this.selectedProduct&&(e.produto_id=this.selectedProduct),this.selectedData&&(e.data=this.selectedData),this.selectedDateEnd&&(e.data_fim=this.selectedDateEnd),this.selectedOrdData&&(e.ord_data=this.selectedOrdData),this.selectedOrdValor&&(e.ord_valor=this.selectedOrdValor),this.handlePages&&(e.page=this.handlePages),this.filter=e,e},updateSelectedPeople(e){this.selectedPeople=e},updatecurrentMonthSale(e){this.currentMonthSale=e},updateSelectedProduct(e){this.selectedProduct=e,this.handleFilterChange()},handleFilterChange(){this.shouldApplyFilter()?this.currentPage=1:this.getAll()}},watch:{selectedPeople(){this.shouldApplyFilter()&&this.getAll()},selectedProduct(){this.shouldApplyFilter()&&this.getAll()},selectedData(){this.shouldApplyFilter()&&this.getAll()},selectedDateEnd(){this.shouldApplyFilter()&&this.getAll()},selectedOrdData(){this.shouldApplyFilter()&&this.getAll()},selectedOrdValor(){this.shouldApplyFilter()&&this.getAll()},currentMonthSale(){}}};const ca=(0,v.A)(ia,[["render",ht]]);var ua=ca;const pa={class:"flex justify-center items-center"},ha={class:"w-full p-2 dark:text-white dark:bg-gray-800"},ga={class:"w-auto"},ma={class:"mb-4 flex items-center pl-2"},ba={class:"w-[400px] flex rounded border border-gray-300 shadow-lg bg-gray-200 shadow-indigo-500/40 dark:bg-gray-600 dark:shadow-gray-600/40"},ka={class:""},ya=(0,s.Lk)("div",{class:"w-[40px]"},[(0,s.Lk)("span",{class:"float-end py-3 px-3 bg-slate-300 dark:bg-gray-700"},[(0,s.Lk)("i",{class:"fa-solid fa-magnifying-glass"})])],-1),fa={class:"flex items-center justify-between mb-4"},va={class:"mb-4"},xa=(0,s.Lk)("label",{class:"block uppercase tracking-wide text-gray-700 dark:text-white text-xs font-bold mb-2"}," Grupo ",-1),wa={class:"mb-4"},La=(0,s.Lk)("label",{class:"block uppercase tracking-wide text-gray-700 dark:text-white text-xs font-bold mb-2"}," Marca ",-1),Ca={class:"mb-4"},Pa=(0,s.Lk)("label",{class:"block uppercase tracking-wide text-gray-700 dark:text-white text-xs font-bold mb-2"}," Status ",-1),Aa=(0,s.Lk)("option",{value:"",selected:""},"Todos os Status",-1),_a=(0,s.Lk)("option",{value:"1"},"Ativo",-1),Ea=(0,s.Lk)("option",{value:"0"},"Inativo",-1),Da=[Aa,_a,Ea],Fa={class:"overflow-x-auto"},Sa={class:"relative shadow-md sm:rounded-lg"},Va={class:"w-full h-full text-sm text-left rtl:text-right text-gray-500 dark:text-white"},$a=(0,s.Lk)("thead",{class:"text-xs text-gray-700 dark:text-white uppercase bg-gray-50 dark:bg-gray-700"},[(0,s.Lk)("tr",null,[(0,s.Lk)("th",{scope:"col",class:"px-6 py-3"},"Nome"),(0,s.Lk)("th",{scope:"col",class:"px-6 py-3"},"Marca"),(0,s.Lk)("th",{scope:"col",class:"px-6 py-3"},"Grupo"),(0,s.Lk)("th",{scope:"col",class:"px-6 py-3"},"Status"),(0,s.Lk)("th",{scope:"col",class:"px-6 py-3"},"Qtd"),(0,s.Lk)("th",{scope:"col",class:"px-6 py-3"},"Preço"),(0,s.Lk)("th",{scope:"col",class:"px-6 py-3"},"Ação")])],-1),Ba={key:0},Xa=(0,s.Lk)("td",{colspan:"5",class:"text-center"}," Nenhum resultado encontrado. ",-1),Oa=[Xa],Ga={scope:"row",class:"px-6 py-4 font-medium text-gray-900 whitespace-nowrap dark:text-white"},Ma={class:"px-6 py-4"},Ia={class:"px-6 py-4"},Ka={class:"px-6 py-4"},Ta={class:"px-6 py-4"},ja={class:"px-6 py-4"},Ua={class:"px-6 py-4"},qa=["onClick"],Qa=(0,s.Lk)("i",{class:"text-xl fa-solid fa-eye"},null,-1),za=[Qa],Ra=["onClick"],Ja=(0,s.Lk)("i",{class:"text-xl fa-solid fa-trash"},null,-1),Wa=[Ja],Na={class:"flex justify-center mt-4"},Ha=["v-html","onClick"];function Ya(e,t,a,o,l,d){const n=(0,s.g2)("SelectGrupoComponent"),i=(0,s.g2)("SelectBrandComponent"),c=(0,s.g2)("ChartComponent");return(0,s.uX)(),(0,s.CE)("div",pa,[(0,s.Lk)("div",ha,[(0,s.Lk)("div",ga,[(0,s.Lk)("div",ma,[(0,s.Lk)("div",ba,[(0,s.Lk)("div",ka,[(0,s.bo)((0,s.Lk)("input",{type:"text","onUpdate:modelValue":t[0]||(t[0]=e=>l.searchQuery=e),class:"py-3 px-3 w-[360px] dark:bg-gray-600",placeholder:"Pesquisar...",onInput:t[1]||(t[1]=(...e)=>d.handleFilterChange&&d.handleFilterChange(...e))},null,544),[[r.Jo,l.searchQuery]])]),ya])]),(0,s.Lk)("div",fa,[(0,s.Lk)("div",va,[xa,(0,s.bF)(n,{onGroupSelected:d.updateSelectedGroup},null,8,["onGroupSelected"])]),(0,s.Lk)("div",wa,[La,(0,s.bF)(i,{onBrandSelected:d.updateSelectedBrand},null,8,["onBrandSelected"])]),(0,s.Lk)("div",Ca,[Pa,(0,s.bo)((0,s.Lk)("select",{"onUpdate:modelValue":t[2]||(t[2]=e=>l.selectedStatus=e),class:"py-2 px-3 rounded border-2 border-gray-300 mr-4 shadow-lg bg-gray-200 shadow-indigo-500/40 dark:bg-gray-600 dark:shadow-gray-600/40",onChange:t[3]||(t[3]=(...e)=>d.handleFilterChange&&d.handleFilterChange(...e))},Da,544),[[r.u1,l.selectedStatus]])])])]),(0,s.bF)(c),(0,s.Lk)("div",Fa,[(0,s.Lk)("div",Sa,[(0,s.Lk)("table",Va,[$a,(0,s.Lk)("tbody",null,[l.product.length?((0,s.uX)(!0),(0,s.CE)(s.FK,{key:1},(0,s.pI)(l.product,(e=>((0,s.uX)(),(0,s.CE)("tr",{key:e.id,class:"odd:bg-white odd:dark:bg-gray-900 even:bg-gray-50 even:dark:bg-gray-800 border-b dark:border-gray-700"},[(0,s.Lk)("th",Ga,(0,L.v_)(e.nome),1),(0,s.Lk)("td",Ma,(0,L.v_)(e.marca.nome),1),(0,s.Lk)("td",Ia,(0,L.v_)(e.grupo_produto.nome),1),(0,s.Lk)("td",Ka,(0,L.v_)(1==e.status?"Ativo":"Inativo"),1),(0,s.Lk)("td",Ta,(0,L.v_)(e.quantidade),1),(0,s.Lk)("td",ja,(0,L.v_)(d.formatCurrency(e.preco)),1),(0,s.Lk)("td",Ua,[(0,s.Lk)("a",{onClick:t=>d.editar(e.id),class:"text-blue-600 pr-4 hover:text-white dark:text-white hover:underline hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center"},za,8,qa),(0,s.Lk)("a",{onClick:t=>d.remover(e.id),class:"text-blue-600 hover:text-white dark:text-white hover:underline hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center"},Wa,8,Ra)])])))),128)):((0,s.uX)(),(0,s.CE)("tr",Ba,Oa))])]),(0,s.Lk)("div",Na,[l.arrayPage.length?((0,s.uX)(!0),(0,s.CE)(s.FK,{key:1},(0,s.pI)(l.arrayPage,(e=>((0,s.uX)(),(0,s.CE)("a",{key:e,"v-html":e,onClick:t=>d.handlePage(e),class:"odd:bg-white odd:dark:bg-gray-900 even:bg-gray-50 even:dark:bg-gray-800 border-b dark:border-gray-700 p-4"},(0,L.v_)(e),9,Ha)))),128)):((0,s.uX)(),(0,s.CE)(s.FK,{key:0},[],64))])])])])])}const Za=(0,s.Lk)("option",{value:"",selected:""},"Todos os grupos",-1),er=["value"];function tr(e,t,a,o,l,d){return(0,s.bo)(((0,s.uX)(),(0,s.CE)("select",{"onUpdate:modelValue":t[0]||(t[0]=e=>l.selectedGroup=e),onChange:t[1]||(t[1]=(...e)=>d.emitGroup&&d.emitGroup(...e)),class:"py-2 px-3 rounded mr-4 shadow-lg bg-gray-200 shadow-indigo-500/40 dark:bg-gray-600 dark:shadow-gray-600/40 border-2 border-gray-300"},[Za,((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(l.groups,(e=>((0,s.uX)(),(0,s.CE)("option",{key:e.id,value:e.id},(0,L.v_)(e.nome),9,er)))),128))],544)),[[r.u1,l.selectedGroup]])}const ar="http://localhost:8000/api",rr=localStorage.getItem("userToken"),or={async getAll(e){try{const t={Authorization:`Bearer ${rr}`};e||(e={});const a=await m.A.get(`${ar}/grupo_produto`,{params:e,headers:t});return a.data}catch(t){throw console.error("Erro ao obter grupo de produto",t),new Error("Erro ao obter grupo de produto da API.")}}};var sr=or,lr={props:["modelValue","initialGroup"],emits:["update:modelValue"],data(){return{selectedGroup:this.modelValue,groups:[],loading:!1}},watch:{modelValue(e){this.selectedGroup=e},selectedGroup(e){this.$emit("update:modelValue",e)}},methods:{async getAll(){try{this.loading=!0;const e=await sr.getAll();this.groups=e}catch(e){console.error("Erro ao obter grupos:",e)}finally{this.loading=!1}},emitGroup(){this.$emit("update:modelValue",this.selectedGroup),this.$emit("group-selected",this.selectedGroup)}},mounted(){this.initialGroup||this.getAll()}};const dr=(0,v.A)(lr,[["render",tr]]);var nr=dr;const ir=(0,s.Lk)("option",{value:"",selected:""},"Todos as marcas",-1),cr=["value"];function ur(e,t,a,o,l,d){return(0,s.bo)(((0,s.uX)(),(0,s.CE)("select",{"onUpdate:modelValue":t[0]||(t[0]=e=>l.selectedBrand=e),onChange:t[1]||(t[1]=(...e)=>d.emitBrand&&d.emitBrand(...e)),class:"py-2 px-3 rounded mr-4 shadow-lg bg-gray-200 shadow-indigo-500/40 dark:bg-gray-600 dark:shadow-gray-600/40 border-2 border-gray-300"},[ir,((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(l.marcas,(e=>((0,s.uX)(),(0,s.CE)("option",{key:e.id,value:e.id},(0,L.v_)(e.nome),9,cr)))),128))],544)),[[r.u1,l.selectedBrand]])}const pr="http://localhost:8000/api",hr=localStorage.getItem("userToken"),gr={async getAll(e){try{const t={Authorization:`Bearer ${hr}`};e||(e={});const a=await m.A.get(`${pr}/marca`,{params:e,headers:t});return a.data}catch(t){throw console.error("Erro ao obter marcas",t),new Error("Erro ao obter marcas da API.")}}};var mr=gr,br={props:["modelValue","initialGroup"],emits:["update:modelValue"],data(){return{selectedBrand:this.modelValue,marcas:[],loading:!1}},watch:{modelValue(e){this.selectedBrand=e},selectedBrand(e){this.$emit("update:modelValue",e)}},methods:{async getAll(){try{this.loading=!0;const e=await mr.getAll();this.marcas=e}catch(e){console.error("Erro ao obter marcas:",e)}finally{this.loading=!1}},emitBrand(){this.$emit("update:modelValue",this.selectedBrand),this.$emit("brand-selected",this.selectedBrand)}},mounted(){this.initialGroup||this.getAll()}};const kr=(0,v.A)(br,[["render",ur]]);var yr=kr;function fr(e,t,a,r,o,l){const d=(0,s.g2)("Bar");return(0,s.uX)(),(0,s.Wv)(d,{id:"my-chart-id",options:o.chartOptions,data:o.chartData},null,8,["options","data"])}Wt.t1.register(Wt.hE,Wt.m_,Wt.s$,Wt.E8,Wt.PP,Wt.kc);var vr={name:"BarChart",components:{Bar:Jt.yP},data(){return{chartData:{labels:["January","February","March"],datasets:[{data:[40,20,12]}]},chartOptions:{responsive:!0}}}};const xr=(0,v.A)(vr,[["render",fr]]);var wr=xr,Lr={name:"DashboardProductComponent",components:{SelectGrupoComponent:nr,SelectBrandComponent:yr,ChartComponent:wr},data(){return{searchQuery:"",selectedGroup:"",selectedBrand:"",handlePages:"",selectedStatus:"",product:[],arrayPage:[],paginate:{},minSearchLength:3,currentPage:1,itemsPerPage:10}},computed:{},methods:{editar(e){this.$router.push(`/produto/detalhes/${e}`)},cadastrar(){this.$router.push("/produto/detalhes/nova")},formatCurrency(e){const t=parseInt(e,10);return t.toLocaleString("pt-BR",{style:"currency",currency:"BRL"})},async remover(e){try{await Ft.remover(e),console.log("Produto removida com sucesso!"),this.getAll()}catch(t){console.error("Erro ao remover produto:",t)}},async getAll(){try{const e=this.buildParams(),t=await Ft.getAll(e);this.$router.replace({path:"/home",query:e}),this.product=t.data,this.paginate=t.last_page,this.paginate>1&&(this.arrayPage=this.arrayPages(this.paginate))}catch(e){console.error("Erro ao obter produtos",e),this.product=[],this.paginate=[]}},shouldApplyFilter(){return this.searchQuery.length>=this.minSearchLength||this.selectedGroup||this.selectedBrand||this.selectedStatus},buildParams(){const e={};return this.selectedGroup&&(e.grupo_id=this.selectedGroup),this.selectedBrand&&(e.marca_id=this.selectedBrand),this.searchQuery.length>=this.minSearchLength&&(e.nome=this.searchQuery),this.selectedStatus&&(e.status=this.selectedStatus),this.handlePages&&(e.page=this.handlePages),e},updateSelectedGroup(e){this.selectedGroup=e,this.handleFilterChange()},updateSelectedBrand(e){this.selectedBrand=e,this.handleFilterChange()},handleFilterChange(){this.shouldApplyFilter()?this.currentPage=1:this.getAll()},arrayPages(e){let t=[];for(let a=1;a<=e;a++)t.push(a);return t},handlePage(e){e&&(this.handlePages=e,this.getAll())}},watch:{searchQuery(){this.shouldApplyFilter()&&this.getAll()},selectedGroup(){this.shouldApplyFilter()&&this.getAll()},selectedBrand(){this.shouldApplyFilter()&&this.getAll()},selectedStatus(){this.shouldApplyFilter()&&this.getAll()},currentPage(){this.getAll()}},mounted(){this.getAll()}};const Cr=(0,v.A)(Lr,[["render",Ya]]);var Pr=Cr;const Ar={class:"flex justify-center items-center text-gray-700 dark:text-white"},_r={class:"w-full p-4 sm:p-6 md:p-8 dark:bg-gray-800"},Er={class:"w-auto"},Dr={class:"flex flex-wrap items-center justify-start mb-4"},Fr={class:"px-3 mb-6 md:mb-0"},Sr=(0,s.Lk)("label",{class:"block uppercase tracking-wide text-xs font-bold mb-2",for:"data"}," Data Inicio ",-1),Vr={class:"px-3 mb-6 md:mb-0"},$r=(0,s.Lk)("label",{class:"block uppercase tracking-wide text-xs font-bold mb-2",for:"data_fim"}," Data Fim ",-1),Br={class:"flex flex-wrap items-center justify-between mb-4 pl-4"},Xr={class:"mb-4"},Or=(0,s.Lk)("label",{class:"block uppercase tracking-wide text-xs font-bold mb-2"}," Cliente ",-1),Gr={class:"mb-4"},Mr=(0,s.Lk)("label",{class:"block uppercase tracking-wide text-xs font-bold mb-2"}," Produtos ",-1),Ir={class:"mb-4"},Kr=(0,s.Lk)("label",{class:"block uppercase tracking-wide text-xs font-bold mb-2"}," Ordenar Data ",-1),Tr=(0,s.Lk)("option",{value:"",selected:""},"Ordenar Data",-1),jr=(0,s.Lk)("option",{value:"1"},"Crescente",-1),Ur=(0,s.Lk)("option",{value:"0"},"Decrescente",-1),qr=[Tr,jr,Ur],Qr={class:"mb-4"},zr=(0,s.Lk)("label",{class:"block uppercase tracking-wide text-xs font-bold mb-2"}," Ordenar Preço ",-1),Rr=(0,s.Lk)("option",{value:"",selected:""},"Ordenar Preço",-1),Jr=(0,s.Lk)("option",{value:"1"},"Crescente",-1),Wr=(0,s.Lk)("option",{value:"0"},"Decrescente",-1),Nr=[Rr,Jr,Wr],Hr={class:"flex gap-2"},Yr={class:"relative w-1/2 h-20 flex border-x-2 border-b-2 border-gray-500 rounded-md items-center"},Zr=(0,s.Lk)("span",{class:"absolute -left-0 -top-4 font-bold text-sm"},"Vendas mês",-1),eo=(0,s.Lk)("span",{class:"absolute -right-0 -top-4 font-bold text-sm"},"Valores mês",-1),to={class:"w-full h-full bg-green-400 dark:bg-green-800 dark:text-white justify-center items-center flex"},ao={class:"text-2xl font-bold pl-2"},ro={class:"w-full h-full bg-green-500 dark:bg-green-900 dark:text-white justify-center items-center flex"},oo={class:"text-2xl font-bold pr-2"},so={class:"relative w-1/2 h-20 flex border-x-2 border-b-2 border-gray-500 rounded-md items-center"},lo=(0,s.Lk)("span",{class:"absolute -left-0 -top-4 font-bold text-sm"},"Ticket médio mês",-1),no={class:"w-full h-full bg-yellow-400 dark:bg-yellow-600 dark:text-white justify-center items-center flex"},io={class:"text-2xl font-bold pl-2"},co={class:"flex-row md:flex w-full"},uo={class:"w-full"},po={class:"md:w-1/2 w-full"},ho={class:""},go={class:"flex w-full"},mo={class:"flex w-full"},bo={class:"flex-row md:flex w-full gap-4"},ko={class:"w-full md:w-1/3"},yo={class:"w-full md:w-2/3"};function fo(e,t,a,o,l,d){const n=(0,s.g2)("SelectPessoaComponent"),i=(0,s.g2)("SelectProdutoComponent"),c=(0,s.g2)("ClientesChartComponent"),u=(0,s.g2)("VendasChartComponent"),p=(0,s.g2)("ProdutosChartComponent"),h=(0,s.g2)("CategoryChartComponent"),g=(0,s.g2)("MediaTableComponent"),m=(0,s.g2)("VendasDiaChartComponent");return(0,s.uX)(),(0,s.CE)("div",Ar,[(0,s.Lk)("div",_r,[(0,s.Lk)("div",Er,[(0,s.Lk)("div",Dr,[(0,s.Lk)("div",Fr,[Sr,(0,s.bo)((0,s.Lk)("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>l.selectedData=e),onInput:t[1]||(t[1]=(...e)=>d.handleFilterChange&&d.handleFilterChange(...e)),class:"py-2 px-3 rounded border mr-4 border-gray-300 shadow-lg bg-gray-200 shadow-indigo-500/40 dark:bg-gray-600 dark:shadow-gray-600/40",type:"date",id:"data"},null,544),[[r.Jo,l.selectedData]])]),(0,s.Lk)("div",Vr,[$r,(0,s.bo)((0,s.Lk)("input",{"onUpdate:modelValue":t[2]||(t[2]=e=>l.selectedDateEnd=e),onInput:t[3]||(t[3]=(...e)=>d.handleFilterChange&&d.handleFilterChange(...e)),class:"py-2 px-3 rounded border mr-4 border-gray-300 shadow-lg bg-gray-200 shadow-indigo-500/40 dark:bg-gray-600 dark:shadow-gray-600/40",id:"data_fim",type:"date"},null,544),[[r.Jo,l.selectedDateEnd]])])]),(0,s.Lk)("div",Br,[(0,s.Lk)("div",Xr,[Or,(0,s.bF)(n,{onPeopleSelected:d.updateSelectedPeople},null,8,["onPeopleSelected"])]),(0,s.Lk)("div",Gr,[Mr,(0,s.bF)(i,{onProductSelected:d.updateSelectedProduct},null,8,["onProductSelected"])]),(0,s.Lk)("div",Ir,[Kr,(0,s.bo)((0,s.Lk)("select",{"onUpdate:modelValue":t[4]||(t[4]=e=>l.selectedOrdData=e),class:"py-2 px-3 rounded border-2 border-gray-300 mr-4 shadow-lg bg-gray-200 shadow-indigo-500/40 dark:bg-gray-600 dark:shadow-gray-600/40",onChange:t[5]||(t[5]=(...e)=>d.handleFilterChange&&d.handleFilterChange(...e))},qr,544),[[r.u1,l.selectedOrdData]])]),(0,s.Lk)("div",Qr,[zr,(0,s.bo)((0,s.Lk)("select",{"onUpdate:modelValue":t[6]||(t[6]=e=>l.selectedOrdValor=e),class:"py-2 px-3 rounded border-2 border-gray-300 mr-4 shadow-lg bg-gray-200 shadow-indigo-500/40 dark:bg-gray-600 dark:shadow-gray-600/40",onChange:t[7]||(t[7]=(...e)=>d.handleFilterChange&&d.handleFilterChange(...e))},Nr,544),[[r.u1,l.selectedOrdValor]])])])]),(0,s.Lk)("div",Hr,[(0,s.Lk)("div",Yr,[Zr,eo,(0,s.Lk)("div",to,[(0,s.Lk)("h3",ao,(0,L.v_)(l.currentMonthSale?l.currentMonthSale.total_quantidade:"-"),1)]),(0,s.Lk)("div",ro,[(0,s.Lk)("h3",oo,(0,L.v_)(l.currentMonthSale?d.formatCurrency(l.currentMonthSale.total_preco):"-"),1)])]),(0,s.Lk)("div",so,[lo,(0,s.Lk)("div",no,[(0,s.Lk)("h3",io,(0,L.v_)(l.currentMonthSale?d.formatCurrency(l.currentMonthSale.ticket):"-"),1)])])]),(0,s.Lk)("div",null,[(0,s.Lk)("div",co,[(0,s.Lk)("div",uo,[(0,s.bF)(c,{filter:l.filter},null,8,["filter"])]),(0,s.Lk)("div",po,[(0,s.Lk)("div",ho,[(0,s.bF)(u,{onCurrentMonth:d.updatecurrentMonthSale,filter:l.filter},null,8,["onCurrentMonth","filter"])])])])]),(0,s.Lk)("div",go,[(0,s.bF)(p,{filter:l.filter},null,8,["filter"])]),(0,s.Lk)("div",mo,[(0,s.bF)(h,{filter:l.filter},null,8,["filter"])]),(0,s.Lk)("div",bo,[(0,s.Lk)("div",ko,[(0,s.bF)(g)]),(0,s.Lk)("div",yo,[(0,s.bF)(m,{filter:l.filter},null,8,["filter"])])])])])}const vo=(0,s.Lk)("option",{value:"",selected:""},"Todos os pessoas",-1),xo=["value"];function wo(e,t,a,o,l,d){return(0,s.bo)(((0,s.uX)(),(0,s.CE)("select",{"onUpdate:modelValue":t[0]||(t[0]=e=>l.selectedPeople=e),onChange:t[1]||(t[1]=(...e)=>d.emitPeople&&d.emitPeople(...e)),class:"py-2 px-3 w-full rounded mr-4 shadow-lg bg-gray-200 shadow-indigo-500/40 dark:bg-gray-600 dark:shadow-gray-600/40 border-2 border-gray-300"},[vo,((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(l.peoples,(e=>((0,s.uX)(),(0,s.CE)("option",{key:e.id,value:e.id},(0,L.v_)(e.nome),9,xo)))),128))],544)),[[r.u1,l.selectedPeople]])}var Lo={props:["modelValue","initialPeople"],emits:["update:modelValue"],data(){return{selectedPeople:this.modelValue,peoples:[],loading:!1}},watch:{modelValue(e){this.selectedPeople=e},selectedPeople(e){this.$emit("update:modelValue",e)}},methods:{async getAll(){try{const e={all:"0",grupo_id:"1"};this.loading=!0;const t=await vt.getAll(e);this.peoples=t}catch(e){console.error("Erro ao obter pessoas:",e)}finally{this.loading=!1}},emitPeople(){this.$emit("update:modelValue",this.selectedPeople),this.$emit("people-selected",this.selectedPeople)}},mounted(){this.initialPeople||this.getAll()}};const Co=(0,v.A)(Lo,[["render",wo]]);var Po=Co;const Ao=(0,s.Lk)("option",{value:"",selected:""},"Todos as produtos",-1),_o=["value"];function Eo(e,t,a,o,l,d){return(0,s.bo)(((0,s.uX)(),(0,s.CE)("select",{"onUpdate:modelValue":t[0]||(t[0]=e=>l.selectedProduct=e),onChange:t[1]||(t[1]=(...e)=>d.emitProduct&&d.emitProduct(...e)),class:"py-2 px-3 w-full rounded mr-4 shadow-lg bg-gray-200 shadow-indigo-500/40 dark:bg-gray-600 dark:shadow-gray-600/40 border-2 border-gray-300"},[Ao,((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(l.produtos,(e=>((0,s.uX)(),(0,s.CE)("option",{key:e.id,value:e.id},(0,L.v_)(e.nome),9,_o)))),128))],544)),[[r.u1,l.selectedProduct]])}var Do={props:["modelValue","initialGroup"],emits:["update:modelValue"],data(){return{selectedProduct:this.modelValue,produtos:[],loading:!1}},watch:{modelValue(e){this.selectedProduct=e},selectedProduct(e){this.$emit("update:modelValue",e)}},methods:{async getAll(){try{const e={all:"0"};this.loading=!0;const t=await Ft.getAll(e);this.produtos=t}catch(e){console.error("Erro ao obter produtos:",e)}finally{this.loading=!1}},emitProduct(){this.$emit("update:modelValue",this.selectedProduct),this.$emit("product-selected",this.selectedProduct)}},mounted(){this.initialProduct||this.getAll()}};const Fo=(0,v.A)(Do,[["render",Eo]]);var So=Fo;const Vo={class:"pt-6"},$o={key:0,class:"flex-col sm:flex md:flex-col"},Bo={class:"p-4"},Xo=(0,s.Lk)("h5",{class:"text-xl font-bold pb-2"},"Vendas por Mês",-1),Oo={class:"p-4"},Go=(0,s.Lk)("h5",{class:"text-xl font-bold pb-2"},"Valor total vendido por mês",-1),Mo={key:1},Io=(0,s.Lk)("p",null,"Carregando dados...",-1),Ko=[Io];function To(e,t,a,r,o,l){const d=(0,s.g2)("Bar");return(0,s.uX)(),(0,s.CE)("div",Vo,[o.dataLoaded?((0,s.uX)(),(0,s.CE)("div",$o,[(0,s.Lk)("div",Bo,[Xo,((0,s.uX)(),(0,s.Wv)(d,{id:"QtdMes",key:o.componentKey,options:o.chartOptions,data:o.ChartQtd},null,8,["options","data"]))]),(0,s.Lk)("div",Oo,[Go,((0,s.uX)(),(0,s.Wv)(d,{id:"ValorMes",options:o.chartOptions,data:o.ChartValor,key:o.componentKey},null,8,["options","data"]))])])):((0,s.uX)(),(0,s.CE)("div",Mo,Ko))])}const jo="http://localhost:8000/api",Uo=localStorage.getItem("userToken"),qo={async getAll(e){try{const t={Authorization:`Bearer ${Uo}`},a=await m.A.get(`${jo}/venda`,{params:e,headers:t});return a.data}catch(t){throw console.error("Erro ao obter venda:",t),new Error("Erro ao obter venda da API.")}},async getById(e){try{const t=await m.A.get(`${jo}/venda/${e}`,{headers:{Authorization:`Bearer ${Uo}`}});return t.data}catch(t){throw console.error("Erro ao obter venda:",t),new Error("Erro ao obter venda da API.")}},async cadastrar(e){try{const t=await m.A.post(`${jo}/venda`,e,{headers:{Authorization:`Bearer ${Uo}`}});if(201===t.status)return{success:!0,message:"Venda cadastrada com sucesso"}}catch(t){return console.error("Erro ao cadastrar a venda:",t),{success:!1,message:"Erro ao cadastrar a venda"}}},async atualizar(e,t){try{const a=await m.A.put(`${jo}/venda/${e}`,t,{headers:{Authorization:`Bearer ${Uo}`}});if(201===a.status)return{success:!0,message:"Cadastro de venda atualizada com sucesso"}}catch(a){throw console.error("Erro ao atualizar venda:",a),new Error("Erro ao atualizar venda da API.")}},async remover(e){try{const t=await m.A.delete(`${jo}/venda/${e}`,{headers:{Authorization:`Bearer ${Uo}`}});if(201===t.status)return{success:!0,message:"Cadastro de venda removido com sucesso"}}catch(t){throw console.error("Erro ao remover venda:",t),new Error("Erro ao remover venda da API.")}}};var Qo=qo;Wt.t1.register(Wt.hE,Wt.m_,Wt.s$,Wt.E8,Wt.PP,Wt.kc);const zo=["Janeiro","Fevereiro","Março","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"];var Ro={props:["filter"],name:"BarChart",components:{Bar:Jt.yP},data(){return{componentKey:0,loading:!1,dataLoaded:!1,ChartValor:{labels:[],datasets:[{label:"Valor total por mês",backgroundColor:"#228B22",data:[]}]},ChartQtd:{labels:[],datasets:[{label:"Total de vendas por mês",backgroundColor:"#DAA520",data:[]}]},chartOptions:{responsive:!0}}},watch:{filter:{immediate:!0,handler(e){this.getAll()}}},methods:{getNomeMes(e){return zo[e-1]},async getAll(){try{let e={all:"0",agrupar_mes:"1"};if(null!==this.filter&&Object.keys(this.filter).length>0)switch(!0){case void 0!==this.filter.ord_data:this.filter.ord_mes=this.filter.ord_data,delete this.filter.ord_data;case void 0!==this.filter.ord_valor:this.filter.ord_mes_valor=this.filter.ord_valor,delete this.filter.ord_valor;default:e={all:"0",agrupar_mes:"1",...this.filter};break}this.loading=!0;const t=await Qo.getAll(e),a=(new Date).getMonth();this.ChartValor.labels=[],this.ChartValor.datasets[0].data=[],this.ChartQtd.labels=[],this.ChartQtd.datasets[0].data=[];for(let r of t){if(r.mes==a){this.currentMonth=r;const e=r.total_preco/r.total_quantidade;r.ticket=e,this.emitVenda(r)}this.ChartValor.labels.push(this.getNomeMes(r.mes)),this.ChartQtd.labels.push(this.getNomeMes(r.mes)),this.ChartValor.datasets[0].data.push(parseFloat(r.total_preco.replace(",","."))),this.ChartQtd.datasets[0].data.push(r.total_quantidade),this.componentKey++}this.dataLoaded=!0}catch(e){this.emitVenda({total_preco:0,total_quantidade:"Não há registros"}),this.ChartValor.labels=[],this.ChartValor.datasets[0].data=[""],this.ChartQtd.labels=[],this.ChartQtd.datasets[0].data=[],this.componentKey++,console.error("Erro ao obter vendas:",e)}finally{this.loading=!1}},emitVenda(e){this.$emit("currentMonth",e)}}};const Jo=(0,v.A)(Ro,[["render",To]]);var Wo=Jo;const No={class:"pt-6"},Ho=(0,s.Lk)("h5",{class:"text-xl font-bold pb-2"},"Vendas por Cliente",-1),Yo={key:1},Zo=(0,s.Lk)("p",null,"Carregando dados...",-1),es=[Zo];function ts(e,t,a,r,o,l){const d=(0,s.g2)("Bar");return(0,s.uX)(),(0,s.CE)("div",No,[Ho,o.dataLoaded?((0,s.uX)(),(0,s.Wv)(d,{id:"my-chart-id",key:o.componentKey,options:o.chartOptions,data:o.chartData},null,8,["options","data"])):((0,s.uX)(),(0,s.CE)("div",Yo,es))])}Wt.t1.register(Wt.hE,Wt.m_,Wt.s$,Wt.E8,Wt.PP,Wt.kc);var as={props:["filter"],emits:["update:modelValue"],name:"BarChart",components:{Bar:Jt.yP},data(){return{componentKey:0,loading:!1,dataLoaded:!1,chartData:{labels:[],datasets:[{label:"Total de vendas por cliente",backgroundColor:[],data:[]}]},chartOptions:{responsive:!0,indexAxis:"y"}}},watch:{filter:{immediate:!0,handler(e){this.getAll()}}},methods:{getRandomColor(){const e=Math.floor(16777215*Math.random()).toString(16);return"#"+e.padStart(6,"0")},async getAll(){try{let e={all:"0",agrupar_cliente:"1"};if(null!==this.filter&&Object.keys(this.filter).length>0)switch(!0){case void 0!==this.filter.ord_data:delete this.filter.ord_data;case void 0!==this.filter.ord_valor:this.filter.ord_mes_valor=this.filter.ord_valor,delete this.filter.ord_valor;default:e={all:"0",agrupar_cliente:"1",...this.filter};break}this.loading=!0;const t=await Qo.getAll(e);this.chartData.labels=[],this.chartData.datasets[0].data=[];for(let a of t)this.chartData.labels.push(a.pessoa.nome),this.chartData.datasets[0].data.push(parseFloat(a.total_preco.replace(",","."))),this.chartData.datasets[0].backgroundColor.push(this.getRandomColor()),this.componentKey++;this.dataLoaded=!0}catch(e){this.chartData.labels=[],this.chartData.datasets[0].data=[""],this.componentKey++,console.error("Erro ao obter vendas:",e)}finally{this.loading=!1}}}};const rs=(0,v.A)(as,[["render",ts]]);var os=rs;const ss={class:"pt-6 w-full"},ls={key:0,class:"grid grid-rows-3 grid-cols-6 gap-4"},ds={class:"row-span-3 col-span-6 md:col-span-4"},ns=(0,s.Lk)("h5",{class:"text-xl font-bold pb-2"},"Produtos vendidos",-1),is={class:"row-span-3 col-span-6 md:col-span-2 pt-4"},cs=(0,s.Lk)("h5",{class:"text-xl font-bold pb-5"},"Produtos sem venda",-1),us={class:"overflow-x-auto"},ps={class:"relative shadow-md sm:rounded-lg"},hs={class:"w-full h-full text-sm text-left rtl:text-right text-gray-500 dark:text-white"},gs=(0,s.Lk)("thead",{class:"text-xs uppercase bg-gray-50 dark:bg-gray-700 dark:text-white"},[(0,s.Lk)("tr",null,[(0,s.Lk)("th",{scope:"col",class:"px-6 py-3"},"Produto"),(0,s.Lk)("th",{scope:"col",class:"px-6 py-3"},"Qtd"),(0,s.Lk)("th",{scope:"col",class:"px-6 py-3"},"Preço")])],-1),ms={key:0},bs=(0,s.Lk)("td",{colspan:"5",class:"text-center"}," Nenhum resultado encontrado. ",-1),ks=[bs],ys={scope:"row",class:"px-6 py-4 font-medium text-gray-900 whitespace-nowrap dark:text-white"},fs={class:"px-6 py-4"},vs={class:"px-6 py-4"},xs={key:1},ws=(0,s.Lk)("p",null,"Carregando dados...",-1),Ls=[ws];function Cs(e,t,a,r,o,l){const d=(0,s.g2)("Bar");return(0,s.uX)(),(0,s.CE)("div",ss,[o.dataLoaded?((0,s.uX)(),(0,s.CE)("div",ls,[(0,s.Lk)("div",ds,[ns,((0,s.uX)(),(0,s.Wv)(d,{id:"my-chart-id",key:o.componentKey,options:o.chartOptions,data:o.chartData},null,8,["options","data"]))]),(0,s.Lk)("div",is,[cs,(0,s.Lk)("div",us,[(0,s.Lk)("div",ps,[(0,s.Lk)("table",hs,[gs,(0,s.Lk)("tbody",null,[o.produtos.length?((0,s.uX)(!0),(0,s.CE)(s.FK,{key:1},(0,s.pI)(o.produtos,(e=>((0,s.uX)(),(0,s.CE)("tr",{key:e.id,class:"odd:bg-white odd:dark:bg-gray-900 even:bg-gray-50 even:dark:bg-gray-800 border-b dark:border-gray-700"},[(0,s.Lk)("th",ys,(0,L.v_)(e.nome?e.nome:"-"),1),(0,s.Lk)("td",fs,(0,L.v_)(e.quantidade?e.quantidade:e.total_quantidade),1),(0,s.Lk)("td",vs,(0,L.v_)(l.formatCurrency(e.preco?e.preco:e.total_preco)),1)])))),128)):((0,s.uX)(),(0,s.CE)("tr",ms,ks))])])])])])])):((0,s.uX)(),(0,s.CE)("div",xs,Ls))])}Wt.t1.register(Wt.hE,Wt.m_,Wt.s$,Wt.E8,Wt.PP,Wt.kc);var Ps={props:["filter"],emits:["update:modelValue"],name:"BarChart",components:{Bar:Jt.yP},data(){return{produtos:[],componentKey:0,loading:!1,dataLoaded:!1,chartData:{labels:[],datasets:[{label:"Total de vendas por produto",backgroundColor:[],data:[]}]},chartOptions:{responsive:!0,indexAxis:"y"}}},watch:{filter:{immediate:!0,handler(e){this.getAll()}}},methods:{formatCurrency(e){const t=parseInt(e,10);return t.toLocaleString("pt-BR",{style:"currency",currency:"BRL"})},getRandomColor(){const e=Math.floor(16777215*Math.random()).toString(16);return"#"+e.padStart(6,"0")},async getAll(){try{let e={all:"0",agrupar_produto:"1"};if(null!==this.filter&&Object.keys(this.filter).length>0)switch(!0){case void 0!==this.filter.ord_data:delete this.filter.ord_data;case void 0!==this.filter.ord_valor:this.filter.ord_mes_valor=this.filter.ord_valor,delete this.filter.ord_valor;default:e={all:"0",agrupar_produto:"1",...this.filter};break}this.loading=!0;const t=await Qo.getAll(e);this.chartData.labels=[],this.chartData.datasets[0].data=[];const a=new Set;for(let o of t)this.chartData.labels.push(o.produto.nome),this.chartData.datasets[0].data.push(parseFloat(o.total_preco.replace(",","."))),this.chartData.datasets[0].backgroundColor.push(this.getRandomColor()),this.componentKey++,a.add(o.produto_id);const r=await Ft.getAll({all:"0"});this.produtos=r.filter((e=>!a.has(e.id))),this.dataLoaded=!0}catch(e){this.chartData.labels=[],this.chartData.datasets[0].data=[""],this.componentKey++,console.error("Erro ao obter vendas:",e)}finally{this.loading=!1}}}};const As=(0,v.A)(Ps,[["render",Cs]]);var _s=As;const Es={class:"pt-6 w-full"},Ds={class:"flex-col md:flex-row flex"},Fs={key:0,class:"p-4 w-full md:w-1/2"},Ss=(0,s.Lk)("h5",{class:"text-xl font-bold pb-2"},"Vendas por Marca",-1),Vs={key:1},$s=(0,s.Lk)("p",null,"Carregando dados...",-1),Bs=[$s],Xs={key:2,class:"p-4 w-full md:w-1/2"},Os=(0,s.Lk)("h5",{class:"text-xl font-bold pb-2"},"Vendas por Grupo",-1);function Gs(e,t,a,r,o,l){const d=(0,s.g2)("Bar");return(0,s.uX)(),(0,s.CE)("div",Es,[(0,s.Lk)("div",Ds,[o.dataLoaded?((0,s.uX)(),(0,s.CE)("div",Fs,[Ss,((0,s.uX)(),(0,s.Wv)(d,{id:"vendaMarca",key:o.componentKey,options:o.chartOptions,data:o.ChartMarca},null,8,["options","data"]))])):((0,s.uX)(),(0,s.CE)("div",Vs,Bs)),o.dataLoaded?((0,s.uX)(),(0,s.CE)("div",Xs,[Os,((0,s.uX)(),(0,s.Wv)(d,{key:o.componentKey,id:"vendaGrupo",options:o.chartOptions,data:o.ChartGrupo},null,8,["options","data"]))])):(0,s.Q3)("",!0)])])}Wt.t1.register(Wt.hE,Wt.m_,Wt.s$,Wt.E8,Wt.PP,Wt.kc);var Ms={props:["filter"],name:"BarChart",components:{Bar:Jt.yP},data(){return{marcas:[],grupos:[],componentKey:0,loading:!1,dataLoaded:!1,ChartMarca:{labels:[],datasets:[{label:"Total de vendas por marca",backgroundColor:"#228B22",data:[]}]},ChartGrupo:{labels:[],datasets:[{label:"Total de vendas por grupo",backgroundColor:"#DAA520",data:[]}]},chartOptions:{responsive:!0}}},watch:{filter:{immediate:!0,handler(e){this.getAll()}}},methods:{async getAll(){try{let e={all:"0",agrupar_produto:"1"};if(null!==this.filter&&Object.keys(this.filter).length>0)switch(!0){case void 0!==this.filter.ord_data:delete this.filter.ord_data;break;case void 0!==this.filter.ord_valor:this.filter.ord_mes_valor=this.filter.ord_valor,delete this.filter.ord_valor;break;default:e={all:"0",agrupar_produto:"1",...this.filter};break}this.loading=!0;const t=await Qo.getAll(e),a={},r={};for(const o of t){const e=o.produto.marca.nome,t=parseFloat(o.total_preco),s=o.produto.grupo_produto.nome,l=parseFloat(o.total_preco);a[e]=(a[e]||0)+t,r[s]=(r[s]||0)+l}this.ChartMarca.labels=Object.keys(a),this.ChartMarca.datasets[0].data=Object.values(a),this.ChartGrupo.labels=Object.keys(r),this.ChartGrupo.datasets[0].data=Object.values(r),this.componentKey++,this.dataLoaded=!0}catch(e){this.ChartGrupo.labels=[],this.ChartGrupo.datasets[0].data=[""],this.ChartMarca.labels=[],this.ChartMarca.datasets[0].data=[],this.componentKey++,console.error("Erro ao obter vendas:",e)}finally{this.loading=!1}}}};const Is=(0,v.A)(Ms,[["render",Gs]]);var Ks=Is;const Ts={class:"pt-6"},js={key:0,class:"row-span-3 col-span-6 md:col-span-2 pt-4"},Us=(0,s.Lk)("h5",{class:"text-xl font-bold pb-5"},"Média de tempo de venda",-1),qs={class:"overflow-x-auto"},Qs={class:"relative shadow-md sm:rounded-lg"},zs={class:"w-full h-full text-sm text-left rtl:text-right text-gray-500 dark:text-white"},Rs=(0,s.Lk)("thead",{class:"text-xs uppercase bg-gray-50 dark:bg-gray-700 dark:text-white"},[(0,s.Lk)("tr",null,[(0,s.Lk)("th",{scope:"col",class:"px-6 py-3"},"Produto"),(0,s.Lk)("th",{scope:"col",class:"px-6 py-3"},"Média em dias")])],-1),Js={key:0},Ws=(0,s.Lk)("td",{colspan:"5",class:"text-center"}," Nenhum resultado encontrado. ",-1),Ns=[Ws],Hs={scope:"row",class:"px-3 py-4 font-medium text-gray-900 whitespace-nowrap dark:text-white"},Ys={class:"px-3 py-4"},Zs={key:1},el=(0,s.Lk)("p",null,"Carregando dados...",-1),tl=[el];function al(e,t,a,r,o,l){return(0,s.uX)(),(0,s.CE)("div",Ts,[o.dataLoaded?((0,s.uX)(),(0,s.CE)("div",js,[Us,(0,s.Lk)("div",qs,[(0,s.Lk)("div",Qs,[(0,s.Lk)("table",zs,[Rs,(0,s.Lk)("tbody",null,[o.vendaMedia.length?((0,s.uX)(!0),(0,s.CE)(s.FK,{key:1},(0,s.pI)(o.vendaMedia,(e=>((0,s.uX)(),(0,s.CE)("tr",{key:e.produto_nome,class:"odd:bg-white odd:dark:bg-gray-900 even:bg-gray-50 even:dark:bg-gray-800 border-b dark:border-gray-700"},[(0,s.Lk)("th",Hs,(0,L.v_)(e.produto_nome?e.produto_nome:"-"),1),(0,s.Lk)("td",Ys,(0,L.v_)(e.media_tempo_venda?e.media_tempo_venda:""),1)])))),128)):((0,s.uX)(),(0,s.CE)("tr",Js,Ns))])])])])])):((0,s.uX)(),(0,s.CE)("div",Zs,tl))])}Wt.t1.register(Wt.hE,Wt.m_,Wt.s$,Wt.E8,Wt.PP,Wt.kc);var rl={name:"MediaTableComponent",components:{Bar:Jt.yP},data(){return{vendaMedia:[],loading:!1,dataLoaded:!1}},methods:{async getAll(){try{let e={all:"0",media_tempo:"1"};this.loading=!0;const t=await Qo.getAll(e);t.forEach((e=>{const t=parseFloat(e.media_tempo_venda);e.media_tempo_venda=t.toFixed(2)})),this.vendaMedia=t,this.dataLoaded=!0}catch(e){console.error("Erro ao obter vendas:",e)}finally{this.loading=!1}}},mounted(){this.getAll()}};const ol=(0,v.A)(rl,[["render",al]]);var sl=ol;const ll={class:"pt-6"},dl=(0,s.Lk)("h5",{class:"text-xl font-bold pb-2"},"Vendas por Cliente",-1),nl={key:1},il=(0,s.Lk)("p",null,"Carregando dados...",-1),cl=[il];function ul(e,t,a,r,o,l){const d=(0,s.g2)("Bar");return(0,s.uX)(),(0,s.CE)("div",ll,[dl,o.dataLoaded?((0,s.uX)(),(0,s.Wv)(d,{id:"my-chart-id",key:o.componentKey,options:o.chartOptions,data:o.chartData,class:"w-full"},null,8,["options","data"])):((0,s.uX)(),(0,s.CE)("div",nl,cl))])}Wt.t1.register(Wt.hE,Wt.m_,Wt.s$,Wt.E8,Wt.PP,Wt.kc);var pl={props:["filter"],emits:["update:modelValue"],name:"BarChart",components:{Bar:Jt.yP},data(){return{componentKey:0,loading:!1,dataLoaded:!1,chartData:{labels:[],datasets:[{label:"Total de vendas por cliente",backgroundColor:[],data:[]}]},chartOptions:{responsive:!0}}},watch:{filter:{immediate:!0,handler(e){this.getAll()}}},methods:{getRandomColor(){const e=Math.floor(16777215*Math.random()).toString(16);return"#"+e.padStart(6,"0")},async getAll(){try{let e={all:"0",agrupar_dia:"1"};if(null!==this.filter&&Object.keys(this.filter).length>0)switch(!0){case void 0!==this.filter.ord_data:delete this.filter.ord_data;case void 0!==this.filter.ord_valor:this.filter.ord_mes_valor=this.filter.ord_valor,delete this.filter.ord_valor;default:e={all:"0",agrupar_dia:"1",...this.filter};break}this.loading=!0;const t=await Qo.getAll(e);this.chartData.labels=[],this.chartData.datasets[0].data=[];for(let a of t)data=a.dia+"/"+a.mes,this.chartData.labels.push(data),this.chartData.datasets[0].data.push(parseFloat(a.total_preco.replace(",","."))),this.chartData.datasets[0].backgroundColor.push(this.getRandomColor()),this.componentKey++;this.dataLoaded=!0}catch(e){this.chartData.labels=[],this.chartData.datasets[0].data=[""],this.componentKey++,console.error("Erro ao obter vendas:",e)}finally{this.loading=!1}}}};const hl=(0,v.A)(pl,[["render",ul]]);var gl=hl,ml={name:"DashboardSaleComponent",components:{SelectPessoaComponent:Po,SelectProdutoComponent:So,VendasChartComponent:Wo,ClientesChartComponent:os,ProdutosChartComponent:_s,CategoryChartComponent:Ks,MediaTableComponent:sl,VendasDiaChartComponent:gl},data(){return{selectedPeople:"",filter:{},selectedProduct:"",selectedData:"",selectedDateEnd:"",selectedOrdData:"",selectedOrdValor:"",handlePages:"",currentMonthSale:[],sale:[],arrayPage:[],paginate:{},minSearchLength:3,currentPage:1,itemsPerPage:10}},computed:{},methods:{formatDate(e){const t=new Date(e);return t.toLocaleDateString("pt-BR")},formatCurrency(e){const t=parseInt(e,10);return t.toLocaleString("pt-BR",{style:"currency",currency:"BRL"})},async getAll(){try{this.buildParams()}catch(e){console.error("Erro ao obter vendas",e),this.sale=[],this.paginate=[]}},shouldApplyFilter(){return this.selectedPeople||this.selectedProduct||this.selectedData||this.selectedDateEnd||this.selectedOrdData||this.selectedOrdValor},buildParams(){const e={};return this.selectedPeople&&(e.pessoa_id=this.selectedPeople),this.selectedProduct&&(e.produto_id=this.selectedProduct),this.selectedData&&(e.data=this.selectedData),this.selectedDateEnd&&(e.data_fim=this.selectedDateEnd),this.selectedOrdData&&(e.ord_data=this.selectedOrdData),this.selectedOrdValor&&(e.ord_valor=this.selectedOrdValor),this.handlePages&&(e.page=this.handlePages),this.filter=e,e},updateSelectedPeople(e){this.selectedPeople=e},updatecurrentMonthSale(e){this.currentMonthSale=e},updateSelectedProduct(e){this.selectedProduct=e,this.handleFilterChange()},handleFilterChange(){this.shouldApplyFilter()?this.currentPage=1:this.getAll()}},watch:{selectedPeople(){this.shouldApplyFilter()&&this.getAll()},selectedProduct(){this.shouldApplyFilter()&&this.getAll()},selectedData(){this.shouldApplyFilter()&&this.getAll()},selectedDateEnd(){this.shouldApplyFilter()&&this.getAll()},selectedOrdData(){this.shouldApplyFilter()&&this.getAll()},selectedOrdValor(){this.shouldApplyFilter()&&this.getAll()},currentMonthSale(){}}};const bl=(0,v.A)(ml,[["render",fo]]);var kl=bl,yl={name:"HomeComponent",components:{DashboardComponent:Pe,DashboardBuyComponent:ua,DashboardSaleComponent:kl,DashboardProductComponent:Pr},data(){return{divAtual:"venda"}},methods:{mostrarDiv(e){this.divAtual=e}}};const fl=(0,v.A)(yl,[["render",S]]);var vl=fl;const xl=e=>((0,s.Qi)("data-v-030519dc"),e=e(),(0,s.jt)(),e),wl={class:"flex justify-center items-center text-gray-700 dark:text-white"},Ll={class:"w-full p-4 sm:p-6 md:p-8 dark:bg-gray-800"},Cl=xl((()=>(0,s.Lk)("h5",{class:"text-xl font-medium text-gray-900 dark:text-white text-center border-b-2 mb-4 pb-4 border-gray-900"}," Cadastro de Pessoa ",-1))),Pl={class:"flex flex-wrap -mx-3 mb-6"},Al={class:"w-full md:w-1/2 px-3 mb-6 md:mb-0"},_l=xl((()=>(0,s.Lk)("label",{for:"nome",class:"block uppercase tracking-wide text-xs font-bold mb-2"},"Nome",-1))),El={class:"w-full md:w-1/2 px-3 mb-6 md:mb-0"},Dl=xl((()=>(0,s.Lk)("label",{for:"idade",class:"block uppercase tracking-wide text-xs font-bold mb-2"},"Idade",-1))),Fl={class:"w-full mb-6 md:mb-0"},Sl=xl((()=>(0,s.Lk)("label",{for:"email",class:"block uppercase tracking-wide text-xs font-bold mb-2"},"Email",-1))),Vl={class:"flex flex-wrap -mx-3 mb-6"},$l={class:"w-full md:w-1/2 px-3"},Bl=xl((()=>(0,s.Lk)("label",{for:"senha",class:"block uppercase tracking-wide text-xs font-bold mb-2"},"Senha",-1))),Xl={class:"w-full md:w-1/2 px-3"},Ol=xl((()=>(0,s.Lk)("label",{for:"password_confirmation",class:"block uppercase tracking-wide text-xs font-bold mb-2"},"Confirmar senha",-1))),Gl={class:"flex flex-wrap -mx-3 mb-2"},Ml={class:"w-full md:w-1/2 px-3 mb-6 md:mb-0"},Il=xl((()=>(0,s.Lk)("label",{for:"grid-state",class:"block uppercase tracking-wide text-xs font-bold mb-2"},"Genero",-1))),Kl=xl((()=>(0,s.Lk)("option",null,null,-1))),Tl=xl((()=>(0,s.Lk)("option",null,"Masculino",-1))),jl=xl((()=>(0,s.Lk)("option",null,"Feminino",-1))),Ul=xl((()=>(0,s.Lk)("option",null,"Outro...",-1))),ql=[Kl,Tl,jl,Ul],Ql={class:"w-full md:w-1/2 px-3 mb-6 md:mb-0"},zl=xl((()=>(0,s.Lk)("label",{for:"grid-state",class:"block uppercase tracking-wide text-xs font-bold mb-2"},"Grupo",-1))),Rl=xl((()=>(0,s.Lk)("option",null,null,-1))),Jl=xl((()=>(0,s.Lk)("option",{value:"1"},"Fornecedor",-1))),Wl=xl((()=>(0,s.Lk)("option",{value:"2"},"Cliente",-1))),Nl=xl((()=>(0,s.Lk)("option",{value:"3"},"Funcionario",-1))),Hl=[Rl,Jl,Wl,Nl],Yl={class:"pt-4"},Zl={type:"submit",class:"w-full text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800"},ed={class:"mt-4"};function td(e,t,a,o,l,d){const n=(0,s.g2)("DashboardComponent");return(0,s.uX)(),(0,s.Wv)(n,null,{"slot-pages":(0,s.k6)((()=>[(0,s.Lk)("div",wl,[(0,s.Lk)("div",Ll,[Cl,(0,s.Lk)("form",{ref:"{formRef}",onSubmit:t[7]||(t[7]=(0,r.D$)(((...e)=>o.handleSave&&o.handleSave(...e)),["prevent"])),class:"p-2"},[(0,s.Lk)("div",Pl,[(0,s.Lk)("div",Al,[_l,(0,s.bo)((0,s.Lk)("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>o.formData.nome=e),class:(0,L.C4)([{"invalid-input":e.triedToSubmit&&!e.nomeFilled},"appearance-none block w-full bg-gray-200 dark:bg-gray-500 border border-gray-200 rounded py-3 px-4 mb-3 leading-tight focus:outline-none focus:bg-white focus:border-gray-500"]),id:"nome",type:"text",placeholder:"Seu nome Completo"},null,2),[[r.Jo,o.formData.nome]])]),(0,s.Lk)("div",El,[Dl,(0,s.bo)((0,s.Lk)("input",{"onUpdate:modelValue":t[1]||(t[1]=e=>o.formData.idade=e),class:(0,L.C4)([{"invalid-input":e.triedToSubmit&&!e.idadeFilled},"appearance-none block w-full bg-gray-200 dark:bg-gray-500 border border-gray-200 rounded py-3 px-4 mb-3 leading-tight focus:outline-none focus:bg-white focus:border-gray-500"]),id:"idade",type:"number",placeholder:"Sua idade"},null,2),[[r.Jo,o.formData.idade]])])]),(0,s.Lk)("div",Fl,[Sl,(0,s.bo)((0,s.Lk)("input",{"onUpdate:modelValue":t[2]||(t[2]=e=>o.formData.email=e),class:(0,L.C4)([{"invalid-input":e.triedToSubmit&&!e.emailFilled},"appearance-none block w-full bg-gray-200 dark:bg-gray-500 border border-gray-200 rounded py-3 px-4 mb-3 leading-tight focus:outline-none focus:bg-white focus:border-gray-500"]),type:"email",name:"email",id:"email",placeholder:"Email"},null,2),[[r.Jo,o.formData.email]])]),(0,s.Lk)("div",Vl,[(0,s.Lk)("div",$l,[Bl,(0,s.bo)((0,s.Lk)("input",{"onUpdate:modelValue":t[3]||(t[3]=e=>o.formData.password=e),class:(0,L.C4)([{"invalid-input":e.triedToSubmit&&!e.senhaFilled},"appearance-none block w-full bg-gray-200 dark:bg-gray-500 border border-gray-200 rounded py-3 px-4 mb-3 leading-tight focus:outline-none focus:bg-white focus:border-gray-500"]),id:"password",type:"password",placeholder:"******************"},null,2),[[r.Jo,o.formData.password]])]),(0,s.Lk)("div",Xl,[Ol,(0,s.bo)((0,s.Lk)("input",{"onUpdate:modelValue":t[4]||(t[4]=e=>o.formData.password_confirmation=e),class:(0,L.C4)([{"invalid-input":e.triedToSubmit&&!e.senhaFilled},"appearance-none block w-full bg-gray-200 dark:bg-gray-500 border border-gray-200 rounded py-3 px-4 mb-3 leading-tight focus:outline-none focus:bg-white focus:border-gray-500"]),id:"password_confirmation",type:"password",placeholder:"******************"},null,2),[[r.Jo,o.formData.password_confirmation]])])]),(0,s.Lk)("div",Gl,[(0,s.Lk)("div",Ml,[Il,(0,s.bo)((0,s.Lk)("select",{"onUpdate:modelValue":t[5]||(t[5]=e=>o.formData.genero=e),class:(0,L.C4)([{"invalid-input":e.triedToSubmit&&!e.generoFilled},"block appearance-none w-full bg-gray-200 dark:bg-gray-500 border border-gray-200 py-3 px-4 pr-8 rounded leading-tight focus:outline-none focus:bg-white focus:border-gray-500"]),id:"grid-state"},ql,2),[[r.u1,o.formData.genero]])]),(0,s.Lk)("div",Ql,[zl,(0,s.bo)((0,s.Lk)("select",{"onUpdate:modelValue":t[6]||(t[6]=e=>o.formData.grupo_pessoa_id=e),class:(0,L.C4)([{"invalid-input":e.triedToSubmit&&!e.grupoPessoaIdFilled},"block appearance-none w-full bg-gray-200 dark:bg-gray-500 border border-gray-200 py-3 px-4 pr-8 rounded leading-tight focus:outline-none focus:bg-white focus:border-gray-500"]),id:"grid-state"},Hl,2),[[r.u1,o.formData.grupo_pessoa_id]])])]),(0,s.Lk)("div",Yl,[(0,s.Lk)("button",Zl,["nova"===e.id?((0,s.uX)(),(0,s.CE)(s.FK,{key:0},[(0,s.eW)(" ok ")],64)):((0,s.uX)(),(0,s.CE)(s.FK,{key:1},[(0,s.eW)(" Cadastrar ")],64))])]),(0,s.Lk)("div",ed,[(0,s.Lk)("span",{class:(0,L.C4)(["text-center text-sm",{"text-green-500":e.sucesso,"text-red-500":!e.sucesso&&e.feedbackMessage}])},(0,L.v_)(e.feedbackMessage),3)])],544)])])])),_:1})}var ad=a(144),rd={name:"PeopleDetailComponent",components:{DashboardComponent:Pe},setup(){const e=(0,o.lq)(),t=(0,o.rd)(),a=(0,ad.KR)(null),r=e.params.id||"nova",l=(0,ad.Kh)({nome:"",idade:"",email:"",senha:"",grupo_pessoa_id:"",genero:"",user_id:""}),d=(0,ad.KR)(!1);(0,s.nT)((()=>{"nova"!==r?vt.getById(r).then((e=>{if(e instanceof Error)alert(e.message),t.push("/pessoas");else{const{pessoa:t}=e;l.nome=t.nome,l.idade=t.idade,l.email=t.email,l.senha=t.senha,l.grupo_pessoa_id=t.grupo_pessoa_id,l.genero=t.genero}})):a.value?.setData({})}));const n=()=>{d.value=!0,"nova"===r?y.register(l.email,l.password,l.password_confirmation,l.nome).then((e=>{e instanceof Error?alert(e.message):(l.user_id=e.id,vt.cadastrar(l).then((e=>{e instanceof Error?alert(e.message):t.push("/pessoa")})))})):vt.atualizar(r,{id:r,...l}).then((e=>{e instanceof Error?alert(e.message):t.push("/pessoa")}))};return{formRef:a,formData:l,handleSave:n}}};const od=(0,v.A)(rd,[["render",td],["__scopeId","data-v-030519dc"]]);var sd=od;const ld={class:"flex justify-center items-center text-gray-700 dark:text-white"},dd={class:"w-full p-4 sm:p-6 md:p-8 dark:bg-gray-800"},nd=(0,s.Lk)("h5",{class:"text-2xl font-medium text-gray-900 dark:text-white text-center border-b-2 mb-4 pb-2 border-gray-900"}," Pessoas ",-1),id={class:"flex justify-center"},cd={class:"mb-4 flex pt-4 items-center pl-2"},ud={class:"w-[400px] flex rounded border border-gray-300 shadow-lg bg-gray-200 shadow-indigo-500/40 dark:bg-gray-600 dark:shadow-gray-600/40"},pd={class:""},hd=(0,s.Lk)("div",{class:"w-[40px]"},[(0,s.Lk)("span",{class:"float-end py-3 px-3 bg-slate-300 dark:bg-gray-700"},[(0,s.Lk)("i",{class:"fa-solid fa-magnifying-glass"})])],-1),gd={class:"flex items-center justify-between mb-4"},md={class:"mb-4"},bd=(0,s.Lk)("label",{class:"block uppercase tracking-wide text-xs font-bold mb-2"}," Grupo ",-1),kd={class:"mb-4"},yd=(0,s.Lk)("label",{class:"block uppercase tracking-wide text-xs font-bold mb-2"}," Genero ",-1),fd=(0,s.Lk)("option",{value:"",selected:""},"Todos os gêneros",-1),vd=(0,s.Lk)("option",{value:"Masculino"},"Masculino",-1),xd=(0,s.Lk)("option",{value:"Feminino"},"Feminino",-1),wd=(0,s.Lk)("option",{value:"other"},"Outro",-1),Ld=[fd,vd,xd,wd],Cd={class:"mb-4"},Pd=(0,s.Lk)("label",{class:"block uppercase tracking-wide text-xs font-bold mb-2"}," Idade ",-1),Ad={class:"overflow-x-auto"},_d={class:"relative shadow-md sm:rounded-lg max-h-screen"},Ed={class:"w-full h-full text-sm text-left overflow-y-auto rtl:text-right text-gray-500 dark:text-white"},Dd=(0,s.Lk)("thead",{class:"text-xs uppercase bg-gray-50 dark:bg-gray-700 dark:text-white"},[(0,s.Lk)("tr",null,[(0,s.Lk)("th",{scope:"col",class:"px-6 py-3"},"Nome"),(0,s.Lk)("th",{scope:"col",class:"px-6 py-3"},"Gênero"),(0,s.Lk)("th",{scope:"col",class:"px-6 py-3"},"Idade"),(0,s.Lk)("th",{scope:"col",class:"px-6 py-3"},"Grupo"),(0,s.Lk)("th",{scope:"col",class:"px-6 py-3"},"Ação")])],-1),Fd={key:0},Sd=(0,s.Lk)("td",{colspan:"5",class:"text-center"}," Nenhum resultado encontrado. ",-1),Vd=[Sd],$d={scope:"row",class:"px-6 py-4 font-medium text-gray-900 whitespace-nowrap dark:text-white"},Bd={class:"px-6 py-4"},Xd={class:"px-6 py-4"},Od={class:"px-6 py-4"},Gd={class:"px-6 py-4"},Md=["onClick"],Id=(0,s.Lk)("i",{class:"text-xl fa-solid fa-eye"},null,-1),Kd=[Id],Td=["onClick"],jd=(0,s.Lk)("i",{class:"text-xl fa-solid fa-trash"},null,-1),Ud=[jd],qd={class:"flex justify-center mt-4"},Qd=["v-html","onClick"];function zd(e,t,a,o,l,d){const n=(0,s.g2)("SelectGrupoComponent"),i=(0,s.g2)("DashboardComponent");return(0,s.uX)(),(0,s.Wv)(i,null,{"slot-pages":(0,s.k6)((()=>[(0,s.Lk)("div",ld,[(0,s.Lk)("div",dd,[nd,(0,s.Lk)("div",id,[(0,s.Lk)("button",{type:"submit",class:"w-30 text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center",onClick:t[0]||(t[0]=e=>d.cadastrar())}," Cadastrar ")]),(0,s.Lk)("div",cd,[(0,s.Lk)("div",ud,[(0,s.Lk)("div",pd,[(0,s.bo)((0,s.Lk)("input",{type:"text","onUpdate:modelValue":t[1]||(t[1]=e=>l.searchQuery=e),class:"py-3 px-3 w-[360px] dark:bg-gray-600",placeholder:"Pesquisar...",onInput:t[2]||(t[2]=(...e)=>d.handleFilterChange&&d.handleFilterChange(...e))},null,544),[[r.Jo,l.searchQuery]])]),hd])]),(0,s.Lk)("div",gd,[(0,s.Lk)("div",md,[bd,(0,s.bF)(n,{onGroupSelected:d.updateSelectedGroup},null,8,["onGroupSelected"])]),(0,s.Lk)("div",kd,[yd,(0,s.bo)((0,s.Lk)("select",{"onUpdate:modelValue":t[3]||(t[3]=e=>l.selectedGender=e),class:"py-2 px-3 rounded border mr-4 border-gray-300 shadow-lg bg-gray-200 shadow-indigo-500/40 dark:bg-gray-600 dark:shadow-gray-600/40",onChange:t[4]||(t[4]=(...e)=>d.handleFilterChange&&d.handleFilterChange(...e))},Ld,544),[[r.u1,l.selectedGender]])]),(0,s.Lk)("div",Cd,[Pd,(0,s.bo)((0,s.Lk)("input",{type:"number","onUpdate:modelValue":t[5]||(t[5]=e=>l.selectedAge=e),class:"py-2 px-3 rounded border mr-4 border-gray-300 shadow-lg bg-gray-200 shadow-indigo-500/40 dark:bg-gray-600 dark:shadow-gray-600/40",placeholder:"Idade",onInput:t[6]||(t[6]=(...e)=>d.handleFilterChange&&d.handleFilterChange(...e))},null,544),[[r.Jo,l.selectedAge]])])]),(0,s.Lk)("div",Ad,[(0,s.Lk)("div",_d,[(0,s.Lk)("table",Ed,[Dd,(0,s.Lk)("tbody",null,[l.people.length?((0,s.uX)(!0),(0,s.CE)(s.FK,{key:1},(0,s.pI)(l.people,(e=>((0,s.uX)(),(0,s.CE)("tr",{key:e.id,class:"odd:bg-white odd:dark:bg-gray-900 even:bg-gray-50 even:dark:bg-gray-800 border-b dark:border-gray-700"},[(0,s.Lk)("th",$d,(0,L.v_)(e.nome),1),(0,s.Lk)("td",Bd,(0,L.v_)(e.genero),1),(0,s.Lk)("td",Xd,(0,L.v_)(e.idade),1),(0,s.Lk)("td",Od,(0,L.v_)(e.grupo_pessoa.nome),1),(0,s.Lk)("td",Gd,[(0,s.Lk)("a",{onClick:t=>d.editar(e.id),class:"text-blue-600 pr-4 hover:text-white dark:text-white hover:underline hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center"},Kd,8,Md),(0,s.Lk)("a",{onClick:t=>d.remover(e.id),class:"text-blue-600 hover:text-white dark:text-white hover:underline hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center"},Ud,8,Td)])])))),128)):((0,s.uX)(),(0,s.CE)("tr",Fd,Vd))])]),(0,s.Lk)("div",qd,[l.arrayPage.length?((0,s.uX)(!0),(0,s.CE)(s.FK,{key:1},(0,s.pI)(l.arrayPage,(e=>((0,s.uX)(),(0,s.CE)("a",{key:e,"v-html":e,onClick:t=>d.handlePage(e),class:"odd:bg-white odd:dark:bg-gray-900 even:bg-gray-50 even:dark:bg-gray-800 border-b dark:border-gray-700 p-4"},(0,L.v_)(e),9,Qd)))),128)):((0,s.uX)(),(0,s.CE)(s.FK,{key:0},[],64))])])])])])])),_:1})}const Rd=(0,s.Lk)("option",{value:"",selected:""},"Todos os grupos",-1),Jd=["value"];function Wd(e,t,a,o,l,d){return(0,s.uX)(),(0,s.CE)("div",null,[(0,s.bo)((0,s.Lk)("select",{"onUpdate:modelValue":t[0]||(t[0]=e=>l.selectedGroup=e),class:"py-2 px-3 rounded mr-4 shadow-lg bg-gray-200 shadow-indigo-500/40 dark:bg-gray-600 dark:shadow-gray-600/40 border-2",onChange:t[1]||(t[1]=(...e)=>d.handleFilterChange&&d.handleFilterChange(...e))},[Rd,((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(l.groups,(e=>((0,s.uX)(),(0,s.CE)("option",{key:e.id,value:e.id},(0,L.v_)(e.nome),9,Jd)))),128))],544),[[r.u1,l.selectedGroup]])])}const Nd="http://localhost:8000/api",Hd=localStorage.getItem("userToken"),Yd={async getAll(){try{const e=await m.A.get(`${Nd}/grupo_pessoa`,{headers:{Authorization:`Bearer ${Hd}`}});return e.data}catch(e){throw console.error("Erro ao obter grupo de pessoa",e),new Error("Erro ao obter grupo de pessoa da API.")}}};var Zd=Yd,en={data(){return{selectedGroup:"",groups:[],loading:!1}},methods:{async getAll(){try{this.loading=!0;const e=await Zd.getAll();this.groups=e}catch(e){console.error("Erro ao obter grupos:",e)}finally{this.loading=!1}},handleFilterChange(){this.$emit("group-selected",this.selectedGroup)}},mounted(){this.getAll()}};const tn=(0,v.A)(en,[["render",Wd]]);var an=tn,rn={name:"PeopleListComponent",components:{DashboardComponent:Pe,SelectGrupoComponent:an},data(){return{searchQuery:"",selectedGroup:"",selectedGender:"",handlePages:"",selectedAge:"",people:[],arrayPage:[],paginate:{},minSearchLength:3,currentPage:1,itemsPerPage:10}},computed:{},methods:{editar(e){this.$router.push(`/pessoa/detalhes/${e}`)},cadastrar(){this.$router.push("/pessoa/detalhes/nova")},async remover(e){try{await vt.remover(e),console.log("Pessoa removida com sucesso!"),this.getAll()}catch(t){console.error("Erro ao remover pessoa:",t)}},async getAll(){try{const e=this.buildParams(),t=await vt.getAll(e);this.$router.push({path:"/pessoa",query:e}),this.people=t.data,this.paginate=t.last_page,this.paginate>1&&(this.arrayPage=this.arrayPages(this.paginate))}catch(e){console.error("Erro ao obter pessoas",e),this.people=[],this.paginate=[]}},shouldApplyFilter(){return this.searchQuery.length>=this.minSearchLength||this.selectedGroup||this.selectedGender||this.selectedGender||this.selectedAge},buildParams(){const e={};return this.selectedGroup&&(e.grupo_id=this.selectedGroup),this.selectedGender&&(e.genero=this.selectedGender),this.searchQuery.length>=this.minSearchLength&&(e.nome=this.searchQuery),this.selectedAge&&(e.idade=this.selectedAge),this.handlePages&&(e.page=this.handlePages),e},updateSelectedGroup(e){this.selectedGroup=e,this.handleFilterChange()},handleFilterChange(){this.shouldApplyFilter()?this.currentPage=1:this.getAll()},arrayPages(e){let t=[];for(let a=1;a<=e;a++)t.push(a);return t},handlePage(e){e&&(this.handlePages=e,this.getAll())}},watch:{searchQuery(){this.shouldApplyFilter()&&this.getAll()},selectedGroup(){this.shouldApplyFilter()&&this.getAll()},selectedGender(){this.shouldApplyFilter()&&this.getAll()},selectedAge(){this.shouldApplyFilter()&&this.getAll()},currentPage(){this.getAll()}},mounted(){this.getAll()}};const on=(0,v.A)(rn,[["render",zd]]);var sn=on;const ln=e=>((0,s.Qi)("data-v-fa624242"),e=e(),(0,s.jt)(),e),dn={class:"flex justify-center items-center text-gray-700 dark:text-white"},nn={class:"w-full p-4 sm:p-6 md:p-8 dark:bg-gray-800"},cn=ln((()=>(0,s.Lk)("h5",{class:"text-xl font-medium text-gray-900 dark:text-white text-center border-b-2 mb-4 pb-4 border-gray-900"}," Cadastro de Produto ",-1))),un={class:"w-auto"},pn={class:"flex flex-wrap -mx-3"},hn={class:"w-full px-3 mb-6 md:mb-0"},gn=ln((()=>(0,s.Lk)("label",{for:"nome",class:"block uppercase tracking-wide text-xs font-bold mb-2"},"Nome",-1))),mn={class:"w-full px-3 mb-6 md:mb-0"},bn=ln((()=>(0,s.Lk)("label",{for:"descricao",class:"block uppercase tracking-wide text-xs font-bold mb-2"},"Descrição",-1))),kn={class:"flex flex-wrap -mx-3 mb-2"},yn={class:"w-full md:w-1/2 px-3 mb-6 md:mb-0"},fn=ln((()=>(0,s.Lk)("label",{for:"marca",class:"block uppercase tracking-wide text-xs font-bold mb-2"},"Marca",-1))),vn={class:"w-full md:w-1/2 px-3 mb-6 md:mb-0"},xn=ln((()=>(0,s.Lk)("label",{for:"grid-state",class:"block uppercase tracking-wide text-xs font-bold mb-2"},"Grupo",-1))),wn={class:"flex flex-wrap -mx-2 mb-2"},Ln={class:"w-full md:w-1/4 px-3 mb-6 md:mb-0"},Cn=ln((()=>(0,s.Lk)("label",{for:"quantidade",class:"block uppercase tracking-wide text-xs font-bold mb-2"},"quantidade",-1))),Pn={class:"w-full md:w-2/4 px-3 mb-6 md:mb-0"},An=ln((()=>(0,s.Lk)("label",{for:"preco",class:"block uppercase tracking-wide text-xs font-bold mb-2"},"preco",-1))),_n={class:"w-full md:w-1/4 px-3 mb-6 md:mb-0"},En=ln((()=>(0,s.Lk)("label",{for:"status",class:"block uppercase tracking-wide text-xs font-bold mb-2"},"Status",-1))),Dn=ln((()=>(0,s.Lk)("option",{value:"1",selected:""},"Ativo",-1))),Fn=ln((()=>(0,s.Lk)("option",{value:"0"},"Inativo",-1))),Sn=[Dn,Fn],Vn={class:"pt-4"},$n={type:"submit",class:"w-full text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800"},Bn={class:"mt-4"};function Xn(e,t,a,o,l,d){const n=(0,s.g2)("SelectBrandComponent"),i=(0,s.g2)("SelectGrupoComponent"),c=(0,s.g2)("DashboardComponent");return(0,s.uX)(),(0,s.Wv)(c,null,{"slot-pages":(0,s.k6)((()=>[(0,s.Lk)("div",dn,[(0,s.Lk)("div",nn,[cn,(0,s.Lk)("div",un,[(0,s.Lk)("form",{ref:"{formRef}",onSubmit:t[7]||(t[7]=(0,r.D$)(((...e)=>o.handleSave&&o.handleSave(...e)),["prevent"])),class:"p-2"},[(0,s.Lk)("div",pn,[(0,s.Lk)("div",hn,[gn,(0,s.bo)((0,s.Lk)("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>o.formData.nome=e),class:(0,L.C4)([{"invalid-input":e.triedToSubmit&&!e.nomeFilled},"appearance-none block w-full bg-gray-200 dark:bg-gray-500 border border-gray-200 rounded py-3 px-4 mb-3 leading-tight focus:outline-none focus:bg-white focus:border-gray-500"]),id:"nome",type:"text",placeholder:"Nome do produto"},null,2),[[r.Jo,o.formData.nome]])]),(0,s.Lk)("div",mn,[bn,(0,s.bo)((0,s.Lk)("input",{"onUpdate:modelValue":t[1]||(t[1]=e=>o.formData.descricao=e),class:(0,L.C4)([{"invalid-input":e.triedToSubmit&&!e.nomeFilled},"appearance-none block w-full bg-gray-200 dark:bg-gray-500 border border-gray-200 rounded py-3 px-4 mb-3 leading-tight focus:outline-none focus:bg-white focus:border-gray-500"]),id:"descricao",type:"text",placeholder:"Descreva o produto"},null,2),[[r.Jo,o.formData.descricao]])])]),(0,s.Lk)("div",kn,[(0,s.Lk)("div",yn,[fn,(0,s.bF)(n,{modelValue:o.formData.marca_id,"onUpdate:modelValue":t[2]||(t[2]=e=>o.formData.marca_id=e)},null,8,["modelValue"])]),(0,s.Lk)("div",vn,[xn,(0,s.bF)(i,{modelValue:o.formData.grupo_produto_id,"onUpdate:modelValue":t[3]||(t[3]=e=>o.formData.grupo_produto_id=e),initialGroup:o.formData.grupo_produto_id},null,8,["modelValue","initialGroup"])])]),(0,s.Lk)("div",wn,[(0,s.Lk)("div",Ln,[Cn,(0,s.bo)((0,s.Lk)("input",{"onUpdate:modelValue":t[4]||(t[4]=e=>o.formData.quantidade=e),class:(0,L.C4)([{"invalid-input":e.triedToSubmit&&!e.idadeFilled},"appearance-none block w-full bg-gray-200 dark:bg-gray-500 border border-gray-200 rounded py-3 px-4 mb-3 leading-tight focus:outline-none focus:bg-white focus:border-gray-500"]),id:"quantidade",type:"number",placeholder:"Quantidade de produtos"},null,2),[[r.Jo,o.formData.quantidade]])]),(0,s.Lk)("div",Pn,[An,(0,s.bo)((0,s.Lk)("input",{"onUpdate:modelValue":t[5]||(t[5]=e=>o.formData.preco=e),class:(0,L.C4)([{"invalid-input":e.triedToSubmit&&!e.idadeFilled},"appearance-none block w-full bg-gray-200 dark:bg-gray-500 border border-gray-200 rounded py-3 px-4 mb-3 leading-tight focus:outline-none focus:bg-white focus:border-gray-500"]),id:"preco",type:"number",placeholder:"Preço do produto"},null,2),[[r.Jo,o.formData.preco]])]),(0,s.Lk)("div",_n,[En,(0,s.bo)((0,s.Lk)("select",{"onUpdate:modelValue":t[6]||(t[6]=e=>o.formData.status=e),class:(0,L.C4)([{"invalid-input":e.triedToSubmit&&!e.generoFilled},"block appearance-none w-full bg-gray-200 dark:bg-gray-500 border border-gray-200 py-3 px-4 pr-8 rounded leading-tight focus:outline-none focus:bg-white focus:border-gray-500"]),id:"status"},Sn,2),[[r.u1,o.formData.status]])])]),(0,s.Lk)("div",Vn,[(0,s.Lk)("button",$n,["nova"===e.id?((0,s.uX)(),(0,s.CE)(s.FK,{key:0},[(0,s.eW)(" ok ")],64)):((0,s.uX)(),(0,s.CE)(s.FK,{key:1},[(0,s.eW)(" Cadastrar ")],64))])]),(0,s.Lk)("div",Bn,[(0,s.Lk)("span",{class:(0,L.C4)(["text-center text-sm",{"text-green-500":e.sucesso,"text-red-500":!e.sucesso&&e.feedbackMessage}])},(0,L.v_)(e.feedbackMessage),3)])],544)])])])])),_:1})}const On=(0,s.Lk)("option",{value:"",selected:""},"Todos os grupos",-1),Gn=["value"];function Mn(e,t,a,o,l,d){return(0,s.bo)(((0,s.uX)(),(0,s.CE)("select",{"onUpdate:modelValue":t[0]||(t[0]=e=>l.selectedGroup=e),onChange:t[1]||(t[1]=(...e)=>d.emitGroup&&d.emitGroup(...e)),class:"py-2 px-3 rounded mr-4 shadow-lg bg-gray-200 shadow-indigo-500/40 dark:bg-gray-600 dark:shadow-gray-600/40 border-2 border-gray-300"},[On,((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(l.groups,(e=>((0,s.uX)(),(0,s.CE)("option",{key:e.id,value:e.id},(0,L.v_)(e.nome),9,Gn)))),128))],544)),[[r.u1,l.selectedGroup]])}var In={props:["modelValue","initialGroup"],emits:["update:modelValue"],data(){return{selectedGroup:this.modelValue,groups:[],loading:!1}},watch:{modelValue(e){this.selectedGroup=e},selectedGroup(e){this.$emit("update:modelValue",e)}},methods:{async getAll(){try{this.loading=!0;const e=await sr.getAll();this.groups=e}catch(e){console.error("Erro ao obter grupos:",e)}finally{this.loading=!1}},emitGroup(){this.$emit("update:modelValue",this.selectedGroup),this.$emit("group-selected",this.selectedGroup)}},mounted(){this.initialGroup||this.getAll()}};const Kn=(0,v.A)(In,[["render",Mn]]);var Tn=Kn;const jn=(0,s.Lk)("option",{value:"",selected:""},"Todos as marcas",-1),Un=["value"];function qn(e,t,a,o,l,d){return(0,s.bo)(((0,s.uX)(),(0,s.CE)("select",{"onUpdate:modelValue":t[0]||(t[0]=e=>l.selectedBrand=e),onChange:t[1]||(t[1]=(...e)=>d.emitBrand&&d.emitBrand(...e)),class:"py-2 px-3 rounded mr-4 shadow-lg bg-gray-200 shadow-indigo-500/40 dark:bg-gray-600 dark:shadow-gray-600/40 border-2 border-gray-300"},[jn,((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(l.marcas,(e=>((0,s.uX)(),(0,s.CE)("option",{key:e.id,value:e.id},(0,L.v_)(e.nome),9,Un)))),128))],544)),[[r.u1,l.selectedBrand]])}var Qn={props:["modelValue","initialGroup"],emits:["update:modelValue"],data(){return{selectedBrand:this.modelValue,marcas:[],loading:!1}},watch:{modelValue(e){this.selectedBrand=e},selectedBrand(e){this.$emit("update:modelValue",e)}},methods:{async getAll(){try{this.loading=!0;const e=await mr.getAll();this.marcas=e}catch(e){console.error("Erro ao obter marcas:",e)}finally{this.loading=!1}},emitBrand(){this.$emit("update:modelValue",this.selectedBrand),this.$emit("brand-selected",this.selectedBrand)}},mounted(){this.initialGroup||this.getAll()}};const zn=(0,v.A)(Qn,[["render",qn]]);var Rn=zn,Jn={name:"ProductDetailComponent",components:{DashboardComponent:Pe,SelectGrupoComponent:Tn,SelectBrandComponent:Rn},setup(){const e=(0,o.lq)(),t=(0,o.rd)(),a=(0,ad.KR)(null),r=e.params.id||"nova",l=(0,ad.Kh)({nome:"",descricao:"",status:"",marca_id:"",grupo_produto_id:"",quantidade:"",preco:""}),d=(0,ad.KR)(!1);(0,s.nT)((()=>{"nova"!==r?Ft.getById(r).then((e=>{if(e instanceof Error)alert(e.message),t.push("/produto");else{const{produto:t}=e;l.nome=t.nome,l.descricao=t.descricao,l.status=t.status,l.grupo_produto_id=t.grupo_produto_id,l.marca_id=t.marca_id,l.quantidade=t.quantidade,l.preco=t.preco}})):a.value?.setData({})}));const n=()=>{d.value=!0,"nova"===r?Ft.cadastrar(l).then((e=>{e instanceof Error?alert(e.message):t.push("/produto")})):Ft.atualizar(r,{id:r,...l}).then((e=>{e instanceof Error?alert(e.message):t.push("/produto")}))};return{formRef:a,formData:l,handleSave:n}}};const Wn=(0,v.A)(Jn,[["render",Xn],["__scopeId","data-v-fa624242"]]);var Nn=Wn;const Hn={class:"flex justify-center items-center text-gray-700 dark:text-white"},Yn={class:"w-full p-4 sm:p-6 md:p-8 dark:bg-gray-800"},Zn=(0,s.Lk)("h5",{class:"text-2xl font-medium text-gray-900 dark:text-white text-center border-b-2 mb-4 pb-2 border-gray-900"}," Produtos ",-1),ei={class:"w-auto"},ti={class:"flex justify-center"},ai={class:"mb-4 flex pt-4 items-center pl-2"},ri={class:"w-[400px] flex rounded border border-gray-300 shadow-lg bg-gray-200 shadow-indigo-500/40 dark:bg-gray-600 dark:shadow-gray-600/40"},oi={class:""},si=(0,s.Lk)("div",{class:"w-[40px]"},[(0,s.Lk)("span",{class:"float-end py-3 px-3 bg-slate-300 dark:bg-gray-700"},[(0,s.Lk)("i",{class:"fa-solid fa-magnifying-glass"})])],-1),li={class:"flex items-center justify-between mb-4"},di={class:"mb-4"},ni=(0,s.Lk)("label",{class:"block uppercase tracking-wide text-xs font-bold mb-2"}," Grupo ",-1),ii={class:"mb-4"},ci=(0,s.Lk)("label",{class:"block uppercase tracking-wide text-xs font-bold mb-2"}," Marca ",-1),ui={class:"mb-4"},pi=(0,s.Lk)("label",{class:"block uppercase tracking-wide text-xs font-bold mb-2"}," Status ",-1),hi=(0,s.Lk)("option",{value:"",selected:""},"Todos os Status",-1),gi=(0,s.Lk)("option",{value:"1"},"Ativo",-1),mi=(0,s.Lk)("option",{value:"0"},"Inativo",-1),bi=[hi,gi,mi],ki={class:"overflow-x-auto"},yi={class:"relative shadow-md sm:rounded-lg"},fi={class:"w-full h-full text-sm text-left rtl:text-right text-gray-500 dark:text-white"},vi=(0,s.Lk)("thead",{class:"text-xs uppercase bg-gray-50 dark:bg-gray-700 dark:text-white"},[(0,s.Lk)("tr",null,[(0,s.Lk)("th",{scope:"col",class:"px-6 py-3"},"Nome"),(0,s.Lk)("th",{scope:"col",class:"px-6 py-3"},"Marca"),(0,s.Lk)("th",{scope:"col",class:"px-6 py-3"},"Grupo"),(0,s.Lk)("th",{scope:"col",class:"px-6 py-3"},"Status"),(0,s.Lk)("th",{scope:"col",class:"px-6 py-3"},"Qtd"),(0,s.Lk)("th",{scope:"col",class:"px-6 py-3"},"Preço"),(0,s.Lk)("th",{scope:"col",class:"px-6 py-3"},"Ação")])],-1),xi={key:0},wi=(0,s.Lk)("td",{colspan:"5",class:"text-center"}," Nenhum resultado encontrado. ",-1),Li=[wi],Ci={scope:"row",class:"px-6 py-4 font-medium text-gray-900 whitespace-nowrap dark:text-white"},Pi={class:"px-6 py-4"},Ai={class:"px-6 py-4"},_i={class:"px-6 py-4"},Ei={class:"px-6 py-4"},Di={class:"px-6 py-4"},Fi={class:"px-6 py-4"},Si=["onClick"],Vi=(0,s.Lk)("i",{class:"text-xl fa-solid fa-eye"},null,-1),$i=[Vi],Bi=["onClick"],Xi=(0,s.Lk)("i",{class:"text-xl fa-solid fa-trash"},null,-1),Oi=[Xi],Gi={class:"flex justify-center mt-4"},Mi=["v-html","onClick"];function Ii(e,t,a,o,l,d){const n=(0,s.g2)("SelectGrupoComponent"),i=(0,s.g2)("SelectBrandComponent"),c=(0,s.g2)("DashboardComponent");return(0,s.uX)(),(0,s.Wv)(c,null,{"slot-pages":(0,s.k6)((()=>[(0,s.Lk)("div",Hn,[(0,s.Lk)("div",Yn,[Zn,(0,s.Lk)("div",ei,[(0,s.Lk)("div",ti,[(0,s.Lk)("button",{type:"submit",class:"w-30 text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center",onClick:t[0]||(t[0]=e=>d.cadastrar())}," Cadastrar ")]),(0,s.Lk)("div",ai,[(0,s.Lk)("div",ri,[(0,s.Lk)("div",oi,[(0,s.bo)((0,s.Lk)("input",{type:"text","onUpdate:modelValue":t[1]||(t[1]=e=>l.searchQuery=e),class:"py-3 px-3 w-[360px] dark:bg-gray-600",placeholder:"Pesquisar...",onInput:t[2]||(t[2]=(...e)=>d.handleFilterChange&&d.handleFilterChange(...e))},null,544),[[r.Jo,l.searchQuery]])]),si])]),(0,s.Lk)("div",li,[(0,s.Lk)("div",di,[ni,(0,s.bF)(n,{onGroupSelected:d.updateSelectedGroup},null,8,["onGroupSelected"])]),(0,s.Lk)("div",ii,[ci,(0,s.bF)(i,{onBrandSelected:d.updateSelectedBrand},null,8,["onBrandSelected"])]),(0,s.Lk)("div",ui,[pi,(0,s.bo)((0,s.Lk)("select",{"onUpdate:modelValue":t[3]||(t[3]=e=>l.selectedStatus=e),class:"py-2 px-3 rounded border-2 border-gray-300 mr-4 shadow-lg bg-gray-200 shadow-indigo-500/40 dark:bg-gray-600 dark:shadow-gray-600/40",onChange:t[4]||(t[4]=(...e)=>d.handleFilterChange&&d.handleFilterChange(...e))},bi,544),[[r.u1,l.selectedStatus]])])])]),(0,s.Lk)("div",ki,[(0,s.Lk)("div",yi,[(0,s.Lk)("table",fi,[vi,(0,s.Lk)("tbody",null,[l.product.length?((0,s.uX)(!0),(0,s.CE)(s.FK,{key:1},(0,s.pI)(l.product,(e=>((0,s.uX)(),(0,s.CE)("tr",{key:e.id,class:"odd:bg-white odd:dark:bg-gray-900 even:bg-gray-50 even:dark:bg-gray-800 border-b dark:border-gray-700"},[(0,s.Lk)("th",Ci,(0,L.v_)(e.nome),1),(0,s.Lk)("td",Pi,(0,L.v_)(e.marca?e.marca.nome:"-"),1),(0,s.Lk)("td",Ai,(0,L.v_)(e.grupo_produto?e.grupo_produto.nome:"-"),1),(0,s.Lk)("td",_i,(0,L.v_)(1==e.status?"Ativo":"Inativo"),1),(0,s.Lk)("td",Ei,(0,L.v_)(e.quantidade),1),(0,s.Lk)("td",Di,(0,L.v_)(d.formatCurrency(e.preco)),1),(0,s.Lk)("td",Fi,[(0,s.Lk)("a",{onClick:t=>d.editar(e.id),class:"text-blue-600 pr-4 hover:text-white dark:text-white hover:underline hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center"},$i,8,Si),(0,s.Lk)("a",{onClick:t=>d.remover(e.id),class:"text-blue-600 hover:text-white dark:text-white hover:underline hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center"},Oi,8,Bi)])])))),128)):((0,s.uX)(),(0,s.CE)("tr",xi,Li))])]),(0,s.Lk)("div",Gi,[l.arrayPage.length?((0,s.uX)(!0),(0,s.CE)(s.FK,{key:1},(0,s.pI)(l.arrayPage,(e=>((0,s.uX)(),(0,s.CE)("a",{key:e,"v-html":e,onClick:t=>d.handlePage(e),class:"odd:bg-white odd:dark:bg-gray-900 even:bg-gray-50 even:dark:bg-gray-800 border-b dark:border-gray-700 p-4"},(0,L.v_)(e),9,Mi)))),128)):((0,s.uX)(),(0,s.CE)(s.FK,{key:0},[],64))])])])])])])),_:1})}var Ki={name:"ProductListComponent",components:{DashboardComponent:Pe,SelectGrupoComponent:Tn,SelectBrandComponent:Rn},data(){return{searchQuery:"",selectedGroup:"",selectedBrand:"",handlePages:"",selectedStatus:"",product:[],arrayPage:[],paginate:{},minSearchLength:3,currentPage:1,itemsPerPage:10}},computed:{},methods:{editar(e){this.$router.push(`/produto/detalhes/${e}`)},cadastrar(){this.$router.push("/produto/detalhes/nova")},formatCurrency(e){const t=parseInt(e,10);return t.toLocaleString("pt-BR",{style:"currency",currency:"BRL"})},async remover(e){try{await Ft.remover(e),console.log("Produto removida com sucesso!"),this.getAll()}catch(t){console.error("Erro ao remover produto:",t)}},async getAll(){try{const e=this.buildParams(),t=await Ft.getAll(e);this.$router.push({path:"/produto",query:e}),this.product=t.data,this.paginate=t.last_page,this.paginate>1&&(this.arrayPage=this.arrayPages(this.paginate))}catch(e){console.error("Erro ao obter produtos",e),this.product=[],this.paginate=[]}},shouldApplyFilter(){return this.searchQuery.length>=this.minSearchLength||this.selectedGroup||this.selectedBrand||this.selectedStatus},buildParams(){const e={};return this.selectedGroup&&(e.grupo_id=this.selectedGroup),this.selectedBrand&&(e.marca_id=this.selectedBrand),this.searchQuery.length>=this.minSearchLength&&(e.nome=this.searchQuery),this.selectedStatus&&(e.status=this.selectedStatus),this.handlePages&&(e.page=this.handlePages),e},updateSelectedGroup(e){this.selectedGroup=e,this.handleFilterChange()},updateSelectedBrand(e){this.selectedBrand=e,this.handleFilterChange()},handleFilterChange(){this.shouldApplyFilter()?this.currentPage=1:this.getAll()},arrayPages(e){let t=[];for(let a=1;a<=e;a++)t.push(a);return t},handlePage(e){e&&(this.handlePages=e,this.getAll())}},watch:{searchQuery(){this.shouldApplyFilter()&&this.getAll()},selectedGroup(){this.shouldApplyFilter()&&this.getAll()},selectedBrand(){this.shouldApplyFilter()&&this.getAll()},selectedStatus(){this.shouldApplyFilter()&&this.getAll()},currentPage(){this.getAll()}},mounted(){this.getAll()}};const Ti=(0,v.A)(Ki,[["render",Ii]]);var ji=Ti;const Ui=e=>((0,s.Qi)("data-v-29a68cc2"),e=e(),(0,s.jt)(),e),qi={class:"flex justify-center items-center text-gray-700 dark:text-white"},Qi={class:"w-full p-4 sm:p-6 md:p-8 dark:bg-gray-800"},zi=Ui((()=>(0,s.Lk)("h5",{class:"text-xl font-medium text-gray-900 dark:text-white text-center border-b-2 mb-4 pb-4 border-gray-900"}," Cadastro de Venda ",-1))),Ri={class:"w-auto"},Ji={class:"flex flex-wrap -mx-3 mb-6"},Wi={class:"w-full md:w-1/2 px-3 mb-6 md:mb-0"},Ni=Ui((()=>(0,s.Lk)("label",{class:"block uppercase tracking-wide text-xs font-bold mb-2",for:"data"}," Data ",-1))),Hi={class:"flex flex-wrap -mx-3 mb-2"},Yi={class:"w-full md:w-1/2 px-3 mb-6 md:mb-0"},Zi=Ui((()=>(0,s.Lk)("label",{for:"grid-state",class:"block uppercase tracking-wide text-xs font-bold mb-2"},"Cliente",-1))),ec={class:"w-full md:w-1/2 px-3 mb-6 md:mb-0"},tc=Ui((()=>(0,s.Lk)("label",{for:"grid-state",class:"block uppercase tracking-wide text-xs font-bold mb-2"},"Produto",-1))),ac={class:"flex flex-wrap -mx-3 mb-6"},rc={class:"w-full md:w-1/2 px-3 mb-6 md:mb-0"},oc=Ui((()=>(0,s.Lk)("label",{class:"block uppercase tracking-wide text-xs font-bold mb-2",for:"quantidade"}," Quantidade ",-1))),sc={class:"w-full md:w-1/2 px-3 mb-6 md:mb-0"},lc=Ui((()=>(0,s.Lk)("label",{class:"block uppercase tracking-wide text-xs font-bold mb-2",for:"preco"}," Preço ",-1))),dc=Ui((()=>(0,s.Lk)("div",{class:"pt-4"},[(0,s.Lk)("button",{type:"submit",class:"w-full text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800"}," Cadastrar ")],-1))),nc={class:"mt-4"};function ic(e,t,a,o,l,d){const n=(0,s.g2)("SelectPessoaComponent"),i=(0,s.g2)("SelectProdutoComponent"),c=(0,s.g2)("DashboardComponent");return(0,s.uX)(),(0,s.Wv)(c,null,{"slot-pages":(0,s.k6)((()=>[(0,s.Lk)("div",qi,[(0,s.Lk)("div",Qi,[zi,(0,s.Lk)("div",Ri,[(0,s.Lk)("form",{ref:"{formRef}",onSubmit:t[5]||(t[5]=(0,r.D$)(((...e)=>o.handleSave&&o.handleSave(...e)),["prevent"])),class:"p-2"},[(0,s.Lk)("div",Ji,[(0,s.Lk)("div",Wi,[Ni,(0,s.bo)((0,s.Lk)("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>o.formData.data=e),class:"appearance-none block w-full bg-gray-200 dark:bg-gray-500 border border-gray-200 rounded py-3 px-4 mb-3 leading-tight focus:outline-none focus:bg-white focus:border-gray-500",id:"data",type:"date"},null,512),[[r.Jo,o.formData.data]])])]),(0,s.Lk)("div",Hi,[(0,s.Lk)("div",Yi,[Zi,(0,s.bF)(n,{modelValue:o.formData.pessoa_id,"onUpdate:modelValue":t[1]||(t[1]=e=>o.formData.pessoa_id=e),initialPeople:o.formData.pessoa_id},null,8,["modelValue","initialPeople"])]),(0,s.Lk)("div",ec,[tc,(0,s.bF)(i,{modelValue:o.formData.produto_id,"onUpdate:modelValue":t[2]||(t[2]=e=>o.formData.produto_id=e),initialProduct:o.formData.produto_id},null,8,["modelValue","initialProduct"])])]),(0,s.Lk)("div",ac,[(0,s.Lk)("div",rc,[oc,(0,s.bo)((0,s.Lk)("input",{class:"appearance-none block w-full bg-gray-200 dark:bg-gray-500 border border-gray-200 rounded py-3 px-4 mb-3 leading-tight focus:outline-none focus:bg-white focus:border-gray-500",id:"quantidade",type:"number","onUpdate:modelValue":t[3]||(t[3]=e=>o.formData.quantidade=e)},null,512),[[r.Jo,o.formData.quantidade]])]),(0,s.Lk)("div",sc,[lc,(0,s.bo)((0,s.Lk)("input",{"onUpdate:modelValue":t[4]||(t[4]=e=>o.formData.preco=e),class:"appearance-none block w-full bg-gray-200 dark:bg-gray-500 border border-gray-200 rounded py-3 px-4 mb-3 leading-tight focus:outline-none focus:bg-white focus:border-gray-500",id:"preco",type:"number"},null,512),[[r.Jo,o.formData.preco]])])]),dc,(0,s.Lk)("div",nc,[(0,s.Lk)("span",{class:(0,L.C4)(["text-center text-sm",{"text-green-500":e.sucesso,"text-red-500":!e.sucesso&&e.feedbackMessage}])},(0,L.v_)(e.feedbackMessage),3)])],544)])])])])),_:1})}const cc=(0,s.Lk)("option",{value:"",selected:""},"Todos os pessoas",-1),uc=["value"];function pc(e,t,a,o,l,d){return(0,s.bo)(((0,s.uX)(),(0,s.CE)("select",{"onUpdate:modelValue":t[0]||(t[0]=e=>l.selectedPeople=e),onChange:t[1]||(t[1]=(...e)=>d.emitPeople&&d.emitPeople(...e)),class:"py-2 px-3 w-full rounded mr-4 shadow-lg bg-gray-200 shadow-indigo-500/40 dark:bg-gray-600 dark:shadow-gray-600/40 border-2 border-gray-300"},[cc,((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(l.peoples,(e=>((0,s.uX)(),(0,s.CE)("option",{key:e.id,value:e.id},(0,L.v_)(e.nome),9,uc)))),128))],544)),[[r.u1,l.selectedPeople]])}var hc={props:["modelValue","initialPeople"],emits:["update:modelValue"],data(){return{selectedPeople:this.modelValue,peoples:[],loading:!1}},watch:{modelValue(e){this.selectedPeople=e},selectedPeople(e){this.$emit("update:modelValue",e)}},methods:{async getAll(){try{const e={all:"0",grupo_id:"1"};this.loading=!0;const t=await vt.getAll(e);this.peoples=t}catch(e){console.error("Erro ao obter pessoas:",e)}finally{this.loading=!1}},emitPeople(){this.$emit("update:modelValue",this.selectedPeople),this.$emit("people-selected",this.selectedPeople)}},mounted(){this.initialPeople||this.getAll()}};const gc=(0,v.A)(hc,[["render",pc]]);var mc=gc;const bc=(0,s.Lk)("option",{value:"",selected:""},"Todos as produtos",-1),kc=["value"];function yc(e,t,a,o,l,d){return(0,s.bo)(((0,s.uX)(),(0,s.CE)("select",{"onUpdate:modelValue":t[0]||(t[0]=e=>l.selectedProduct=e),onChange:t[1]||(t[1]=(...e)=>d.emitProduct&&d.emitProduct(...e)),class:"py-2 px-3 w-full rounded mr-4 shadow-lg bg-gray-200 shadow-indigo-500/40 dark:bg-gray-600 dark:shadow-gray-600/40 border-2 border-gray-300"},[bc,((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(l.produtos,(e=>((0,s.uX)(),(0,s.CE)("option",{key:e.id,value:e.id},(0,L.v_)(e.nome),9,kc)))),128))],544)),[[r.u1,l.selectedProduct]])}var fc={props:["modelValue","initialGroup"],emits:["update:modelValue"],data(){return{selectedProduct:this.modelValue,produtos:[],loading:!1}},watch:{modelValue(e){this.selectedProduct=e},selectedProduct(e){this.$emit("update:modelValue",e)}},methods:{async getAll(){try{const e={all:"0"};this.loading=!0;const t=await Ft.getAll(e);this.produtos=t}catch(e){console.error("Erro ao obter produtos:",e)}finally{this.loading=!1}},emitProduct(){this.$emit("update:modelValue",this.selectedProduct),this.$emit("product-selected",this.selectedProduct)}},mounted(){this.initialProduct||this.getAll()}};const vc=(0,v.A)(fc,[["render",yc]]);var xc=vc,wc={name:"SaleDetailComponent",components:{DashboardComponent:Pe,SelectPessoaComponent:mc,SelectProdutoComponent:xc},setup(){const e=(0,o.lq)(),t=(0,o.rd)(),a=(0,ad.KR)(null),r=e.params.id||"nova",l=(0,ad.Kh)({data:"",pessoa_id:"",produto_id:"",quantidade:"",preco:""}),d=(0,ad.KR)(!1);(0,s.nT)((()=>{"nova"!==r?Qo.getById(r).then((e=>{if(e instanceof Error)alert(e.message),t.push("/venda");else{const{venda:t}=e;l.data=t.data,l.produto_id=t.produto_id,l.pessoa_id=t.pessoa_id,l.quantidade=t.quantidade,l.preco=t.preco}})):a.value?.setData({})}));const n=()=>{d.value=!0,"nova"===r?Qo.cadastrar(l).then((e=>{e instanceof Error?alert(e.message):t.push("/venda")})):Qo.atualizar(r,{id:r,...l}).then((e=>{e instanceof Error?alert(e.message):t.push("/venda")}))};return{formRef:a,formData:l,handleSave:n}}};const Lc=(0,v.A)(wc,[["render",ic],["__scopeId","data-v-29a68cc2"]]);var Cc=Lc;const Pc={class:"flex justify-center items-center text-gray-700 dark:text-white"},Ac={class:"w-full p-4 sm:p-6 md:p-8 dark:bg-gray-800"},_c=(0,s.Lk)("h5",{class:"text-2xl font-medium text-gray-900 dark:text-white text-center border-b-2 mb-4 pb-2 border-gray-900"}," Vendas ",-1),Ec={class:"w-auto"},Dc={class:"flex justify-center"},Fc={class:"flex flex-wrap items-center justify-start mb-4"},Sc={class:"px-3 mb-6 md:mb-0"},Vc=(0,s.Lk)("label",{class:"block uppercase tracking-wide text-xs font-bold mb-2",for:"data"}," Data Inicio ",-1),$c={class:"px-3 mb-6 md:mb-0"},Bc=(0,s.Lk)("label",{class:"block uppercase tracking-wide text-xs font-bold mb-2",for:"data_fim"}," Data Fim ",-1),Xc={class:"flex flex-wrap items-center justify-between mb-4 pl-4"},Oc={class:"mb-4"},Gc=(0,s.Lk)("label",{class:"block uppercase tracking-wide text-xs font-bold mb-2"}," Cliente ",-1),Mc={class:"mb-4"},Ic=(0,s.Lk)("label",{class:"block uppercase tracking-wide text-xs font-bold mb-2"}," Produtos ",-1),Kc={class:"mb-4"},Tc=(0,s.Lk)("label",{class:"block uppercase tracking-wide text-xs font-bold mb-2"}," Ordenar Data ",-1),jc=(0,s.Lk)("option",{value:"",selected:""},"Ordenar Data",-1),Uc=(0,s.Lk)("option",{value:"1"},"Crescente",-1),qc=(0,s.Lk)("option",{value:"0"},"Decrescente",-1),Qc=[jc,Uc,qc],zc={class:"mb-4"},Rc=(0,s.Lk)("label",{class:"block uppercase tracking-wide text-xs font-bold mb-2"}," Ordenar Preço ",-1),Jc=(0,s.Lk)("option",{value:"",selected:""},"Ordenar Preço",-1),Wc=(0,s.Lk)("option",{value:"1"},"Crescente",-1),Nc=(0,s.Lk)("option",{value:"0"},"Decrescente",-1),Hc=[Jc,Wc,Nc],Yc={class:"mb-4"},Zc=(0,s.Lk)("label",{class:"block uppercase tracking-wide text-xs font-bold mb-2"}," Agrupar Cliente ",-1),eu={class:"overflow-x-auto"},tu={class:"relative shadow-md sm:rounded-lg"},au={class:"w-full h-full text-sm text-left rtl:text-right text-gray-500 dark:text-white"},ru=(0,s.Lk)("thead",{class:"text-xs uppercase bg-gray-50 dark:bg-gray-700 dark:text-white"},[(0,s.Lk)("tr",null,[(0,s.Lk)("th",{scope:"col",class:"px-6 py-3"},"Data"),(0,s.Lk)("th",{scope:"col",class:"px-6 py-3"},"Produto"),(0,s.Lk)("th",{scope:"col",class:"px-6 py-3"},"Cliente"),(0,s.Lk)("th",{scope:"col",class:"px-6 py-3"},"Qtd"),(0,s.Lk)("th",{scope:"col",class:"px-6 py-3"},"Preço"),(0,s.Lk)("th",{scope:"col",class:"px-6 py-3"},"Ação")])],-1),ou={key:0},su=(0,s.Lk)("td",{colspan:"5",class:"text-center"}," Nenhum resultado encontrado. ",-1),lu=[su],du={class:"px-6 py-4"},nu={scope:"row",class:"px-6 py-4 font-medium text-gray-900 whitespace-nowrap dark:text-white"},iu={class:"px-6 py-4"},cu={class:"px-6 py-4"},uu={class:"px-6 py-4"},pu={class:"px-6 py-4"},hu=["onClick"],gu=(0,s.Lk)("i",{class:"text-xl fa-solid fa-eye"},null,-1),mu=[gu],bu=["onClick"],ku=(0,s.Lk)("i",{class:"text-xl fa-solid fa-trash"},null,-1),yu=[ku],fu={class:"flex justify-center mt-4"},vu=["v-html","onClick"];function xu(e,t,a,o,l,d){const n=(0,s.g2)("SelectPessoaComponent"),i=(0,s.g2)("SelectProdutoComponent"),c=(0,s.g2)("DashboardComponent");return(0,s.uX)(),(0,s.Wv)(c,null,{"slot-pages":(0,s.k6)((()=>[(0,s.Lk)("div",Pc,[(0,s.Lk)("div",Ac,[_c,(0,s.Lk)("div",Ec,[(0,s.Lk)("div",Dc,[(0,s.Lk)("button",{type:"submit",class:"w-30 text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center",onClick:t[0]||(t[0]=e=>d.cadastrar())}," Cadastrar ")]),(0,s.Lk)("div",Fc,[(0,s.Lk)("div",Sc,[Vc,(0,s.bo)((0,s.Lk)("input",{"onUpdate:modelValue":t[1]||(t[1]=e=>l.selectedData=e),onInput:t[2]||(t[2]=(...e)=>d.handleFilterChange&&d.handleFilterChange(...e)),class:"py-2 px-3 rounded border mr-4 border-gray-300 shadow-lg bg-gray-200 shadow-indigo-500/40 dark:bg-gray-600 dark:shadow-gray-600/40",type:"date",id:"data"},null,544),[[r.Jo,l.selectedData]])]),(0,s.Lk)("div",$c,[Bc,(0,s.bo)((0,s.Lk)("input",{"onUpdate:modelValue":t[3]||(t[3]=e=>l.selectedDateEnd=e),onInput:t[4]||(t[4]=(...e)=>d.handleFilterChange&&d.handleFilterChange(...e)),class:"py-2 px-3 rounded border mr-4 border-gray-300 shadow-lg bg-gray-200 shadow-indigo-500/40 dark:bg-gray-600 dark:shadow-gray-600/40",id:"data_fim",type:"date"},null,544),[[r.Jo,l.selectedDateEnd]])])]),(0,s.Lk)("div",Xc,[(0,s.Lk)("div",Oc,[Gc,(0,s.bF)(n,{onPeopleSelected:d.updateSelectedPeople},null,8,["onPeopleSelected"])]),(0,s.Lk)("div",Mc,[Ic,(0,s.bF)(i,{onProductSelected:d.updateSelectedProduct},null,8,["onProductSelected"])]),(0,s.Lk)("div",Kc,[Tc,(0,s.bo)((0,s.Lk)("select",{"onUpdate:modelValue":t[5]||(t[5]=e=>l.selectedOrdData=e),class:"py-2 px-3 rounded border-2 border-gray-300 mr-4 shadow-lg bg-gray-200 shadow-indigo-500/40 dark:bg-gray-600 dark:shadow-gray-600/40",onChange:t[6]||(t[6]=(...e)=>d.handleFilterChange&&d.handleFilterChange(...e))},Qc,544),[[r.u1,l.selectedOrdData]])]),(0,s.Lk)("div",zc,[Rc,(0,s.bo)((0,s.Lk)("select",{"onUpdate:modelValue":t[7]||(t[7]=e=>l.selectedOrdValor=e),class:"py-2 px-3 rounded border-2 border-gray-300 mr-4 shadow-lg bg-gray-200 shadow-indigo-500/40 dark:bg-gray-600 dark:shadow-gray-600/40",onChange:t[8]||(t[8]=(...e)=>d.handleFilterChange&&d.handleFilterChange(...e))},Hc,544),[[r.u1,l.selectedOrdValor]])]),(0,s.Lk)("div",Yc,[Zc,(0,s.bo)((0,s.Lk)("input",{"onUpdate:modelValue":t[9]||(t[9]=e=>l.selectedAgrupar=e),type:"checkbox",class:"py-2 px-3 rounded border-2 border-gray-300 mr-4 shadow-lg bg-gray-200 shadow-indigo-500/40 dark:bg-gray-600 dark:shadow-gray-600/40",onChange:t[10]||(t[10]=(...e)=>d.handleFilterChange&&d.handleFilterChange(...e))},null,544),[[r.lH,l.selectedAgrupar]])])])]),(0,s.Lk)("div",eu,[(0,s.Lk)("div",tu,[(0,s.Lk)("table",au,[ru,(0,s.Lk)("tbody",null,[l.sale.length?((0,s.uX)(!0),(0,s.CE)(s.FK,{key:1},(0,s.pI)(l.sale,(e=>((0,s.uX)(),(0,s.CE)("tr",{key:e.id,class:"odd:bg-white odd:dark:bg-gray-900 even:bg-gray-50 even:dark:bg-gray-800 border-b dark:border-gray-700"},[(0,s.Lk)("td",du,(0,L.v_)(e.data?d.formatDate(e.data):"-"),1),(0,s.Lk)("th",nu,(0,L.v_)(e.produto?e.produto.nome:"-"),1),(0,s.Lk)("td",iu,(0,L.v_)(e.pessoa.nome),1),(0,s.Lk)("td",cu,(0,L.v_)(e.quantidade?e.quantidade:e.total_quantidade),1),(0,s.Lk)("td",uu,(0,L.v_)(d.formatCurrency(e.preco?e.preco:e.total_preco)),1),(0,s.Lk)("td",pu,[(0,s.Lk)("a",{onClick:t=>d.editar(e.id),class:"text-blue-600 pr-4 hover:text-white dark:text-white hover:underline hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center"},mu,8,hu),(0,s.Lk)("a",{onClick:t=>d.remover(e.id),class:"text-blue-600 hover:text-white dark:text-white hover:underline hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center"},yu,8,bu)])])))),128)):((0,s.uX)(),(0,s.CE)("tr",ou,lu))])]),(0,s.Lk)("div",fu,[l.arrayPage.length?((0,s.uX)(!0),(0,s.CE)(s.FK,{key:1},(0,s.pI)(l.arrayPage,(e=>((0,s.uX)(),(0,s.CE)("a",{key:e,"v-html":e,onClick:t=>d.handlePage(e),class:"odd:bg-white odd:dark:bg-gray-900 even:bg-gray-50 even:dark:bg-gray-800 border-b dark:border-gray-700 p-4"},(0,L.v_)(e),9,vu)))),128)):((0,s.uX)(),(0,s.CE)(s.FK,{key:0},[],64))])])])])])])),_:1})}var wu={name:"SaleListComponent",components:{DashboardComponent:Pe,SelectPessoaComponent:mc,SelectProdutoComponent:xc},data(){return{selectedPeople:"",selectedProduct:"",selectedData:"",selectedDateEnd:"",selectedOrdData:"",selectedOrdValor:"",selectedAgrupar:"",handlePages:"",sale:[],arrayPage:[],paginate:{},minSearchLength:3,currentPage:1,itemsPerPage:10}},computed:{},methods:{formatDate(e){const t=new Date(e);return t.toLocaleDateString("pt-BR")},formatCurrency(e){const t=parseInt(e,10);return t.toLocaleString("pt-BR",{style:"currency",currency:"BRL"})},editar(e){this.$router.push(`/venda/detalhes/${e}`)},cadastrar(){this.$router.push("/venda/detalhes/nova")},async remover(e){try{await Qo.remover(e),console.log("Venda removida com sucesso!"),this.getAll()}catch(t){console.error("Erro ao remover venda:",t)}},async getAll(){try{const e=this.buildParams(),t=await Qo.getAll(e);this.$router.push({path:"/venda",query:e}),this.sale=t.data,this.paginate=t.last_page,this.paginate>1&&(this.arrayPage=this.arrayPages(this.paginate))}catch(e){console.error("Erro ao obter vendas",e),this.sale=[],this.paginate=[]}},shouldApplyFilter(){return this.selectedPeople||this.selectedProduct||this.selectedData||this.selectedDateEnd||this.selectedOrdData||this.selectedOrdValor||this.selectedAgrupar},buildParams(){const e={};return this.selectedPeople&&(e.pessoa_id=this.selectedPeople),this.selectedProduct&&(e.produto_id=this.selectedProduct),this.selectedData&&(e.data=this.selectedData),this.selectedDateEnd&&(e.data_fim=this.selectedDateEnd),this.selectedOrdData&&(e.ord_data=this.selectedOrdData),this.selectedOrdValor&&(e.ord_valor=this.selectedOrdValor),this.selectedAgrupar&&(e.agrupar_cliente=this.selectedAgrupar),this.handlePages&&(e.page=this.handlePages),e},updateSelectedPeople(e){this.selectedPeople=e,this.handleFilterChange()},updateSelectedProduct(e){this.selectedProduct=e,this.handleFilterChange()},handleFilterChange(){this.shouldApplyFilter()?this.currentPage=1:this.getAll()},arrayPages(e){let t=[];for(let a=1;a<=e;a++)t.push(a);return t},handlePage(e){e&&(this.handlePages=e,this.getAll())}},watch:{selectedPeople(){this.shouldApplyFilter()&&this.getAll()},selectedProduct(){this.shouldApplyFilter()&&this.getAll()},selectedData(){this.shouldApplyFilter()&&this.getAll()},selectedDateEnd(){this.shouldApplyFilter()&&this.getAll()},selectedOrdData(){this.shouldApplyFilter()&&this.getAll()},selectedOrdValor(){this.shouldApplyFilter()&&this.getAll()},selectedAgrupar(){this.shouldApplyFilter()&&this.getAll()},currentPage(){this.getAll()}},mounted(){this.getAll()}};const Lu=(0,v.A)(wu,[["render",xu]]);var Cu=Lu;const Pu=e=>((0,s.Qi)("data-v-6f41bb0c"),e=e(),(0,s.jt)(),e),Au={class:"flex justify-center items-center text-gray-700 dark:text-white"},_u={class:"w-full p-4 sm:p-6 md:p-8 dark:bg-gray-800"},Eu=Pu((()=>(0,s.Lk)("h5",{class:"text-xl font-medium text-gray-900 dark:text-white text-center border-b-2 mb-4 pb-4 border-gray-900"}," Cadastro de Compra ",-1))),Du={class:"w-auto"},Fu={class:"flex flex-wrap -mx-3 mb-6"},Su={class:"w-full md:w-1/2 px-3 mb-6 md:mb-0"},Vu=Pu((()=>(0,s.Lk)("label",{class:"block uppercase tracking-wide text-xs font-bold mb-2",for:"data"}," Data ",-1))),$u={class:"flex flex-wrap -mx-3 mb-2"},Bu={class:"w-full md:w-1/2 px-3 mb-6 md:mb-0"},Xu=Pu((()=>(0,s.Lk)("label",{for:"grid-state",class:"block uppercase tracking-wide text-xs font-bold mb-2"},"Fornecedor",-1))),Ou={class:"w-full md:w-1/2 px-3 mb-6 md:mb-0"},Gu=Pu((()=>(0,s.Lk)("label",{for:"grid-state",class:"block uppercase tracking-wide text-xs font-bold mb-2"},"Produto",-1))),Mu={class:"flex flex-wrap -mx-3 mb-6"},Iu={class:"w-full md:w-1/2 px-3 mb-6 md:mb-0"},Ku=Pu((()=>(0,s.Lk)("label",{class:"block uppercase tracking-wide text-xs font-bold mb-2",for:"quantidade"}," Quantidade ",-1))),Tu={class:"w-full md:w-1/2 px-3 mb-6 md:mb-0"},ju=Pu((()=>(0,s.Lk)("label",{class:"block uppercase tracking-wide text-xs font-bold mb-2",for:"preco"}," Preço ",-1))),Uu=Pu((()=>(0,s.Lk)("div",{class:"pt-4"},[(0,s.Lk)("button",{type:"submit",class:"w-full text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800"}," Cadastrar ")],-1))),qu={class:"mt-4"};function Qu(e,t,a,o,l,d){const n=(0,s.g2)("SelectPessoaComponent"),i=(0,s.g2)("SelectProdutoComponent"),c=(0,s.g2)("DashboardComponent");return(0,s.uX)(),(0,s.Wv)(c,null,{"slot-pages":(0,s.k6)((()=>[(0,s.Lk)("div",Au,[(0,s.Lk)("div",_u,[Eu,(0,s.Lk)("div",Du,[(0,s.Lk)("form",{ref:"{formRef}",onSubmit:t[5]||(t[5]=(0,r.D$)(((...e)=>o.handleSave&&o.handleSave(...e)),["prevent"])),class:"p-2"},[(0,s.Lk)("div",Fu,[(0,s.Lk)("div",Su,[Vu,(0,s.bo)((0,s.Lk)("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>o.formData.data=e),class:"appearance-none block text-gray-700 w-full bg-gray-200 border border-gray-200 rounded py-3 px-4 mb-3 leading-tight focus:outline-none focus:bg-white focus:border-gray-500",id:"data",type:"date"},null,512),[[r.Jo,o.formData.data]])])]),(0,s.Lk)("div",$u,[(0,s.Lk)("div",Bu,[Xu,(0,s.bF)(n,{modelValue:o.formData.pessoa_id,"onUpdate:modelValue":t[1]||(t[1]=e=>o.formData.pessoa_id=e),initialPeople:o.formData.pessoa_id},null,8,["modelValue","initialPeople"])]),(0,s.Lk)("div",Ou,[Gu,(0,s.bF)(i,{modelValue:o.formData.produto_id,"onUpdate:modelValue":t[2]||(t[2]=e=>o.formData.produto_id=e),initialProduct:o.formData.produto_id},null,8,["modelValue","initialProduct"])])]),(0,s.Lk)("div",Mu,[(0,s.Lk)("div",Iu,[Ku,(0,s.bo)((0,s.Lk)("input",{class:"appearance-none block w-full text-gray-700 bg-gray-200 border border-gray-200 rounded py-3 px-4 mb-3 leading-tight focus:outline-none focus:bg-white focus:border-gray-500",id:"quantidade",type:"number","onUpdate:modelValue":t[3]||(t[3]=e=>o.formData.quantidade=e)},null,512),[[r.Jo,o.formData.quantidade]])]),(0,s.Lk)("div",Tu,[ju,(0,s.bo)((0,s.Lk)("input",{"onUpdate:modelValue":t[4]||(t[4]=e=>o.formData.preco=e),class:"appearance-none block w-full text-gray-700 bg-gray-200 border border-gray-200 rounded py-3 px-4 mb-3 leading-tight focus:outline-none focus:bg-white focus:border-gray-500",id:"preco",type:"number"},null,512),[[r.Jo,o.formData.preco]])])]),Uu,(0,s.Lk)("div",qu,[(0,s.Lk)("span",{class:(0,L.C4)(["text-center text-sm",{"text-green-500":e.sucesso,"text-red-500":!e.sucesso&&e.feedbackMessage}])},(0,L.v_)(e.feedbackMessage),3)])],544)])])])])),_:1})}const zu=(0,s.Lk)("option",{value:"",selected:""},"Todos os pessoas",-1),Ru=["value"];function Ju(e,t,a,o,l,d){return(0,s.bo)(((0,s.uX)(),(0,s.CE)("select",{"onUpdate:modelValue":t[0]||(t[0]=e=>l.selectedPeople=e),onChange:t[1]||(t[1]=(...e)=>d.emitPeople&&d.emitPeople(...e)),class:"py-2 px-3 w-full rounded mr-4 shadow-lg bg-gray-200 shadow-indigo-500/40 dark:bg-gray-600 dark:shadow-gray-600/40 border-2 border-gray-300"},[zu,((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(l.peoples,(e=>((0,s.uX)(),(0,s.CE)("option",{key:e.id,value:e.id},(0,L.v_)(e.nome),9,Ru)))),128))],544)),[[r.u1,l.selectedPeople]])}var Wu={props:["modelValue","initialPeople"],emits:["update:modelValue"],data(){return{selectedPeople:this.modelValue,peoples:[],loading:!1}},watch:{modelValue(e){this.selectedPeople=e},selectedPeople(e){this.$emit("update:modelValue",e)}},methods:{async getAll(){try{const e={all:"0",grupo_id:"2"};this.loading=!0;const t=await vt.getAll(e);this.peoples=t}catch(e){console.error("Erro ao obter pessoas:",e)}finally{this.loading=!1}},emitPeople(){this.$emit("update:modelValue",this.selectedPeople),this.$emit("people-selected",this.selectedPeople)}},mounted(){this.initialPeople||this.getAll()}};const Nu=(0,v.A)(Wu,[["render",Ju]]);var Hu=Nu;const Yu=(0,s.Lk)("option",{value:"",selected:""},"Todos as produtos",-1),Zu=["value"];function ep(e,t,a,o,l,d){return(0,s.bo)(((0,s.uX)(),(0,s.CE)("select",{"onUpdate:modelValue":t[0]||(t[0]=e=>l.selectedProduct=e),onChange:t[1]||(t[1]=(...e)=>d.emitProduct&&d.emitProduct(...e)),class:"py-2 px-3 w-full rounded mr-4 shadow-lg bg-gray-200 shadow-indigo-500/40 dark:bg-gray-600 dark:shadow-gray-600/40 border-2 border-gray-300"},[Yu,((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(l.produtos,(e=>((0,s.uX)(),(0,s.CE)("option",{key:e.id,value:e.id},(0,L.v_)(e.nome),9,Zu)))),128))],544)),[[r.u1,l.selectedProduct]])}var tp={props:["modelValue","initialGroup"],emits:["update:modelValue"],data(){return{selectedProduct:this.modelValue,produtos:[],loading:!1}},watch:{modelValue(e){this.selectedProduct=e},selectedProduct(e){this.$emit("update:modelValue",e)}},methods:{async getAll(){try{const e={all:"0"};this.loading=!0;const t=await Ft.getAll(e);this.produtos=t}catch(e){console.error("Erro ao obter produtos:",e)}finally{this.loading=!1}},emitProduct(){this.$emit("update:modelValue",this.selectedProduct),this.$emit("product-selected",this.selectedProduct)}},mounted(){this.initialProduct||this.getAll()}};const ap=(0,v.A)(tp,[["render",ep]]);var rp=ap,op={name:"BuyDetailComponent",components:{DashboardComponent:Pe,SelectPessoaComponent:Hu,SelectProdutoComponent:rp},setup(){const e=(0,o.lq)(),t=(0,o.rd)(),a=(0,ad.KR)(null),r=e.params.id||"nova",l=(0,ad.Kh)({data:"",pessoa_id:"",produto_id:"",quantidade:"",preco:""}),d=(0,ad.KR)(!1);(0,s.nT)((()=>{"nova"!==r?Rt.getById(r).then((e=>{e instanceof Error?(alert(e.message),t.push("/compra")):(l.data=e.data,l.produto_id=e.produto_id,l.pessoa_id=e.pessoa_id,l.quantidade=e.quantidade,l.preco=e.preco)})):a.value?.setData({})}));const n=()=>{d.value=!0,"nova"===r?Rt.cadastrar(l).then((e=>{e instanceof Error?alert(e.message):t.push("/compra")})):Rt.atualizar(r,{id:r,...l}).then((e=>{e instanceof Error?alert(e.message):t.push("/compra")}))};return{formRef:a,formData:l,handleSave:n}}};const sp=(0,v.A)(op,[["render",Qu],["__scopeId","data-v-6f41bb0c"]]);var lp=sp;const dp={class:"flex justify-center items-center text-gray-700 dark:text-white"},np={class:"w-full p-4 sm:p-6 md:p-8 dark:bg-gray-800"},ip=(0,s.Lk)("h5",{class:"text-2xl font-medium text-gray-900 dark:text-white text-center border-b-2 mb-4 pb-2 border-gray-900"}," Compras ",-1),cp={class:"w-auto"},up={class:"flex justify-center"},pp={class:"flex flex-wrap items-center justify-start mb-4"},hp={class:"px-3 mb-6 md:mb-0"},gp=(0,s.Lk)("label",{class:"block uppercase tracking-wide text-xs font-bold mb-2",for:"data"}," Data Inicio ",-1),mp={class:"px-3 mb-6 md:mb-0"},bp=(0,s.Lk)("label",{class:"block uppercase tracking-wide text-xs font-bold mb-2",for:"data_fim"}," Data Fim ",-1),kp={class:"flex flex-wrap items-center justify-between mb-4 pl-4"},yp={class:"mb-4"},fp=(0,s.Lk)("label",{class:"block uppercase tracking-wide text-xs font-bold mb-2"}," Fornecedor ",-1),vp={class:"mb-4"},xp=(0,s.Lk)("label",{class:"block uppercase tracking-wide text-xs font-bold mb-2"}," Produtos ",-1),wp={class:"mb-4"},Lp=(0,s.Lk)("label",{class:"block uppercase tracking-wide text-xs font-bold mb-2"}," Ordenar Data ",-1),Cp=(0,s.Lk)("option",{value:"",selected:""},"Ordenar Data",-1),Pp=(0,s.Lk)("option",{value:"1"},"Crescente",-1),Ap=(0,s.Lk)("option",{value:"0"},"Decrescente",-1),_p=[Cp,Pp,Ap],Ep={class:"mb-4"},Dp=(0,s.Lk)("label",{class:"block uppercase tracking-wide text-xs font-bold mb-2"}," Ordenar Preço ",-1),Fp=(0,s.Lk)("option",{value:"",selected:""},"Ordenar Preço",-1),Sp=(0,s.Lk)("option",{value:"1"},"Crescente",-1),Vp=(0,s.Lk)("option",{value:"0"},"Decrescente",-1),$p=[Fp,Sp,Vp],Bp={class:"mb-4"},Xp=(0,s.Lk)("label",{class:"block uppercase tracking-wide text-xs font-bold mb-2"}," Agrupar Fornecedor ",-1),Op={class:"overflow-x-auto"},Gp={class:"relative shadow-md sm:rounded-lg"},Mp={class:"w-full h-full text-sm text-left rtl:text-right text-gray-500 dark:text-white"},Ip=(0,s.Lk)("thead",{class:"text-xs uppercase bg-gray-50 dark:bg-gray-700 dark:text-white"},[(0,s.Lk)("tr",null,[(0,s.Lk)("th",{scope:"col",class:"px-6 py-3"},"Data"),(0,s.Lk)("th",{scope:"col",class:"px-6 py-3"},"Produto"),(0,s.Lk)("th",{scope:"col",class:"px-6 py-3"},"Fornecedor"),(0,s.Lk)("th",{scope:"col",class:"px-6 py-3"},"Qtd"),(0,s.Lk)("th",{scope:"col",class:"px-6 py-3"},"Preço"),(0,s.Lk)("th",{scope:"col",class:"px-6 py-3"},"Ação")])],-1),Kp={key:0},Tp=(0,s.Lk)("td",{colspan:"5",class:"text-center"}," Nenhum resultado encontrado. ",-1),jp=[Tp],Up={class:"px-6 py-4"},qp={scope:"row",class:"px-6 py-4 font-medium text-gray-900 whitespace-nowrap dark:text-white"},Qp={class:"px-6 py-4"},zp={class:"px-6 py-4"},Rp={class:"px-6 py-4"},Jp={class:"px-6 py-4"},Wp=["onClick"],Np=(0,s.Lk)("i",{class:"text-xl fa-solid fa-eye"},null,-1),Hp=[Np],Yp=["onClick"],Zp=(0,s.Lk)("i",{class:"text-xl fa-solid fa-trash"},null,-1),eh=[Zp],th={class:"flex justify-center mt-4"},ah=["v-html","onClick"];function rh(e,t,a,o,l,d){const n=(0,s.g2)("SelectPessoaComponent"),i=(0,s.g2)("SelectProdutoComponent"),c=(0,s.g2)("DashboardComponent");return(0,s.uX)(),(0,s.Wv)(c,null,{"slot-pages":(0,s.k6)((()=>[(0,s.Lk)("div",dp,[(0,s.Lk)("div",np,[ip,(0,s.Lk)("div",cp,[(0,s.Lk)("div",up,[(0,s.Lk)("button",{type:"submit",class:"w-30 text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center",onClick:t[0]||(t[0]=e=>d.cadastrar())}," Cadastrar ")]),(0,s.Lk)("div",pp,[(0,s.Lk)("div",hp,[gp,(0,s.bo)((0,s.Lk)("input",{"onUpdate:modelValue":t[1]||(t[1]=e=>l.selectedData=e),onInput:t[2]||(t[2]=(...e)=>d.handleFilterChange&&d.handleFilterChange(...e)),class:"py-2 px-3 rounded border mr-4 border-gray-300 shadow-lg bg-gray-200 shadow-indigo-500/40 dark:bg-gray-600 dark:shadow-gray-600/40",type:"date",id:"data"},null,544),[[r.Jo,l.selectedData]])]),(0,s.Lk)("div",mp,[bp,(0,s.bo)((0,s.Lk)("input",{"onUpdate:modelValue":t[3]||(t[3]=e=>l.selectedDateEnd=e),onInput:t[4]||(t[4]=(...e)=>d.handleFilterChange&&d.handleFilterChange(...e)),class:"py-2 px-3 rounded border mr-4 border-gray-300 shadow-lg bg-gray-200 shadow-indigo-500/40 dark:bg-gray-600 dark:shadow-gray-600/40",id:"data_fim",type:"date"},null,544),[[r.Jo,l.selectedDateEnd]])])]),(0,s.Lk)("div",kp,[(0,s.Lk)("div",yp,[fp,(0,s.bF)(n,{onPeopleSelected:d.updateSelectedPeople},null,8,["onPeopleSelected"])]),(0,s.Lk)("div",vp,[xp,(0,s.bF)(i,{onProductSelected:d.updateSelectedProduct},null,8,["onProductSelected"])]),(0,s.Lk)("div",wp,[Lp,(0,s.bo)((0,s.Lk)("select",{"onUpdate:modelValue":t[5]||(t[5]=e=>l.selectedOrdData=e),class:"py-2 px-3 rounded border-2 border-gray-300 mr-4 shadow-lg bg-gray-200 shadow-indigo-500/40 dark:bg-gray-600 dark:shadow-gray-600/40",onChange:t[6]||(t[6]=(...e)=>d.handleFilterChange&&d.handleFilterChange(...e))},_p,544),[[r.u1,l.selectedOrdData]])]),(0,s.Lk)("div",Ep,[Dp,(0,s.bo)((0,s.Lk)("select",{"onUpdate:modelValue":t[7]||(t[7]=e=>l.selectedOrdValor=e),class:"py-2 px-3 rounded border-2 border-gray-300 mr-4 shadow-lg bg-gray-200 shadow-indigo-500/40 dark:bg-gray-600 dark:shadow-gray-600/40",onChange:t[8]||(t[8]=(...e)=>d.handleFilterChange&&d.handleFilterChange(...e))},$p,544),[[r.u1,l.selectedOrdValor]])]),(0,s.Lk)("div",Bp,[Xp,(0,s.bo)((0,s.Lk)("input",{"onUpdate:modelValue":t[9]||(t[9]=e=>l.selectedAgrupar=e),type:"checkbox",class:"py-2 px-3 rounded border-2 border-gray-300 mr-4 shadow-lg bg-gray-200 shadow-indigo-500/40 dark:bg-gray-600 dark:shadow-gray-600/40",onChange:t[10]||(t[10]=(...e)=>d.handleFilterChange&&d.handleFilterChange(...e))},null,544),[[r.lH,l.selectedAgrupar]])])])]),(0,s.Lk)("div",Op,[(0,s.Lk)("div",Gp,[(0,s.Lk)("table",Mp,[Ip,(0,s.Lk)("tbody",null,[l.buy.length?((0,s.uX)(!0),(0,s.CE)(s.FK,{key:1},(0,s.pI)(l.buy,(e=>((0,s.uX)(),(0,s.CE)("tr",{key:e.id,class:"odd:bg-white odd:dark:bg-gray-900 even:bg-gray-50 even:dark:bg-gray-800 border-b dark:border-gray-700"},[(0,s.Lk)("td",Up,(0,L.v_)(e.data?d.formatDate(e.data):"-"),1),(0,s.Lk)("th",qp,(0,L.v_)(e.produto?e.produto.nome:"-"),1),(0,s.Lk)("td",Qp,(0,L.v_)(e.pessoa.nome),1),(0,s.Lk)("td",zp,(0,L.v_)(e.quantidade?e.quantidade:e.total_quantidade),1),(0,s.Lk)("td",Rp,(0,L.v_)(d.formatCurrency(e.preco?e.preco:e.total_preco)),1),(0,s.Lk)("td",Jp,[(0,s.Lk)("a",{onClick:t=>d.editar(e.id),class:"text-blue-600 pr-4 hover:text-white dark:text-white hover:underline hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center"},Hp,8,Wp),(0,s.Lk)("a",{onClick:t=>d.remover(e.id),class:"text-blue-600 hover:text-white dark:text-white hover:underline hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center"},eh,8,Yp)])])))),128)):((0,s.uX)(),(0,s.CE)("tr",Kp,jp))])]),(0,s.Lk)("div",th,[l.arrayPage.length?((0,s.uX)(!0),(0,s.CE)(s.FK,{key:1},(0,s.pI)(l.arrayPage,(e=>((0,s.uX)(),(0,s.CE)("a",{key:e,"v-html":e,onClick:t=>d.handlePage(e),class:"odd:bg-white odd:dark:bg-gray-900 even:bg-gray-50 even:dark:bg-gray-800 border-b dark:border-gray-700 p-4"},(0,L.v_)(e),9,ah)))),128)):((0,s.uX)(),(0,s.CE)(s.FK,{key:0},[],64))])])])])])])),_:1})}var oh={name:"BuyListComponent",components:{DashboardComponent:Pe,SelectPessoaComponent:Hu,SelectProdutoComponent:rp},data(){return{selectedPeople:"",selectedProduct:"",selectedData:"",selectedDateEnd:"",selectedOrdData:"",selectedOrdValor:"",selectedAgrupar:"",handlePages:"",buy:[],arrayPage:[],paginate:{},minSearchLength:3,currentPage:1,itemsPerPage:10}},computed:{},methods:{formatDate(e){const t=new Date(e);return t.toLocaleDateString("pt-BR")},formatCurrency(e){const t=parseInt(e,10);return t.toLocaleString("pt-BR",{style:"currency",currency:"BRL"})},editar(e){this.$router.push(`/compra/detalhes/${e}`)},cadastrar(){this.$router.push("/compra/detalhes/nova")},async remover(e){try{await Rt.remover(e),console.log("Compra removida com sucesso!"),this.getAll()}catch(t){console.error("Erro ao remover compra:",t)}},async getAll(){try{const e=this.buildParams(),t=await Rt.getAll(e);this.$router.push({path:"/compra",query:e}),this.buy=t.data,this.paginate=t.last_page,this.paginate>1&&(this.arrayPage=this.arrayPages(this.paginate))}catch(e){console.error("Erro ao obter compras",e),this.buy=[],this.paginate=[]}},shouldApplyFilter(){return this.selectedPeople||this.selectedProduct||this.selectedData||this.selectedDateEnd||this.selectedOrdData||this.selectedOrdValor||this.selectedAgrupar},buildParams(){const e={};return this.selectedPeople&&(e.pessoa_id=this.selectedPeople),this.selectedProduct&&(e.produto_id=this.selectedProduct),this.selectedData&&(e.data=this.selectedData),this.selectedDateEnd&&(e.data_fim=this.selectedDateEnd),this.selectedOrdData&&(e.ord_data=this.selectedOrdData),this.selectedOrdValor&&(e.ord_valor=this.selectedOrdValor),this.selectedAgrupar&&(e.agrupar_fornecedor=this.selectedAgrupar),this.handlePages&&(e.page=this.handlePages),e},updateSelectedPeople(e){this.selectedPeople=e,this.handleFilterChange()},updateSelectedProduct(e){this.selectedProduct=e,this.handleFilterChange()},handleFilterChange(){this.shouldApplyFilter()?this.currentPage=1:this.getAll()},arrayPages(e){let t=[];for(let a=1;a<=e;a++)t.push(a);return t},handlePage(e){e&&(this.handlePages=e,this.getAll())}},watch:{selectedPeople(){this.shouldApplyFilter()&&this.getAll()},selectedProduct(){this.shouldApplyFilter()&&this.getAll()},selectedData(){this.shouldApplyFilter()&&this.getAll()},selectedDateEnd(){this.shouldApplyFilter()&&this.getAll()},selectedOrdData(){this.shouldApplyFilter()&&this.getAll()},selectedOrdValor(){this.shouldApplyFilter()&&this.getAll()},selectedAgrupar(){this.shouldApplyFilter()&&this.getAll()},currentPage(){this.getAll()}},mounted(){this.getAll()}};const sh=(0,v.A)(oh,[["render",rh]]);var lh=sh;const dh=[{path:"/",name:"login",component:w},{path:"/home",name:"home",component:vl},{path:"/pessoa",name:"pessoaLista",component:sn},{path:"/pessoa/detalhes/:id",name:"pessoaDetalhe",component:sd},{path:"/produto",name:"produtoLista",component:ji},{path:"/produto/detalhes/:id",name:"produtoDetalhe",component:Nn},{path:"/venda",name:"vendaLista",component:Cu},{path:"/venda/detalhes/:id",name:"vendaDetalhe",component:Cc},{path:"/compra",name:"compraLista",component:lh},{path:"/compra/detalhes/:id",name:"compraDetalhe",component:lp}],nh=(0,o.aE)({history:(0,o.Bt)(),routes:dh});var ih=nh;function ch(e,t,a,r,o,l){const d=(0,s.g2)("RouterView");return(0,s.uX)(),(0,s.Wv)(d)}var uh={name:"App",components:{}};const ph=(0,v.A)(uh,[["render",ch]]);var hh=ph;(0,r.Ef)(hh).use(ih).mount("#app")}},t={};function a(r){var o=t[r];if(void 0!==o)return o.exports;var s=t[r]={exports:{}};return e[r].call(s.exports,s,s.exports,a),s.exports}a.m=e,function(){var e=[];a.O=function(t,r,o,s){if(!r){var l=1/0;for(c=0;c<e.length;c++){r=e[c][0],o=e[c][1],s=e[c][2];for(var d=!0,n=0;n<r.length;n++)(!1&s||l>=s)&&Object.keys(a.O).every((function(e){return a.O[e](r[n])}))?r.splice(n--,1):(d=!1,s<l&&(l=s));if(d){e.splice(c--,1);var i=o();void 0!==i&&(t=i)}}return t}s=s||0;for(var c=e.length;c>0&&e[c-1][2]>s;c--)e[c]=e[c-1];e[c]=[r,o,s]}}(),function(){a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,{a:t}),t}}(),function(){a.d=function(e,t){for(var r in t)a.o(t,r)&&!a.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){var e={524:0};a.O.j=function(t){return 0===e[t]};var t=function(t,r){var o,s,l=r[0],d=r[1],n=r[2],i=0;if(l.some((function(t){return 0!==e[t]}))){for(o in d)a.o(d,o)&&(a.m[o]=d[o]);if(n)var c=n(a)}for(t&&t(r);i<l.length;i++)s=l[i],a.o(e,s)&&e[s]&&e[s][0](),e[s]=0;return a.O(c)},r=self["webpackChunkfrontend"]=self["webpackChunkfrontend"]||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))}();var r=a.O(void 0,[504],(function(){return a(8797)}));r=a.O(r)})();
//# sourceMappingURL=app.19c5bf99.js.map